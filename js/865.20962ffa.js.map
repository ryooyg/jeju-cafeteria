{"version":3,"file":"js/865.20962ffa.js","mappings":"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","sources":["webpack://jeju-cafeteria/./src/views/TicketCountView.vue","webpack://jeju-cafeteria/./src/views/TicketCountView.vue?07f8"],"sourcesContent":["<template>\r\n    <div style=\"text-align: center;\" class=\"btile\">\r\n        <h2>오 늘 식 수</h2>\r\n        <h6>( {{ today_s }} )</h6>\r\n    </div>\r\n    <div table-responsive>\r\n        <table class=\"table table-sm table-hover\">\r\n            <thead class=\"thead-dark\">\r\n                <tr>\r\n                    <th scope=\"col\">성   명</th>\r\n                    <th scope=\"col\">계정메일</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"user in this.users\" :key=\"user.uid\">\r\n                    <td scope=\"row\">{{user.username}}</td>\r\n                    <td scope=\"row\">{{user.email}}</td>                    \r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div class=\"mb-3 border bg-warning border-warning rounded p-2\" style=\"--bs-bg-opacity: 0.2\" v-if=\"!!this.message\" >\r\n                {{ this.message }}\r\n    </div>\r\n    <div> <h2>전체식수 : {{this.ticketLength}} / {{usersLength}} 명</h2></div>\r\n    <div class=\"footer\">\r\n        <div class=\"d-flex justify-content-center\">\r\n            <b-button class=\"btn\" variant=\"primary\" to=\"/home\" size=\"lg\" >홈</b-button>\r\n        </div>\r\n    </div> \r\n    <!-- <b-button to=\"/home\" size=\"sm\" variant=\"success\">홈</b-button> -->\r\n    <!-- <div v-for=\"user in this.users\" :key=\"user.id\"> {{ user }}</div>         -->\r\n    \r\n</template>\r\n\r\n<script>\r\nimport {ref} from 'vue';\r\nconst in_ticketLength = ref(0);\r\nconst in_users=ref([]);\r\n\r\nexport default {\r\n    name: \"TicketCount\",\r\n    components: { \r\n        // Header\r\n    },\r\n    data() {\r\n        return{\r\n            ticketLength: in_ticketLength,\r\n            users: in_users,\r\n            message: \"\",\r\n            today_s: \"\",\r\n            usersLength:0,\r\n        }        \r\n    },\r\n    mounted() {\r\n        this.$store.dispatch(\"fetchAlluserList\");\r\n        this.$store.dispatch(\"fetchAllTicketList\");        \r\n        const mydate= new Date();        \r\n        this.today_s = mydate.getFullYear()+'년  '+mydate.getMonth()+'월  '+mydate.getDate()+'일';\r\n    },\r\n    watch:{\r\n        getAllTicketList(val){\r\n            this.ticketLength = val.length;\r\n            \r\n            if ( val.length > 0) {\r\n                let usersArray=[];\r\n                let users = this.$store.state.auth.userList;\r\n                // console.log(users.length);\r\n                // let users = this.getAlluserList();\r\n                this.usersLength =users.length;\r\n                if (users.length<0) {\r\n                    this.$store.dispatch(\"fetchAlluserList\");\r\n                    users = this.$store.state.auth.userList;\r\n                }\r\n                if (users.length>0) {\r\n                    val.forEach( (ticket) =>{\r\n                        var hasname = e => e.uid === ticket.uid;\r\n                        let uname= users.find(hasname);\r\n                        usersArray.push(uname);\r\n                    });\r\n                    this.users = usersArray;\r\n\r\n                }                \r\n            }\r\n        },\r\n        getAlluserList(val) {\r\n            this.userList = val;            \r\n        }\r\n    },\r\n    computed: {\r\n        getAllTicketList() {        \r\n            return this.$store.state.tickets.allticketList;            \r\n        },\r\n        getAlluserList() {\r\n            return this.$store.state.auth.userList;\r\n        },        \r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.footer{\r\n    padding: 30px;\r\n}\r\n.btile{\r\n    padding: 10px;\r\n}\r\n\r\n</style>","import { render } from \"./TicketCountView.vue?vue&type=template&id=22891c21\"\nimport script from \"./TicketCountView.vue?vue&type=script&lang=js\"\nexport * from \"./TicketCountView.vue?vue&type=script&lang=js\"\n\nimport \"./TicketCountView.vue?vue&type=style&index=0&id=22891c21&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","class","_createElementVNode","scope","key","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_toDisplayString","$data","today_s","_hoisted_3","_hoisted_4","_hoisted_5","_renderList","users","user","uid","_hoisted_6","username","_hoisted_7","email","message","_hoisted_8","_createCommentVNode","ticketLength","usersLength","_hoisted_9","_hoisted_10","_createVNode","_component_b_button","variant","to","size","default","_withCtx","_createTextVNode","_","in_ticketLength","ref","in_users","name","components","data","mounted","this","$store","dispatch","mydate","Date","getFullYear","getMonth","getDate","watch","getAllTicketList","val","length","usersArray","state","auth","userList","forEach","ticket","hasname","e","uname","find","push","getAlluserList","computed","tickets","allticketList","__exports__","render"],"sourceRoot":""}