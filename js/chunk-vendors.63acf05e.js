"use strict";(self["webpackChunkjeju_cafeteria"]=self["webpackChunkjeju_cafeteria"]||[]).push([[998],{4444:function(e,t,n){n.d(t,{BH:function(){return b},G6:function(){return C},L:function(){return l},LL:function(){return N},P0:function(){return g},Pz:function(){return y},Sg:function(){return w},ZR:function(){return O},aH:function(){return v},b$:function(){return T},eu:function(){return A},hl:function(){return D},m9:function(){return H},ne:function(){return B},pd:function(){return j},q4:function(){return m},ru:function(){return k},tV:function(){return u},uI:function(){return S},vZ:function(){return M},w1:function(){return E},xO:function(){return R},xb:function(){return V},z$:function(){return _},zd:function(){return U}});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length,a=o?n[e.charAt(i)]:0;++i;const l=i<e.length,u=l?n[e.charAt(i)]:64;++i;const c=i<e.length,d=c?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==u||null==d)throw new s;const h=t<<2|a>>4;if(r.push(h),64!==u){const e=a<<4&240|u>>2;if(r.push(e),64!==d){const e=u<<6&192|d;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){const t=r(e);return o.encodeByteArray(t,!0)},l=function(e){return a(e).replace(/\./g,"")},u=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d=()=>c().__FIREBASE_DEFAULTS__,h=()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",VUE_APP_API_BASE:"https://startling-chimera-5cd156.netlify.app",VUE_APP_FIREBASE_API_KEY:"AIzaSyBPoT9Foryncc0bH8u5g9BQfV0gFV1t6TM",VUE_APP_FIREBASE_APP_ID:"1:770346717100:web:709f8bcb0a7139cd383409",VUE_APP_FIREBASE_AUTH_DOMAIN:"jeju-cafeteria.firebaseapp.com",VUE_APP_FIREBASE_MEASUREMENT_ID:"G-GB9GGC8CPL",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"770346717100",VUE_APP_FIREBASE_PROJECT_ID:"jeju-cafeteria",VUE_APP_FIREBASE_STORAGE_BUCKET:"jeju-cafeteria.appspot.com",BASE_URL:"/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},f=()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&u(e[1]);return t&&JSON.parse(t)},p=()=>{try{return d()||h()||f()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},m=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},g=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},v=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},y=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[l(JSON.stringify(n)),l(JSON.stringify(s)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function S(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function I(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function k(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function E(){const e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return!I()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){try{return"object"===typeof indexedDB}catch(e){return!1}}function A(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const x="FirebaseError";class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=x,Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?P(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`,a=new O(r,s,n);return a}}function P(e,t){return e.replace(F,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}const F=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(L(n)&&L(o)){if(!M(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function R(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function U(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function j(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(e,t){const n=new $(e,t);return n.subscribe.bind(n)}class ${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=z(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function z(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function q(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(e){return e&&e._delegate?e._delegate:e}},5704:function(e,t,n){n.d(t,{fi:function(){return C},kZ:function(){return E}});var r=n(400),i=n(2163),o=n(2057),s=n(2556);function a(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function l(e){return e!==(0,o.Z)(e)&&(0,s.Re)(e)?a(e):(0,i.Z)(e)}var u=n(6333),c=n(4063),d=n(7252),h=n(611),f=n(138);function p(e){var t=e.getBoundingClientRect(),n=(0,f.NM)(t.width)/e.offsetWidth||1,r=(0,f.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function m(e,t,n){void 0===n&&(n=!1);var i=(0,s.Re)(t),o=(0,s.Re)(t)&&p(t),a=(0,d.Z)(t),f=(0,r.Z)(e,o,n),m={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(i||!i&&!n)&&(("body"!==(0,u.Z)(t)||(0,h.Z)(a))&&(m=l(t)),(0,s.Re)(t)?(g=(0,r.Z)(t,!0),g.x+=t.clientLeft,g.y+=t.clientTop):a&&(g.x=(0,c.Z)(a))),{x:f.left+m.scrollLeft-g.x,y:f.top+m.scrollTop-g.y,width:f.width,height:f.height}}var g=n(583),v=n(1492),y=n(8552),b=n(7701);function w(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function _(e){var t=w(e);return b.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function S(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function I(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var k={placement:"bottom",modifiers:[],strategy:"absolute"};function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function E(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?k:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},k,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],l=!1,u={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;d(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:(0,s.kK)(e)?(0,v.Z)(e):e.contextElement?(0,v.Z)(e.contextElement):[],popper:(0,v.Z)(t)};var l=_(I([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),c(),u.update()},forceUpdate:function(){if(!l){var e=i.elements,t=e.reference,n=e.popper;if(T(t,n)){i.rects={reference:m(t,(0,y.Z)(n),"fixed"===i.options.strategy),popper:(0,g.Z)(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,a=o.options,c=void 0===a?{}:a,d=o.name;"function"===typeof s&&(i=s({state:i,options:c,name:d,instance:u})||i)}else i.reset=!1,r=-1}}},update:S((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){d(),l=!0}};if(!T(e,t))return u;function c(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:u,options:r}),l=function(){};a.push(s||l)}}))}function d(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var C=E()},4985:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(2556);function i(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Zq)(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}},400:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(2556),i=n(138),o=n(2057),s=n(7977);function a(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),l=1,u=1;t&&(0,r.Re)(e)&&(l=e.offsetWidth>0&&(0,i.NM)(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&(0,i.NM)(a.height)/e.offsetHeight||1);var c=(0,r.kK)(e)?(0,o.Z)(e):window,d=c.visualViewport,h=!(0,s.Z)()&&n,f=(a.left+(h&&d?d.offsetLeft:0))/l,p=(a.top+(h&&d?d.offsetTop:0))/u,m=a.width/l,g=a.height/u;return{width:m,height:g,top:p,right:f+m,bottom:p+g,left:f,x:f,y:p}}},3062:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(2057);function i(e){return(0,r.Z)(e).getComputedStyle(e)}},7252:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(2556);function i(e){return(((0,r.kK)(e)?e.ownerDocument:e.document)||window.document).documentElement}},583:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(400);function i(e){var t=(0,r.Z)(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}},6333:function(e,t,n){function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:function(){return r}})},8552:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(2057),i=n(6333),o=n(3062),s=n(2556);function a(e){return["table","td","th"].indexOf((0,i.Z)(e))>=0}var l=n(5923),u=n(5918);function c(e){return(0,s.Re)(e)&&"fixed"!==(0,o.Z)(e).position?e.offsetParent:null}function d(e){var t=/firefox/i.test((0,u.Z)()),n=/Trident/i.test((0,u.Z)());if(n&&(0,s.Re)(e)){var r=(0,o.Z)(e);if("fixed"===r.position)return null}var a=(0,l.Z)(e);(0,s.Zq)(a)&&(a=a.host);while((0,s.Re)(a)&&["html","body"].indexOf((0,i.Z)(a))<0){var c=(0,o.Z)(a);if("none"!==c.transform||"none"!==c.perspective||"paint"===c.contain||-1!==["transform","perspective"].indexOf(c.willChange)||t&&"filter"===c.willChange||t&&c.filter&&"none"!==c.filter)return a;a=a.parentNode}return null}function h(e){var t=(0,r.Z)(e),n=c(e);while(n&&a(n)&&"static"===(0,o.Z)(n).position)n=c(n);return n&&("html"===(0,i.Z)(n)||"body"===(0,i.Z)(n)&&"static"===(0,o.Z)(n).position)?t:n||d(e)||t}},5923:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(6333),i=n(7252),o=n(2556);function s(e){return"html"===(0,r.Z)(e)?e:e.assignedSlot||e.parentNode||((0,o.Zq)(e)?e.host:null)||(0,i.Z)(e)}},2057:function(e,t,n){function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{Z:function(){return r}})},2163:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(2057);function i(e){var t=(0,r.Z)(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}},4063:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(400),i=n(7252),o=n(2163);function s(e){return(0,r.Z)((0,i.Z)(e)).left+(0,o.Z)(e).scrollLeft}},2556:function(e,t,n){n.d(t,{Re:function(){return o},Zq:function(){return s},kK:function(){return i}});var r=n(2057);function i(e){var t=(0,r.Z)(e).Element;return e instanceof t||e instanceof Element}function o(e){var t=(0,r.Z)(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function s(e){if("undefined"===typeof ShadowRoot)return!1;var t=(0,r.Z)(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}},7977:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(5918);function i(){return!/^((?!chrome|android).)*safari/i.test((0,r.Z)())}},611:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(3062);function i(e){var t=(0,r.Z)(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}},1492:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(5923),i=n(611),o=n(6333),s=n(2556);function a(e){return["html","body","#document"].indexOf((0,o.Z)(e))>=0?e.ownerDocument.body:(0,s.Re)(e)&&(0,i.Z)(e)?e:a((0,r.Z)(e))}var l=n(2057);function u(e,t){var n;void 0===t&&(t=[]);var o=a(e),s=o===(null==(n=e.ownerDocument)?void 0:n.body),c=(0,l.Z)(o),d=s?[c].concat(c.visualViewport||[],(0,i.Z)(o)?o:[]):o,h=t.concat(d);return s?h:h.concat(u((0,r.Z)(d)))}},7701:function(e,t,n){n.d(t,{BL:function(){return u},Ct:function(){return g},DH:function(){return _},F2:function(){return o},I:function(){return i},MS:function(){return T},N7:function(){return v},Pj:function(){return h},XM:function(){return w},YP:function(){return p},bw:function(){return m},cW:function(){return k},d7:function(){return a},ij:function(){return y},iv:function(){return I},k5:function(){return f},mv:function(){return l},r5:function(){return b},t$:function(){return s},ut:function(){return c},wX:function(){return S},we:function(){return r},xs:function(){return E},zV:function(){return d}});var r="top",i="bottom",o="right",s="left",a="auto",l=[r,i,o,s],u="start",c="end",d="clippingParents",h="viewport",f="popper",p="reference",m=l.reduce((function(e,t){return e.concat([t+"-"+u,t+"-"+c])}),[]),g=[].concat(l,[a]).reduce((function(e,t){return e.concat([t,t+"-"+u,t+"-"+c])}),[]),v="beforeRead",y="read",b="afterRead",w="beforeMain",_="main",S="afterMain",I="beforeWrite",k="write",T="afterWrite",E=[v,y,b,w,_,S,I,k,T]},7824:function(e,t,n){var r=n(6333),i=n(2556);function o(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},s=t.elements[e];(0,i.Re)(s)&&(0,r.Z)(s)&&(Object.assign(s.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))}function s(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],s=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),l=a.reduce((function(e,t){return e[t]="",e}),{});(0,i.Re)(o)&&(0,r.Z)(o)&&(Object.assign(o.style,l),Object.keys(s).forEach((function(e){o.removeAttribute(e)})))}))}}t.Z={name:"applyStyles",enabled:!0,phase:"write",fn:o,effect:s,requires:["computeStyles"]}},6896:function(e,t,n){var r=n(6206),i=n(583),o=n(4985),s=n(8552),a=n(1516),l=n(7516),u=n(3293),c=n(3706),d=n(7701),h=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,u.Z)("number"!==typeof e?e:(0,c.Z)(e,d.mv))};function f(e){var t,n=e.state,o=e.name,u=e.options,c=n.elements.arrow,f=n.modifiersData.popperOffsets,p=(0,r.Z)(n.placement),m=(0,a.Z)(p),g=[d.t$,d.F2].indexOf(p)>=0,v=g?"height":"width";if(c&&f){var y=h(u.padding,n),b=(0,i.Z)(c),w="y"===m?d.we:d.t$,_="y"===m?d.I:d.F2,S=n.rects.reference[v]+n.rects.reference[m]-f[m]-n.rects.popper[v],I=f[m]-n.rects.reference[m],k=(0,s.Z)(c),T=k?"y"===m?k.clientHeight||0:k.clientWidth||0:0,E=S/2-I/2,C=y[w],D=T-b[v]-y[_],A=T/2-b[v]/2+E,x=(0,l.u)(C,A,D),O=m;n.modifiersData[o]=(t={},t[O]=x,t.centerOffset=x-A,t)}}function p(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i),i))&&(0,o.Z)(t.elements.popper,i)&&(t.elements.arrow=i)}t.Z={name:"arrow",enabled:!0,phase:"main",fn:f,effect:p,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},6531:function(e,t,n){var r=n(7701),i=n(8552),o=n(2057),s=n(7252),a=n(3062),l=n(6206),u=n(4943),c=n(138),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:(0,c.NM)(n*i)/i||0,y:(0,c.NM)(r*i)/i||0}}function f(e){var t,n=e.popper,l=e.popperRect,u=e.placement,c=e.variation,f=e.offsets,p=e.position,m=e.gpuAcceleration,g=e.adaptive,v=e.roundOffsets,y=e.isFixed,b=f.x,w=void 0===b?0:b,_=f.y,S=void 0===_?0:_,I="function"===typeof v?v({x:w,y:S}):{x:w,y:S};w=I.x,S=I.y;var k=f.hasOwnProperty("x"),T=f.hasOwnProperty("y"),E=r.t$,C=r.we,D=window;if(g){var A=(0,i.Z)(n),x="clientHeight",O="clientWidth";if(A===(0,o.Z)(n)&&(A=(0,s.Z)(n),"static"!==(0,a.Z)(A).position&&"absolute"===p&&(x="scrollHeight",O="scrollWidth")),u===r.we||(u===r.t$||u===r.F2)&&c===r.ut){C=r.I;var N=y&&A===D&&D.visualViewport?D.visualViewport.height:A[x];S-=N-l.height,S*=m?1:-1}if(u===r.t$||(u===r.we||u===r.I)&&c===r.ut){E=r.F2;var P=y&&A===D&&D.visualViewport?D.visualViewport.width:A[O];w-=P-l.width,w*=m?1:-1}}var F,V=Object.assign({position:p},g&&d),M=!0===v?h({x:w,y:S},(0,o.Z)(n)):{x:w,y:S};return w=M.x,S=M.y,m?Object.assign({},V,(F={},F[C]=T?"0":"",F[E]=k?"0":"",F.transform=(D.devicePixelRatio||1)<=1?"translate("+w+"px, "+S+"px)":"translate3d("+w+"px, "+S+"px, 0)",F)):Object.assign({},V,(t={},t[C]=T?S+"px":"",t[E]=k?w+"px":"",t.transform="",t))}function p(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,d={placement:(0,l.Z)(t.placement),variation:(0,u.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,f(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,f(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}t.Z={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:p,data:{}}},2372:function(e,t,n){var r=n(2057),i={passive:!0};function o(e){var t=e.state,n=e.instance,o=e.options,s=o.scroll,a=void 0===s||s,l=o.resize,u=void 0===l||l,c=(0,r.Z)(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach((function(e){e.addEventListener("scroll",n.update,i)})),u&&c.addEventListener("resize",n.update,i),function(){a&&d.forEach((function(e){e.removeEventListener("scroll",n.update,i)})),u&&c.removeEventListener("resize",n.update,i)}}t.Z={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:o,data:{}}},8855:function(e,t,n){n.d(t,{Z:function(){return p}});var r={left:"right",right:"left",bottom:"top",top:"bottom"};function i(e){return e.replace(/left|right|bottom|top/g,(function(e){return r[e]}))}var o=n(6206),s={start:"end",end:"start"};function a(e){return e.replace(/start|end/g,(function(e){return s[e]}))}var l=n(6486),u=n(4943),c=n(7701);function d(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,d=n.flipVariations,h=n.allowedAutoPlacements,f=void 0===h?c.Ct:h,p=(0,u.Z)(r),m=p?d?c.bw:c.bw.filter((function(e){return(0,u.Z)(e)===p})):c.mv,g=m.filter((function(e){return f.indexOf(e)>=0}));0===g.length&&(g=m);var v=g.reduce((function(t,n){return t[n]=(0,l.Z)(e,{placement:n,boundary:i,rootBoundary:s,padding:a})[(0,o.Z)(n)],t}),{});return Object.keys(v).sort((function(e,t){return v[e]-v[t]}))}function h(e){if((0,o.Z)(e)===c.d7)return[];var t=i(e);return[a(e),t,a(t)]}function f(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,a=void 0===s||s,f=n.altAxis,p=void 0===f||f,m=n.fallbackPlacements,g=n.padding,v=n.boundary,y=n.rootBoundary,b=n.altBoundary,w=n.flipVariations,_=void 0===w||w,S=n.allowedAutoPlacements,I=t.options.placement,k=(0,o.Z)(I),T=k===I,E=m||(T||!_?[i(I)]:h(I)),C=[I].concat(E).reduce((function(e,n){return e.concat((0,o.Z)(n)===c.d7?d(t,{placement:n,boundary:v,rootBoundary:y,padding:g,flipVariations:_,allowedAutoPlacements:S}):n)}),[]),D=t.rects.reference,A=t.rects.popper,x=new Map,O=!0,N=C[0],P=0;P<C.length;P++){var F=C[P],V=(0,o.Z)(F),M=(0,u.Z)(F)===c.BL,L=[c.we,c.I].indexOf(V)>=0,R=L?"width":"height",U=(0,l.Z)(t,{placement:F,boundary:v,rootBoundary:y,altBoundary:b,padding:g}),j=L?M?c.F2:c.t$:M?c.I:c.we;D[R]>A[R]&&(j=i(j));var B=i(j),$=[];if(a&&$.push(U[V]<=0),p&&$.push(U[j]<=0,U[B]<=0),$.every((function(e){return e}))){N=F,O=!1;break}x.set(F,$)}if(O)for(var z=_?3:1,q=function(e){var t=C.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return N=t,"break"},H=z;H>0;H--){var W=q(H);if("break"===W)break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}var p={name:"flip",enabled:!0,phase:"main",fn:f,requiresIfExists:["offset"],data:{_skip:!1}}},9892:function(e,t,n){var r=n(7701),i=n(6486);function o(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function s(e){return[r.we,r.F2,r.I,r.t$].some((function(t){return e[t]>=0}))}function a(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,l=t.modifiersData.preventOverflow,u=(0,i.Z)(t,{elementContext:"reference"}),c=(0,i.Z)(t,{altBoundary:!0}),d=o(u,r),h=o(c,a,l),f=s(d),p=s(h);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}t.Z={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:a}},2122:function(e,t,n){var r=n(6206),i=n(7701);function o(e,t,n){var o=(0,r.Z)(e),s=[i.t$,i.we].indexOf(o)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,l=a[0],u=a[1];return l=l||0,u=(u||0)*s,[i.t$,i.F2].indexOf(o)>=0?{x:u,y:l}:{x:l,y:u}}function s(e){var t=e.state,n=e.options,r=e.name,s=n.offset,a=void 0===s?[0,0]:s,l=i.Ct.reduce((function(e,n){return e[n]=o(n,t.rects,a),e}),{}),u=l[t.placement],c=u.x,d=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=l}t.Z={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s}},7421:function(e,t,n){var r=n(2581);function i(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,r.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}t.Z={name:"popperOffsets",enabled:!0,phase:"read",fn:i,data:{}}},394:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(7701),i=n(6206),o=n(1516);function s(e){return"x"===e?"y":"x"}var a=n(7516),l=n(583),u=n(8552),c=n(6486),d=n(4943),h=n(3607),f=n(138);function p(e){var t=e.state,n=e.options,p=e.name,m=n.mainAxis,g=void 0===m||m,v=n.altAxis,y=void 0!==v&&v,b=n.boundary,w=n.rootBoundary,_=n.altBoundary,S=n.padding,I=n.tether,k=void 0===I||I,T=n.tetherOffset,E=void 0===T?0:T,C=(0,c.Z)(t,{boundary:b,rootBoundary:w,padding:S,altBoundary:_}),D=(0,i.Z)(t.placement),A=(0,d.Z)(t.placement),x=!A,O=(0,o.Z)(D),N=s(O),P=t.modifiersData.popperOffsets,F=t.rects.reference,V=t.rects.popper,M="function"===typeof E?E(Object.assign({},t.rects,{placement:t.placement})):E,L="number"===typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(P){if(g){var j,B="y"===O?r.we:r.t$,$="y"===O?r.I:r.F2,z="y"===O?"height":"width",q=P[O],H=q+C[B],W=q-C[$],Y=k?-V[z]/2:0,G=A===r.BL?F[z]:V[z],K=A===r.BL?-V[z]:-F[z],Z=t.elements.arrow,Q=k&&Z?(0,l.Z)(Z):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,h.Z)(),X=J[B],ee=J[$],te=(0,a.u)(0,F[z],Q[z]),ne=x?F[z]/2-Y-te-X-L.mainAxis:G-te-X-L.mainAxis,re=x?-F[z]/2+Y+te+ee+L.mainAxis:K+te+ee+L.mainAxis,ie=t.elements.arrow&&(0,u.Z)(t.elements.arrow),oe=ie?"y"===O?ie.clientTop||0:ie.clientLeft||0:0,se=null!=(j=null==R?void 0:R[O])?j:0,ae=q+ne-se-oe,le=q+re-se,ue=(0,a.u)(k?(0,f.VV)(H,ae):H,q,k?(0,f.Fp)(W,le):W);P[O]=ue,U[O]=ue-q}if(y){var ce,de="x"===O?r.we:r.t$,he="x"===O?r.I:r.F2,fe=P[N],pe="y"===N?"height":"width",me=fe+C[de],ge=fe-C[he],ve=-1!==[r.we,r.t$].indexOf(D),ye=null!=(ce=null==R?void 0:R[N])?ce:0,be=ve?me:fe-F[pe]-V[pe]-ye+L.altAxis,we=ve?fe+F[pe]+V[pe]-ye-L.altAxis:ge,_e=k&&ve?(0,a.q)(be,fe,we):(0,a.u)(k?be:me,fe,k?we:ge);P[N]=_e,U[N]=_e-fe}t.modifiersData[p]=U}}var m={name:"preventOverflow",enabled:!0,phase:"main",fn:p,requiresIfExists:["offset"]}},804:function(e,t,n){n.d(t,{fi:function(){return p}});var r=n(5704),i=n(2372),o=n(7421),s=n(6531),a=n(7824),l=n(2122),u=n(8855),c=n(394),d=n(6896),h=n(9892),f=[i.Z,o.Z,s.Z,a.Z,l.Z,u.Z,c.Z,d.Z,h.Z],p=(0,r.kZ)({defaultModifiers:f})},2581:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(6206),i=n(4943),o=n(1516),s=n(7701);function a(e){var t,n=e.reference,a=e.element,l=e.placement,u=l?(0,r.Z)(l):null,c=l?(0,i.Z)(l):null,d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2;switch(u){case s.we:t={x:d,y:n.y-a.height};break;case s.I:t={x:d,y:n.y+n.height};break;case s.F2:t={x:n.x+n.width,y:h};break;case s.t$:t={x:n.x-a.width,y:h};break;default:t={x:n.x,y:n.y}}var f=u?(0,o.Z)(u):null;if(null!=f){var p="y"===f?"height":"width";switch(c){case s.BL:t[f]=t[f]-(n[p]/2-a[p]/2);break;case s.ut:t[f]=t[f]+(n[p]/2-a[p]/2);break;default:}}return t}},6486:function(e,t,n){n.d(t,{Z:function(){return D}});var r=n(7701),i=n(2057),o=n(7252),s=n(4063),a=n(7977);function l(e,t){var n=(0,i.Z)(e),r=(0,o.Z)(e),l=n.visualViewport,u=r.clientWidth,c=r.clientHeight,d=0,h=0;if(l){u=l.width,c=l.height;var f=(0,a.Z)();(f||!f&&"fixed"===t)&&(d=l.offsetLeft,h=l.offsetTop)}return{width:u,height:c,x:d+(0,s.Z)(e),y:h}}var u=n(3062),c=n(2163),d=n(138);function h(e){var t,n=(0,o.Z)(e),r=(0,c.Z)(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=(0,d.Fp)(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=(0,d.Fp)(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-r.scrollLeft+(0,s.Z)(e),f=-r.scrollTop;return"rtl"===(0,u.Z)(i||n).direction&&(h+=(0,d.Fp)(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:h,y:f}}var f=n(1492),p=n(8552),m=n(2556),g=n(400),v=n(5923),y=n(4985),b=n(6333);function w(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _(e,t){var n=(0,g.Z)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function S(e,t,n){return t===r.Pj?w(l(e,n)):(0,m.kK)(t)?_(t,n):w(h((0,o.Z)(e)))}function I(e){var t=(0,f.Z)((0,v.Z)(e)),n=["absolute","fixed"].indexOf((0,u.Z)(e).position)>=0,r=n&&(0,m.Re)(e)?(0,p.Z)(e):e;return(0,m.kK)(r)?t.filter((function(e){return(0,m.kK)(e)&&(0,y.Z)(e,r)&&"body"!==(0,b.Z)(e)})):[]}function k(e,t,n,r){var i="clippingParents"===t?I(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=S(e,n,r);return t.top=(0,d.Fp)(i.top,t.top),t.right=(0,d.VV)(i.right,t.right),t.bottom=(0,d.VV)(i.bottom,t.bottom),t.left=(0,d.Fp)(i.left,t.left),t}),S(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var T=n(2581),E=n(3293),C=n(3706);function D(e,t){void 0===t&&(t={});var n=t,i=n.placement,s=void 0===i?e.placement:i,a=n.strategy,l=void 0===a?e.strategy:a,u=n.boundary,c=void 0===u?r.zV:u,d=n.rootBoundary,h=void 0===d?r.Pj:d,f=n.elementContext,p=void 0===f?r.k5:f,v=n.altBoundary,y=void 0!==v&&v,b=n.padding,_=void 0===b?0:b,S=(0,E.Z)("number"!==typeof _?_:(0,C.Z)(_,r.mv)),I=p===r.k5?r.YP:r.k5,D=e.rects.popper,A=e.elements[y?I:p],x=k((0,m.kK)(A)?A:A.contextElement||(0,o.Z)(e.elements.popper),c,h,l),O=(0,g.Z)(e.elements.reference),N=(0,T.Z)({reference:O,element:D,strategy:"absolute",placement:s}),P=w(Object.assign({},D,N)),F=p===r.k5?P:O,V={top:x.top-F.top+S.top,bottom:F.bottom-x.bottom+S.bottom,left:x.left-F.left+S.left,right:F.right-x.right+S.right},M=e.modifiersData.offset;if(p===r.k5&&M){var L=M[s];Object.keys(V).forEach((function(e){var t=[r.F2,r.I].indexOf(e)>=0?1:-1,n=[r.we,r.I].indexOf(e)>=0?"y":"x";V[e]+=L[n]*t}))}return V}},3706:function(e,t,n){function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:function(){return r}})},6206:function(e,t,n){function r(e){return e.split("-")[0]}n.d(t,{Z:function(){return r}})},3607:function(e,t,n){function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:function(){return r}})},1516:function(e,t,n){function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:function(){return r}})},4943:function(e,t,n){function r(e){return e.split("-")[1]}n.d(t,{Z:function(){return r}})},138:function(e,t,n){n.d(t,{Fp:function(){return r},NM:function(){return o},VV:function(){return i}});var r=Math.max,i=Math.min,o=Math.round},3293:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(3607);function i(e){return Object.assign({},(0,r.Z)(),e)}},5918:function(e,t,n){function r(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{Z:function(){return r}})},7516:function(e,t,n){n.d(t,{q:function(){return o},u:function(){return i}});var r=n(138);function i(e,t,n){return(0,r.Fp)(e,(0,r.VV)(t,n))}function o(e,t,n){var r=i(e,t,n);return r>n?n:r}},5689:function(e,t,n){function r(){return i().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}n.d(t,{F1:function(){return f}});const o="function"===typeof Proxy,s="devtools-plugin:setup",a="plugin:settings:set";let l,u;function c(){var e;return void 0!==l||("undefined"!==typeof window&&window.performance?(l=!0,u=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(l=!0,u=n.g.perf_hooks.performance):l=!1),l}function d(){return c()?u.now():Date.now()}class h{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const s in e.settings){const t=e.settings[s];n[s]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(o){}i=e},now(){return d()}},t&&t.on(a,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function f(e,t){const n=e,a=i(),l=r(),u=o&&n.enableEarlyProxy;if(!l||!a.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&u){const e=u?new h(n,l):null,r=a.__VUE_DEVTOOLS_PLUGINS__=a.__VUE_DEVTOOLS_PLUGINS__||[];r.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else l.emit(s,e,t)}},2262:function(e,t,n){n.d(t,{B:function(){return a},BK:function(){return ze},Bj:function(){return s},EB:function(){return c},Fl:function(){return Oe},IU:function(){return Ee},Jd:function(){return b},OT:function(){return we},PG:function(){return Se},SU:function(){return Ue},Tn:function(){return je},Um:function(){return be},Vh:function(){return We},WL:function(){return $e},X$:function(){return N},X3:function(){return Te},XI:function(){return Me},Xl:function(){return Ce},dq:function(){return Fe},iH:function(){return Ve},j:function(){return O},lk:function(){return w},nZ:function(){return u},qj:function(){return ye},qq:function(){return d},yT:function(){return ke}});var r=n(3577);
/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let i,o;class s{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function a(e){return new s(e)}function l(e,t=i){t&&t.active&&t.effects.push(e)}function u(){return i}function c(e){i&&i.cleanups.push(e)}class d{constructor(e,t,n,r){this.fn=e,this.trigger=t,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,l(this,r)}get dirty(){if(1===this._dirtyLevel){b();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(h(t.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),w()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=g,t=o;try{return g=!0,o=this,this._runnings++,f(this),this.fn()}finally{p(this),this._runnings--,o=t,g=e}}stop(){var e;this.active&&(f(this),p(this),null==(e=this.onStop)||e.call(this),this.active=!1)}}function h(e){return e.value}function f(e){e._trackId++,e._depsLength=0}function p(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)m(e.deps[t],e);e.deps.length=e._depsLength}}function m(e,t){const n=e.get(t);void 0!==n&&t._trackId!==n&&(e.delete(t),0===e.size&&e.cleanup())}let g=!0,v=0;const y=[];function b(){y.push(g),g=!1}function w(){const e=y.pop();g=void 0===e||e}function _(){v++}function S(){v--;while(!v&&k.length)k.shift()()}function I(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&m(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const k=[];function T(e,t,n){_();for(const r of e.keys())if(r._dirtyLevel<t&&e.get(r)===r._trackId){const e=r._dirtyLevel;r._dirtyLevel=t,0===e&&(r._shouldSchedule=!0,r.trigger())}E(e),S()}function E(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,k.push(t.scheduler))}const C=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},D=new WeakMap,A=Symbol(""),x=Symbol("");function O(e,t,n){if(g&&o){let t=D.get(e);t||D.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=C((()=>t.delete(n)))),I(o,r,void 0)}}function N(e,t,n,i,o,s){const a=D.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===n&&(0,r.kJ)(e)){const e=Number(i);a.forEach(((t,n)=>{("length"===n||!(0,r.yk)(n)&&n>=e)&&l.push(t)}))}else switch(void 0!==n&&l.push(a.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&l.push(a.get("length")):(l.push(a.get(A)),(0,r._N)(e)&&l.push(a.get(x)));break;case"delete":(0,r.kJ)(e)||(l.push(a.get(A)),(0,r._N)(e)&&l.push(a.get(x)));break;case"set":(0,r._N)(e)&&l.push(a.get(A));break}_();for(const r of l)r&&T(r,2,void 0);S()}function P(e,t){var n;return null==(n=D.get(e))?void 0:n.get(t)}const F=(0,r.fY)("__proto__,__v_isRef,__isVue"),V=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),M=L();function L(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Ee(this);for(let t=0,i=this.length;t<i;t++)O(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Ee)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){b(),_();const n=Ee(this)[t].apply(this,e);return S(),w(),n}})),e}function R(e){const t=Ee(this);return O(t,"has",e),t.hasOwnProperty(e)}class U{constructor(e=!1,t=!1){this._isReadonly=e,this._shallow=t}get(e,t,n){const i=this._isReadonly,o=this._shallow;if("__v_isReactive"===t)return!i;if("__v_isReadonly"===t)return i;if("__v_isShallow"===t)return o;if("__v_raw"===t)return n===(i?o?me:pe:o?fe:he).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=(0,r.kJ)(e);if(!i){if(s&&(0,r.RI)(M,t))return Reflect.get(M,t,n);if("hasOwnProperty"===t)return R}const a=Reflect.get(e,t,n);return((0,r.yk)(t)?V.has(t):F(t))?a:(i||O(e,"get",t),o?a:Fe(a)?s&&(0,r.S0)(t)?a:a.value:(0,r.Kn)(a)?i?we(a):ye(a):a)}}class j extends U{constructor(e=!1){super(!1,e)}set(e,t,n,i){let o=e[t];if(!this._shallow){const t=Ie(o);if(ke(n)||Ie(n)||(o=Ee(o),n=Ee(n)),!(0,r.kJ)(e)&&Fe(o)&&!Fe(n))return!t&&(o.value=n,!0)}const s=(0,r.kJ)(e)&&(0,r.S0)(t)?Number(t)<e.length:(0,r.RI)(e,t),a=Reflect.set(e,t,n,i);return e===Ee(i)&&(s?(0,r.aU)(n,o)&&N(e,"set",t,n,o):N(e,"add",t,n)),a}deleteProperty(e,t){const n=(0,r.RI)(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&N(e,"delete",t,void 0,i),o}has(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&V.has(t)||O(e,"has",t),n}ownKeys(e){return O(e,"iterate",(0,r.kJ)(e)?"length":A),Reflect.ownKeys(e)}}class B extends U{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const $=new j,z=new B,q=new j(!0),H=e=>e,W=e=>Reflect.getPrototypeOf(e);function Y(e,t,n=!1,i=!1){e=e["__v_raw"];const o=Ee(e),s=Ee(t);n||((0,r.aU)(t,s)&&O(o,"get",t),O(o,"get",s));const{has:a}=W(o),l=i?H:n?Ae:De;return a.call(o,t)?l(e.get(t)):a.call(o,s)?l(e.get(s)):void(e!==o&&e.get(t))}function G(e,t=!1){const n=this["__v_raw"],i=Ee(n),o=Ee(e);return t||((0,r.aU)(e,o)&&O(i,"has",e),O(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function K(e,t=!1){return e=e["__v_raw"],!t&&O(Ee(e),"iterate",A),Reflect.get(e,"size",e)}function Z(e){e=Ee(e);const t=Ee(this),n=W(t),r=n.has.call(t,e);return r||(t.add(e),N(t,"add",e,e)),this}function Q(e,t){t=Ee(t);const n=Ee(this),{has:i,get:o}=W(n);let s=i.call(n,e);s||(e=Ee(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?(0,r.aU)(t,a)&&N(n,"set",e,t,a):N(n,"add",e,t),this}function J(e){const t=Ee(this),{has:n,get:r}=W(t);let i=n.call(t,e);i||(e=Ee(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&N(t,"delete",e,void 0,o),s}function X(){const e=Ee(this),t=0!==e.size,n=void 0,r=e.clear();return t&&N(e,"clear",void 0,void 0,n),r}function ee(e,t){return function(n,r){const i=this,o=i["__v_raw"],s=Ee(o),a=t?H:e?Ae:De;return!e&&O(s,"iterate",A),o.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function te(e,t,n){return function(...i){const o=this["__v_raw"],s=Ee(o),a=(0,r._N)(s),l="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=o[e](...i),d=n?H:t?Ae:De;return!t&&O(s,"iterate",u?x:A),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ne(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function re(){const e={get(e){return Y(this,e)},get size(){return K(this)},has:G,add:Z,set:Q,delete:J,clear:X,forEach:ee(!1,!1)},t={get(e){return Y(this,e,!1,!0)},get size(){return K(this)},has:G,add:Z,set:Q,delete:J,clear:X,forEach:ee(!1,!0)},n={get(e){return Y(this,e,!0)},get size(){return K(this,!0)},has(e){return G.call(this,e,!0)},add:ne("add"),set:ne("set"),delete:ne("delete"),clear:ne("clear"),forEach:ee(!0,!1)},r={get(e){return Y(this,e,!0,!0)},get size(){return K(this,!0)},has(e){return G.call(this,e,!0)},add:ne("add"),set:ne("set"),delete:ne("delete"),clear:ne("clear"),forEach:ee(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=te(i,!1,!1),n[i]=te(i,!0,!1),t[i]=te(i,!1,!0),r[i]=te(i,!0,!0)})),[e,n,t,r]}const[ie,oe,se,ae]=re();function le(e,t){const n=t?e?ae:se:e?oe:ie;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,o)}const ue={get:le(!1,!1)},ce={get:le(!1,!0)},de={get:le(!0,!1)};const he=new WeakMap,fe=new WeakMap,pe=new WeakMap,me=new WeakMap;function ge(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ve(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ge((0,r.W7)(e))}function ye(e){return Ie(e)?e:_e(e,!1,$,ue,he)}function be(e){return _e(e,!1,q,ce,fe)}function we(e){return _e(e,!0,z,de,pe)}function _e(e,t,n,i,o){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=o.get(e);if(s)return s;const a=ve(e);if(0===a)return e;const l=new Proxy(e,2===a?i:n);return o.set(e,l),l}function Se(e){return Ie(e)?Se(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ie(e){return!(!e||!e["__v_isReadonly"])}function ke(e){return!(!e||!e["__v_isShallow"])}function Te(e){return Se(e)||Ie(e)}function Ee(e){const t=e&&e["__v_raw"];return t?Ee(t):e}function Ce(e){return(0,r.Nj)(e,"__v_skip",!0),e}const De=e=>(0,r.Kn)(e)?ye(e):e,Ae=e=>(0,r.Kn)(e)?we(e):e;class xe{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new d((()=>e(this._value)),(()=>Pe(this,1)),(()=>this.dep&&E(this.dep))),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Ee(this);return e._cacheable&&!e.effect.dirty||(0,r.aU)(e._value,e._value=e.effect.run())&&Pe(e,2),Ne(e),e.effect._dirtyLevel>=1&&Pe(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Oe(e,t,n=!1){let i,o;const s=(0,r.mf)(e);s?(i=e,o=r.dG):(i=e.get,o=e.set);const a=new xe(i,o,s||!o,n);return a}function Ne(e){g&&o&&(e=Ee(e),I(o,e.dep||(e.dep=C((()=>e.dep=void 0),e instanceof xe?e:void 0)),void 0))}function Pe(e,t=2,n){e=Ee(e);const r=e.dep;r&&T(r,t,void 0)}function Fe(e){return!(!e||!0!==e.__v_isRef)}function Ve(e){return Le(e,!1)}function Me(e){return Le(e,!0)}function Le(e,t){return Fe(e)?e:new Re(e,t)}class Re{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ee(e),this._value=t?e:De(e)}get value(){return Ne(this),this._value}set value(e){const t=this.__v_isShallow||ke(e)||Ie(e);e=t?e:Ee(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:De(e),Pe(this,2,e))}}function Ue(e){return Fe(e)?e.value:e}function je(e){return(0,r.mf)(e)?e():Ue(e)}const Be={get:(e,t,n)=>Ue(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Fe(i)&&!Fe(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function $e(e){return Se(e)?e:new Proxy(e,Be)}function ze(e){const t=(0,r.kJ)(e)?new Array(e.length):{};for(const n in e)t[n]=Ye(e,n);return t}class qe{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return P(Ee(this._object),this._key)}}class He{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function We(e,t,n){return Fe(e)?e:(0,r.mf)(e)?new He(e):(0,r.Kn)(e)&&arguments.length>1?Ye(e,t,n):Ve(e)}function Ye(e,t,n){const r=e[t];return Fe(r)?r:new qe(e,t,n)}},6252:function(e,t,n){n.d(t,{$d:function(){return s},Ah:function(){return Be},Cn:function(){return M},F4:function(){return On},FN:function(){return qn},Fl:function(){return lr},HY:function(){return cn},JJ:function(){return kt},Jd:function(){return je},Ko:function(){return We},LL:function(){return G},Nv:function(){return Ye},P$:function(){return ve},Q2:function(){return K},Q6:function(){return Ie},Rr:function(){return tt},U2:function(){return be},Uk:function(){return Pn},Us:function(){return Ht},WI:function(){return Ge},Wm:function(){return An},Y3:function(){return y},Y8:function(){return fe},YP:function(){return ie},_:function(){return Dn},aZ:function(){return ke},bv:function(){return Le},dD:function(){return V},dG:function(){return Rn},dl:function(){return De},f3:function(){return Tt},h:function(){return ur},iD:function(){return _n},ic:function(){return Ue},j4:function(){return Sn},kq:function(){return Fn},l1:function(){return nt},lR:function(){return ln},m0:function(){return ne},mx:function(){return Ze},nJ:function(){return me},nK:function(){return Se},sv:function(){return hn},up:function(){return W},w5:function(){return L},wg:function(){return gn},wy:function(){return ue}});var r=n(2262),i=n(3577);function o(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){a(o,t,n)}return i}function s(e,t,n,r){if((0,i.mf)(e)){const s=o(e,t,n,r);return s&&(0,i.tI)(s)&&s.catch((e=>{a(e,t,n)})),s}const l=[];for(let i=0;i<e.length;i++)l.push(s(e[i],t,n,r));return l}function a(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,s))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void o(a,null,10,[e,i,s])}l(e,n,i,r)}function l(e,t,n,r=!0){console.error(e)}let u=!1,c=!1;const d=[];let h=0;const f=[];let p=null,m=0;const g=Promise.resolve();let v=null;function y(e){const t=v||g;return e?t.then(this?e.bind(this):e):t}function b(e){let t=h+1,n=d.length;while(t<n){const r=t+n>>>1,i=d[r],o=E(i);o<e||o===e&&i.pre?t=r+1:n=r}return t}function w(e){d.length&&d.includes(e,u&&e.allowRecurse?h+1:h)||(null==e.id?d.push(e):d.splice(b(e.id),0,e),_())}function _(){u||c||(c=!0,v=g.then(D))}function S(e){const t=d.indexOf(e);t>h&&d.splice(t,1)}function I(e){(0,i.kJ)(e)?f.push(...e):p&&p.includes(e,e.allowRecurse?m+1:m)||f.push(e),_()}function k(e,t,n=(u?h+1:0)){for(0;n<d.length;n++){const t=d[n];if(t&&t.pre){if(e&&t.id!==e.uid)continue;0,d.splice(n,1),n--,t()}}}function T(e){if(f.length){const e=[...new Set(f)].sort(((e,t)=>E(e)-E(t)));if(f.length=0,p)return void p.push(...e);for(p=e,m=0;m<p.length;m++)p[m]();p=null,m=0}}const E=e=>null==e.id?1/0:e.id,C=(e,t)=>{const n=E(e)-E(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function D(e){c=!1,u=!0,d.sort(C);i.dG;try{for(h=0;h<d.length;h++){const e=d[h];e&&!1!==e.active&&o(e,null,14)}}finally{h=0,d.length=0,T(e),u=!1,v=null,(d.length||f.length)&&D(e)}}function A(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.kT;let o=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in r){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:s}=r[e]||i.kT;s&&(o=n.map((e=>(0,i.HD)(e)?e.trim():e))),t&&(o=n.map(i.h5))}let u;let c=r[u=(0,i.hR)(t)]||r[u=(0,i.hR)((0,i._A)(t))];!c&&a&&(c=r[u=(0,i.hR)((0,i.rs)(t))]),c&&s(c,e,6,o);const d=r[u+"Once"];if(d){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,s(d,e,6,o)}}function x(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const s=e.emits;let a={},l=!1;if(!(0,i.mf)(e)){const r=e=>{const n=x(e,t,!0);n&&(l=!0,(0,i.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return s||l?((0,i.kJ)(s)?s.forEach((e=>a[e]=null)):(0,i.l7)(a,s),(0,i.Kn)(e)&&r.set(e,a),a):((0,i.Kn)(e)&&r.set(e,null),null)}function O(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let N=null,P=null;function F(e){const t=N;return N=e,P=e&&e.type.__scopeId||null,t}function V(e){P=e}function M(){P=null}function L(e,t=N,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&bn(-1);const i=F(t);let o;try{o=e(...n)}finally{F(i),r._d&&bn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function R(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[l],slots:u,attrs:c,emit:d,render:h,renderCache:f,data:p,setupState:m,ctx:g,inheritAttrs:v}=e;let y,b;const w=F(e);try{if(4&n.shapeFlag){const e=o||r,t=e;y=Vn(h.call(t,e,f,s,m,p,g)),b=c}else{const e=t;0,y=Vn(e.length>1?e(s,{attrs:c,slots:u,emit:d}):e(s,null)),b=t.props?c:U(c)}}catch(S){pn.length=0,a(S,e,1),y=An(hn)}let _=y;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=_;e.length&&7&t&&(l&&e.some(i.tR)&&(b=j(b,l)),_=Nn(_,b))}return n.dirs&&(_=Nn(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,F(w),y}const U=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},j=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function B(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||$(r,s,u):!!s);if(1024&l)return!0;if(16&l)return r?$(r,s,u):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!O(u,n))return!0}}return!1}function $(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!O(n,o))return!0}return!1}function z({vnode:e,parent:t},n){while(t){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const q="components",H="directives";function W(e,t){return Z(q,e,!0,t)||e}const Y=Symbol.for("v-ndc");function G(e){return(0,i.HD)(e)?Z(q,e,!1)||e:e||Y}function K(e){return Z(H,e)}function Z(e,t,n=!0,r=!1){const o=N||zn;if(o){const n=o.type;if(e===q){const e=sr(n,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const s=Q(o[e]||n[e],t)||Q(o.appContext[e],t);return!s&&r?n:s}}function Q(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}const J=e=>e.__isSuspense;function X(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):I(e)}const ee=Symbol.for("v-scx"),te=()=>{{const e=Tt(ee);return e}};function ne(e,t){return oe(e,null,t)}const re={};function ie(e,t,n){return oe(e,t,n)}function oe(e,t,{immediate:n,deep:a,flush:l,once:u,onTrack:c,onTrigger:d}=i.kT){if(t&&u){const e=t;t=(...t)=>{e(...t),E()}}const h=zn,f=e=>!0===a?e:le(e,!1===a?1:void 0);let p,m,g=!1,v=!1;if((0,r.dq)(e)?(p=()=>e.value,g=(0,r.yT)(e)):(0,r.PG)(e)?(p=()=>f(e),g=!0):(0,i.kJ)(e)?(v=!0,g=e.some((e=>(0,r.PG)(e)||(0,r.yT)(e))),p=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?f(e):(0,i.mf)(e)?o(e,h,2):void 0))):p=(0,i.mf)(e)?t?()=>o(e,h,2):()=>(m&&m(),s(e,h,3,[b])):i.dG,t&&a){const e=p;p=()=>le(e())}let y,b=e=>{m=k.onStop=()=>{o(e,h,4),m=k.onStop=void 0}};if(Jn){if(b=i.dG,t?n&&s(t,h,3,[p(),v?[]:void 0,b]):p(),"sync"!==l)return i.dG;{const e=te();y=e.__watcherHandles||(e.__watcherHandles=[])}}let _=v?new Array(e.length).fill(re):re;const S=()=>{if(k.active&&k.dirty)if(t){const e=k.run();(a||g||(v?e.some(((e,t)=>(0,i.aU)(e,_[t]))):(0,i.aU)(e,_)))&&(m&&m(),s(t,h,3,[e,_===re?void 0:v&&_[0]===re?[]:_,b]),_=e)}else k.run()};let I;S.allowRecurse=!!t,"sync"===l?I=S:"post"===l?I=()=>qt(S,h&&h.suspense):(S.pre=!0,h&&(S.id=h.uid),I=()=>w(S));const k=new r.qq(p,i.dG,I),T=(0,r.nZ)(),E=()=>{k.stop(),T&&(0,i.Od)(T.effects,k)};return t?n?S():_=k.run():"post"===l?qt(k.run.bind(k),h&&h.suspense):k.run(),y&&y.push(E),E}function se(e,t,n){const r=this.proxy,o=(0,i.HD)(e)?e.includes(".")?ae(r,e):()=>r[e]:e.bind(r,r);let s;(0,i.mf)(t)?s=t:(s=t.handler,n=t);const a=Yn(this),l=oe(o,s.bind(r),n);return a(),l}function ae(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function le(e,t,n=0,o){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t&&t>0){if(n>=t)return e;n++}if(o=o||new Set,o.has(e))return e;if(o.add(e),(0,r.dq)(e))le(e.value,t,n,o);else if((0,i.kJ)(e))for(let r=0;r<e.length;r++)le(e[r],t,n,o);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{le(e,t,n,o)}));else if((0,i.PO)(e))for(const r in e)le(e[r],t,n,o);return e}function ue(e,t){if(null===N)return e;const n=or(N)||N.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,s,a,l=i.kT]=t[o];e&&((0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&le(s),r.push({dir:e,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function ce(e,t,n,i){const o=e.dirs,a=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];a&&(u.oldValue=a[l].value);let c=u.dir[i];c&&((0,r.Jd)(),s(c,n,8,[e.el,u,e,t]),(0,r.lk)())}}const de=Symbol("_leaveCb"),he=Symbol("_enterCb");function fe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Le((()=>{e.isMounted=!0})),je((()=>{e.isUnmounting=!0})),e}const pe=[Function,Array],me={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pe,onEnter:pe,onAfterEnter:pe,onEnterCancelled:pe,onBeforeLeave:pe,onLeave:pe,onAfterLeave:pe,onLeaveCancelled:pe,onBeforeAppear:pe,onAppear:pe,onAfterAppear:pe,onAppearCancelled:pe},ge={name:"BaseTransition",props:me,setup(e,{slots:t}){const n=qn(),i=fe();let o;return()=>{const s=t.default&&Ie(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==hn){0,a=t,e=!0;break}}const l=(0,r.IU)(e),{mode:u}=l;if(i.isLeaving)return we(a);const c=_e(a);if(!c)return we(a);const d=be(c,l,i,n);Se(c,d);const h=n.subTree,f=h&&_e(h);let p=!1;const{getTransitionKey:m}=c.type;if(m){const e=m();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(f&&f.type!==hn&&(!kn(c,f)||p)){const e=be(f,l,i,n);if(Se(f,e),"out-in"===u)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},we(a);"in-out"===u&&c.type!==hn&&(e.delayLeave=(e,t,n)=>{const r=ye(i,f);r[String(f.key)]=f,e[de]=()=>{t(),e[de]=void 0,delete d.delayedLeave},d.delayedLeave=n})}return a}}},ve=ge;function ye(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function be(e,t,n,r){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,_=String(e.key),S=ye(n,e),I=(e,t)=>{e&&s(e,r,9,t)},k=(e,t)=>{const n=t[1];I(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},T={mode:a,persisted:l,beforeEnter(t){let r=u;if(!n.isMounted){if(!o)return;r=v||u}t[de]&&t[de](!0);const i=S[_];i&&kn(e,i)&&i.el[de]&&i.el[de](),I(r,[t])},enter(e){let t=c,r=d,i=h;if(!n.isMounted){if(!o)return;t=y||c,r=b||d,i=w||h}let s=!1;const a=e[he]=t=>{s||(s=!0,I(t?i:r,[e]),T.delayedLeave&&T.delayedLeave(),e[he]=void 0)};t?k(t,[e,a]):a()},leave(t,r){const i=String(e.key);if(t[he]&&t[he](!0),n.isUnmounting)return r();I(f,[t]);let o=!1;const s=t[de]=n=>{o||(o=!0,r(),I(n?g:m,[t]),t[de]=void 0,S[i]===e&&delete S[i])};S[i]=e,p?k(p,[t,s]):s()},clone(e){return be(e,t,n,r)}};return T}function we(e){if(Ee(e))return e=Nn(e),e.children=null,e}function _e(e){return Ee(e)?e.children?e.children[0]:void 0:e}function Se(e,t){6&e.shapeFlag&&e.component?Se(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ie(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===cn?(128&s.patchFlag&&i++,r=r.concat(Ie(s.children,t,a))):(t||s.type!==hn)&&r.push(null!=a?Nn(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function ke(e,t){return(0,i.mf)(e)?(()=>(0,i.l7)({name:e.name},t,{setup:e}))():e}const Te=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Ee=e=>e.type.__isKeepAlive;RegExp,RegExp;function Ce(e,t){return(0,i.kJ)(e)?e.some((e=>Ce(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!(0,i.Kj)(e)&&e.test(t)}function De(e,t){xe(e,"a",t)}function Ae(e,t){xe(e,"da",t)}function xe(e,t,n=zn){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Fe(t,r,n),n){let e=n.parent;while(e&&e.parent)Ee(e.parent.vnode)&&Oe(r,t,n,e),e=e.parent}}function Oe(e,t,n,r){const o=Fe(t,e,r,!0);Be((()=>{(0,i.Od)(r[t],o)}),n)}function Ne(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Pe(e){return 128&e.shapeFlag?e.ssContent:e}function Fe(e,t,n=zn,i=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)();const o=Yn(n),a=s(t,n,e,i);return o(),(0,r.lk)(),a});return i?o.unshift(a):o.push(a),a}}const Ve=e=>(t,n=zn)=>(!Jn||"sp"===e)&&Fe(e,((...e)=>t(...e)),n),Me=Ve("bm"),Le=Ve("m"),Re=Ve("bu"),Ue=Ve("u"),je=Ve("bum"),Be=Ve("um"),$e=Ve("sp"),ze=Ve("rtg"),qe=Ve("rtc");function He(e,t=zn){Fe("ec",e,t)}function We(e,t,n,r){let o;const s=n&&n[r];if((0,i.kJ)(e)||(0,i.HD)(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,s&&s[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,s&&s[n])}else if((0,i.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,s&&s[r])}}else o=[];return n&&(n[r]=o),o}function Ye(e,t){for(let n=0;n<t.length;n++){const r=t[n];if((0,i.kJ)(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function Ge(e,t,n={},r,i){if(N.isCE||N.parent&&Te(N.parent)&&N.parent.isCE)return"default"!==t&&(n.name=t),An("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),gn();const s=o&&Ke(o(n)),a=Sn(cn,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&1===e._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Ke(e){return e.some((e=>!In(e)||e.type!==hn&&!(e.type===cn&&!Ke(e.children))))?e:null}function Ze(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:(0,i.hR)(r)]=e[r];return n}const Qe=e=>e?Kn(e)?or(e)||e.proxy:Qe(e.parent):null,Je=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Qe(e.parent),$root:e=>Qe(e.root),$emit:e=>e.emit,$options:e=>ct(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,w(e.update)}),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>se.bind(e)}),Xe=(e,t)=>e!==i.kT&&!e.__isScriptSetup&&(0,i.RI)(e,t),et={get({_:e},t){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:u,appContext:c}=e;let d;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(Xe(o,t))return l[t]=1,o[t];if(s!==i.kT&&(0,i.RI)(s,t))return l[t]=2,s[t];if((d=e.propsOptions[0])&&(0,i.RI)(d,t))return l[t]=3,a[t];if(n!==i.kT&&(0,i.RI)(n,t))return l[t]=4,n[t];ot&&(l[t]=0)}}const h=Je[t];let f,p;return h?("$attrs"===t&&(0,r.j)(e,"get",t),h(e)):(f=u.__cssModules)&&(f=f[t])?f:n!==i.kT&&(0,i.RI)(n,t)?(l[t]=4,n[t]):(p=c.config.globalProperties,(0,i.RI)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Xe(o,t)?(o[t]=n,!0):r!==i.kT&&(0,i.RI)(r,t)?(r[t]=n,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==i.kT&&(0,i.RI)(e,a)||Xe(t,a)||(l=s[0])&&(0,i.RI)(l,a)||(0,i.RI)(r,a)||(0,i.RI)(Je,a)||(0,i.RI)(o.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function tt(){return rt().slots}function nt(){return rt().attrs}function rt(){const e=qn();return e.setupContext||(e.setupContext=ir(e))}function it(e){return(0,i.kJ)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let ot=!0;function st(e){const t=ct(e),n=e.proxy,o=e.ctx;ot=!1,t.beforeCreate&&lt(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:u,provide:c,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:S,render:I,renderTracked:k,renderTriggered:T,errorCaptured:E,serverPrefetch:C,expose:D,inheritAttrs:A,components:x,directives:O,filters:N}=t,P=null;if(d&&at(d,o,P),l)for(const r in l){const e=l[r];(0,i.mf)(e)&&(o[r]=e.bind(n))}if(s){0;const t=s.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(ot=!0,a)for(const r in a){const e=a[r],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const s=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,l=lr({get:t,set:s});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const r in u)ut(u[r],o,n,r);if(c){const e=(0,i.mf)(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{kt(t,e[t])}))}function F(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&lt(h,e,"c"),F(Me,f),F(Le,p),F(Re,m),F(Ue,g),F(De,v),F(Ae,y),F(He,E),F(qe,k),F(ze,T),F(je,w),F(Be,S),F($e,C),(0,i.kJ)(D))if(D.length){const t=e.exposed||(e.exposed={});D.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});I&&e.render===i.dG&&(e.render=I),null!=A&&(e.inheritAttrs=A),x&&(e.components=x),O&&(e.directives=O)}function at(e,t,n=i.dG){(0,i.kJ)(e)&&(e=mt(e));for(const o in e){const n=e[o];let s;s=(0,i.Kn)(n)?"default"in n?Tt(n.from||o,n.default,!0):Tt(n.from||o):Tt(n),(0,r.dq)(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[o]=s}}function lt(e,t,n){s((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function ut(e,t,n,r){const o=r.includes(".")?ae(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&ie(o,n)}else if((0,i.mf)(e))ie(o,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>ut(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&ie(o,r,e)}else 0}function ct(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let u;return l?u=l:o.length||n||r?(u={},o.length&&o.forEach((e=>dt(u,e,a,!0))),dt(u,t,a)):u=t,(0,i.Kn)(t)&&s.set(t,u),u}function dt(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&dt(e,o,n,!0),i&&i.forEach((t=>dt(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=ht[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const ht={data:ft,props:yt,emits:yt,methods:vt,computed:vt,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:vt,directives:vt,watch:bt,provide:ft,inject:pt};function ft(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function pt(e,t){return vt(mt(e),mt(t))}function mt(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gt(e,t){return e?[...new Set([].concat(e,t))]:t}function vt(e,t){return e?(0,i.l7)(Object.create(null),e,t):t}function yt(e,t){return e?(0,i.kJ)(e)&&(0,i.kJ)(t)?[...new Set([...e,...t])]:(0,i.l7)(Object.create(null),it(e),it(null!=t?t:{})):t}function bt(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=gt(e[r],t[r]);return n}function wt(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _t=0;function St(e,t){return function(n,r=null){(0,i.mf)(n)||(n=(0,i.l7)({},n)),null==r||(0,i.Kn)(r)||(r=null);const o=wt(),s=new WeakSet;let a=!1;const l=o.app={_uid:_t++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:cr,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,i.mf)(e.install)?(s.add(e),e.install(l,...t)):(0,i.mf)(e)&&(s.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(i,s,u){if(!a){0;const c=An(n,r);return c.appContext=o,!0===u?u="svg":!1===u&&(u=void 0),s&&t?t(c,i):e(c,i,u),a=!0,l._container=i,i.__vue_app__=l,or(c.component)||c.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l},runWithContext(e){It=l;try{return e()}finally{It=null}}};return l}}let It=null;function kt(e,t){if(zn){let n=zn.provides;const r=zn.parent&&zn.parent.provides;r===n&&(n=zn.provides=Object.create(r)),n[e]=t}else 0}function Tt(e,t,n=!1){const r=zn||N;if(r||It){const o=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:It._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r&&r.proxy):t}else 0}function Et(e,t,n,o=!1){const s={},a={};(0,i.Nj)(a,Tn,1),e.propsDefaults=Object.create(null),Dt(e,t,s,a);for(const r in e.propsOptions[0])r in s||(s[r]=void 0);n?e.props=o?s:(0,r.Um)(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function Ct(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,u=(0,r.IU)(s),[c]=e.propsOptions;let d=!1;if(!(o||l>0)||16&l){let r;Dt(e,t,s,a)&&(d=!0);for(const o in u)t&&((0,i.RI)(t,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(t,r))||(c?!n||void 0===n[o]&&void 0===n[r]||(s[o]=At(c,u,o,void 0,e,!0)):delete s[o]);if(a!==u)for(const e in a)t&&(0,i.RI)(t,e)||(delete a[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(O(e.emitsOptions,o))continue;const l=t[o];if(c)if((0,i.RI)(a,o))l!==a[o]&&(a[o]=l,d=!0);else{const t=(0,i._A)(o);s[t]=At(c,u,t,l,e,!1)}else l!==a[o]&&(a[o]=l,d=!0)}}d&&(0,r.X$)(e,"set","$attrs")}function Dt(e,t,n,o){const[s,a]=e.propsOptions;let l,u=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const c=t[r];let d;s&&(0,i.RI)(s,d=(0,i._A)(r))?a&&a.includes(d)?(l||(l={}))[d]=c:n[d]=c:O(e.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,u=!0)}if(a){const t=(0,r.IU)(n),o=l||i.kT;for(let r=0;r<a.length;r++){const l=a[r];n[l]=At(s,t,l,o[l],e,!(0,i.RI)(o,l))}}return u}function At(e,t,n,r,o,s){const a=e[n];if(null!=a){const e=(0,i.RI)(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&!a.skipFactory&&(0,i.mf)(e)){const{propsDefaults:i}=o;if(n in i)r=i[n];else{const s=Yn(o);r=i[n]=e.call(null,t),s()}}else r=e}a[0]&&(s&&!e?r=!1:!a[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function xt(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},l=[];let u=!1;if(!(0,i.mf)(e)){const r=e=>{u=!0;const[n,r]=xt(e,t,!0);(0,i.l7)(a,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!s&&!u)return(0,i.Kn)(e)&&r.set(e,i.Z6),i.Z6;if((0,i.kJ)(s))for(let d=0;d<s.length;d++){0;const e=(0,i._A)(s[d]);Ot(e)&&(a[e]=i.kT)}else if(s){0;for(const e in s){const t=(0,i._A)(e);if(Ot(t)){const n=s[e],r=a[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:(0,i.l7)({},n);if(r){const e=Ft(Boolean,r.type),n=Ft(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&l.push(t)}}}}const c=[a,l];return(0,i.Kn)(e)&&r.set(e,c),c}function Ot(e){return"$"!==e[0]}function Nt(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Pt(e,t){return Nt(e)===Nt(t)}function Ft(e,t){return(0,i.kJ)(t)?t.findIndex((t=>Pt(t,e))):(0,i.mf)(t)&&Pt(t,e)?0:-1}const Vt=e=>"_"===e[0]||"$stable"===e,Mt=e=>(0,i.kJ)(e)?e.map(Vn):[Vn(e)],Lt=(e,t,n)=>{if(t._n)return t;const r=L(((...e)=>Mt(t(...e))),n);return r._c=!1,r},Rt=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Vt(o))continue;const n=e[o];if((0,i.mf)(n))t[o]=Lt(o,n,r);else if(null!=n){0;const e=Mt(n);t[o]=()=>e}}},Ut=(e,t)=>{const n=Mt(t);e.slots.default=()=>n},jt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):Rt(t,e.slots={})}else e.slots={},t&&Ut(e,t);(0,i.Nj)(e.slots,Tn,1)},Bt=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?s=!1:((0,i.l7)(o,t),n||1!==e||delete o._):(s=!t.$stable,Rt(t,o)),a=t}else t&&(Ut(e,t),a={default:1});if(s)for(const i in o)Vt(i)||null!=a[i]||delete o[i]};function $t(e,t,n,s,a=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>$t(e,t&&((0,i.kJ)(t)?t[r]:t),n,s,a)));if(Te(s)&&!a)return;const l=4&s.shapeFlag?or(s.component)||s.component.proxy:s.el,u=a?null:l,{i:c,r:d}=e;const h=t&&t.r,f=c.refs===i.kT?c.refs={}:c.refs,p=c.setupState;if(null!=h&&h!==d&&((0,i.HD)(h)?(f[h]=null,(0,i.RI)(p,h)&&(p[h]=null)):(0,r.dq)(h)&&(h.value=null)),(0,i.mf)(d))o(d,c,12,[u,f]);else{const t=(0,i.HD)(d),o=(0,r.dq)(d),s=e.f;if(t||o){const r=()=>{if(s){const n=t?(0,i.RI)(p,d)?p[d]:f[d]:d.value;a?(0,i.kJ)(n)&&(0,i.Od)(n,l):(0,i.kJ)(n)?n.includes(l)||n.push(l):t?(f[d]=[l],(0,i.RI)(p,d)&&(p[d]=f[d])):(d.value=[l],e.k&&(f[e.k]=d.value))}else t?(f[d]=u,(0,i.RI)(p,d)&&(p[d]=u)):o&&(d.value=u,e.k&&(f[e.k]=u))};a||s?r():(r.id=-1,qt(r,n))}else 0}}function zt(){}const qt=X;function Ht(e){return Wt(e)}function Wt(e,t){zt();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:u,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=i.dG,insertStaticContent:g}=e,v=(e,t,n,r=null,i=null,o=null,s=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!kn(e,t)&&(r=J(e),Y(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case dn:y(e,t,n,r);break;case hn:b(e,t,n,r);break;case fn:null==e&&_(t,n,r,s);break;case cn:F(e,t,n,r,i,o,s,a,l);break;default:1&d?C(e,t,n,r,i,o,s,a,l):6&d?V(e,t,n,r,i,o,s,a,l):(64&d||128&d)&&u.process(e,t,n,r,i,o,s,a,l,te)}null!=c&&i&&$t(c,e&&e.ref,o,t||e,!t)},y=(e,t,n,r)=>{if(null==e)o(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},b=(e,t,n,r)=>{null==e?o(t.el=c(t.children||""),n,r):t.el=e.el},_=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},I=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),o(e,n,r),e=i;o(t,n,r)},E=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),s(e),e=n;s(t)},C=(e,t,n,r,i,o,s,a,l)=>{"svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e?D(t,n,r,i,o,s,a,l):O(e,t,i,o,s,a,l)},D=(e,t,n,r,s,u,c,d)=>{let f,p;const{props:m,shapeFlag:g,transition:v,dirs:y}=e;if(f=e.el=l(e.type,u,m&&m.is,m),8&g?h(f,e.children):16&g&&x(e.children,f,null,r,s,Yt(e,u),c,d),y&&ce(e,null,r,"created"),A(f,e,e.scopeId,c,r),m){for(const t in m)"value"===t||(0,i.Gg)(t)||a(f,t,null,m[t],u,e.children,r,s,Q);"value"in m&&a(f,"value",null,m.value,u),(p=m.onVnodeBeforeMount)&&Un(p,r,e)}y&&ce(e,null,r,"beforeMount");const b=Kt(s,v);b&&v.beforeEnter(f),o(f,t,n),((p=m&&m.onVnodeMounted)||b||y)&&qt((()=>{p&&Un(p,r,e),b&&v.enter(f),y&&ce(e,null,r,"mounted")}),s)},A=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let o=0;o<r.length;o++)m(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;A(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},x=(e,t,n,r,i,o,s,a,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=a?Mn(e[u]):Vn(e[u]);v(null,l,t,n,r,i,o,s,a)}},O=(e,t,n,r,o,s,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:f}=t;c|=16&e.patchFlag;const p=e.props||i.kT,m=t.props||i.kT;let g;if(n&&Gt(n,!1),(g=m.onVnodeBeforeUpdate)&&Un(g,n,t,e),f&&ce(t,e,n,"beforeUpdate"),n&&Gt(n,!0),d?N(e.dynamicChildren,d,u,n,r,Yt(t,o),s):l||$(e,t,u,null,n,r,Yt(t,o),s,!1),c>0){if(16&c)P(u,t,p,m,n,r,o);else if(2&c&&p.class!==m.class&&a(u,"class",null,m.class,o),4&c&&a(u,"style",p.style,m.style,o),8&c){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const s=i[t],l=p[s],c=m[s];c===l&&"value"!==s||a(u,s,l,c,o,e.children,n,r,Q)}}1&c&&e.children!==t.children&&h(u,t.children)}else l||null!=d||P(u,t,p,m,n,r,o);((g=m.onVnodeUpdated)||f)&&qt((()=>{g&&Un(g,n,t,e),f&&ce(t,e,n,"updated")}),r)},N=(e,t,n,r,i,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],u=t[a],c=l.el&&(l.type===cn||!kn(l,u)||70&l.shapeFlag)?f(l.el):n;v(l,u,c,null,r,i,o,s,!0)}},P=(e,t,n,r,o,s,l)=>{if(n!==r){if(n!==i.kT)for(const u in n)(0,i.Gg)(u)||u in r||a(e,u,n[u],null,l,t.children,o,s,Q);for(const u in r){if((0,i.Gg)(u))continue;const c=r[u],d=n[u];c!==d&&"value"!==u&&a(e,u,d,c,l,t.children,o,s,Q)}"value"in r&&a(e,"value",n.value,r.value,l)}},F=(e,t,n,r,i,s,a,l,c)=>{const d=t.el=e?e.el:u(""),h=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(o(d,n,r),o(h,n,r),x(t.children||[],n,h,i,s,a,l,c)):f>0&&64&f&&p&&e.dynamicChildren?(N(e.dynamicChildren,p,n,i,s,a,l),(null!=t.key||i&&t===i.subTree)&&Zt(e,t,!0)):$(e,t,n,h,i,s,a,l,c)},V=(e,t,n,r,i,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,l):M(t,n,r,i,o,s,l):L(e,t,l)},M=(e,t,n,r,i,o,s)=>{const a=e.component=$n(e,r,i);if(Ee(e)&&(a.ctx.renderer=te),Xn(a),a.asyncDep){if(i&&i.registerDep(a,U),!e.el){const e=a.subTree=An(hn);b(null,e,t,n)}}else U(a,e,t,n,i,o,s)},L=(e,t,n)=>{const r=t.component=e.component;if(B(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void j(r,t,n);r.next=t,S(r.update),r.effect.dirty=!0,r.update()}else t.el=e.el,r.vnode=t},U=(e,t,n,o,s,a,l)=>{const u=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:o,vnode:c}=e;{const n=Jt(e);if(n)return t&&(t.el=c.el,j(e,t,l)),void n.asyncDep.then((()=>{e.isUnmounted||u()}))}let d,h=t;0,Gt(e,!1),t?(t.el=c.el,j(e,t,l)):t=c,n&&(0,i.ir)(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&Un(d,o,t,c),Gt(e,!0);const p=R(e);0;const m=e.subTree;e.subTree=p,v(m,p,f(m.el),J(m),e,s,a),t.el=p.el,null===h&&z(e,p.el),r&&qt(r,s),(d=t.props&&t.props.onVnodeUpdated)&&qt((()=>Un(d,o,t,c)),s)}else{let r;const{el:l,props:u}=t,{bm:c,m:d,parent:h}=e,f=Te(t);if(Gt(e,!1),c&&(0,i.ir)(c),!f&&(r=u&&u.onVnodeBeforeMount)&&Un(r,h,t),Gt(e,!0),l&&re){const n=()=>{e.subTree=R(e),re(l,e.subTree,e,s,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=R(e);0,v(null,r,n,o,e,s,a),t.el=r.el}if(d&&qt(d,s),!f&&(r=u&&u.onVnodeMounted)){const e=t;qt((()=>Un(r,h,e)),s)}(256&t.shapeFlag||h&&Te(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&qt(e.a,s),e.isMounted=!0,t=n=o=null}},c=e.effect=new r.qq(u,i.dG,(()=>w(d)),e.scope),d=e.update=()=>{c.dirty&&c.run()};d.id=e.uid,Gt(e,!0),d()},j=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,Ct(e,t.props,i,n),Bt(e,t.children,n),(0,r.Jd)(),k(e),(0,r.lk)()},$=(e,t,n,r,i,o,s,a,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void H(u,d,n,r,i,o,s,a,l);if(256&f)return void q(u,d,n,r,i,o,s,a,l)}8&p?(16&c&&Q(u,i,o),d!==u&&h(n,d)):16&c?16&p?H(u,d,n,r,i,o,s,a,l):Q(u,i,o,!0):(8&c&&h(n,""),16&p&&x(d,n,r,i,o,s,a,l))},q=(e,t,n,r,o,s,a,l,u)=>{e=e||i.Z6,t=t||i.Z6;const c=e.length,d=t.length,h=Math.min(c,d);let f;for(f=0;f<h;f++){const r=t[f]=u?Mn(t[f]):Vn(t[f]);v(e[f],r,n,null,o,s,a,l,u)}c>d?Q(e,o,s,!0,!1,h):x(t,n,r,o,s,a,l,u,h)},H=(e,t,n,r,o,s,a,l,u)=>{let c=0;const d=t.length;let h=e.length-1,f=d-1;while(c<=h&&c<=f){const r=e[c],i=t[c]=u?Mn(t[c]):Vn(t[c]);if(!kn(r,i))break;v(r,i,n,null,o,s,a,l,u),c++}while(c<=h&&c<=f){const r=e[h],i=t[f]=u?Mn(t[f]):Vn(t[f]);if(!kn(r,i))break;v(r,i,n,null,o,s,a,l,u),h--,f--}if(c>h){if(c<=f){const e=f+1,i=e<d?t[e].el:r;while(c<=f)v(null,t[c]=u?Mn(t[c]):Vn(t[c]),n,i,o,s,a,l,u),c++}}else if(c>f)while(c<=h)Y(e[c],o,s,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=f;c++){const e=t[c]=u?Mn(t[c]):Vn(t[c]);null!=e.key&&g.set(e.key,c)}let y,b=0;const w=f-m+1;let _=!1,S=0;const I=new Array(w);for(c=0;c<w;c++)I[c]=0;for(c=p;c<=h;c++){const r=e[c];if(b>=w){Y(r,o,s,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(y=m;y<=f;y++)if(0===I[y-m]&&kn(r,t[y])){i=y;break}void 0===i?Y(r,o,s,!0):(I[i-m]=c+1,i>=S?S=i:_=!0,v(r,t[i],n,null,o,s,a,l,u),b++)}const k=_?Qt(I):i.Z6;for(y=k.length-1,c=w-1;c>=0;c--){const e=m+c,i=t[e],h=e+1<d?t[e+1].el:r;0===I[c]?v(null,i,n,h,o,s,a,l,u):_&&(y<0||c!==k[y]?W(i,n,h,2):y--)}}},W=(e,t,n,r,i=null)=>{const{el:s,type:a,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void W(e.component.subTree,t,n,r);if(128&c)return void e.suspense.move(t,n,r);if(64&c)return void a.move(e,t,n,te);if(a===cn){o(s,t,n);for(let e=0;e<u.length;e++)W(u[e],t,n,r);return void o(e.anchor,t,n)}if(a===fn)return void I(e,t,n);const d=2!==r&&1&c&&l;if(d)if(0===r)l.beforeEnter(s),o(s,t,n),qt((()=>l.enter(s)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,a=()=>o(s,t,n),u=()=>{e(s,(()=>{a(),i&&i()}))};r?r(s,a,u):u()}else o(s,t,n)},Y=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:h}=e;if(null!=a&&$t(a,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const f=1&c&&h,p=!Te(e);let m;if(p&&(m=s&&s.onVnodeBeforeUnmount)&&Un(m,t,e),6&c)Z(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);f&&ce(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,i,te,r):u&&(o!==cn||d>0&&64&d)?Q(u,t,n,!1,!0):(o===cn&&384&d||!i&&16&c)&&Q(l,t,n),r&&G(e)}(p&&(m=s&&s.onVnodeUnmounted)||f)&&qt((()=>{m&&Un(m,t,e),f&&ce(e,null,t,"unmounted")}),n)},G=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===cn)return void K(n,r);if(t===fn)return void E(e);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,s=()=>t(n,o);r?r(e.el,o,s):s()}else o()},K=(e,t)=>{let n;while(e!==t)n=p(e),s(e),e=n;s(t)},Z=(e,t,n)=>{const{bum:r,scope:o,update:s,subTree:a,um:l}=e;r&&(0,i.ir)(r),o.stop(),s&&(s.active=!1,Y(a,e,t,n)),l&&qt(l,t),qt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Q=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)Y(e[s],t,n,r,i)},J=e=>6&e.shapeFlag?J(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el);let X=!1;const ee=(e,t,n)=>{null==e?t._vnode&&Y(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),X||(X=!0,k(),T(),X=!1),t._vnode=e},te={p:v,um:Y,m:W,r:G,mt:M,mc:x,pc:$,pbc:N,n:J,o:e};let ne,re;return t&&([ne,re]=t(te)),{render:ee,hydrate:ne,createApp:St(ee,ne)}}function Yt({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Gt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Kt(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zt(e,t,n=!1){const r=e.children,o=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Mn(o[i]),t.el=e.el),n||Zt(e,t)),t.type===dn&&(t.el=e.el)}}function Qt(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}function Jt(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Jt(t)}const Xt=e=>e.__isTeleport,en=e=>e&&(e.disabled||""===e.disabled),tn=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,nn=e=>"function"===typeof MathMLElement&&e instanceof MathMLElement,rn=(e,t)=>{const n=e&&e.to;if((0,i.HD)(n)){if(t){const e=t(n);return e}return null}return n},on={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:g}}=u,v=en(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(null==e){const e=t.el=m(""),u=t.anchor=m("");f(e,n,r),f(u,n,r);const d=t.target=rn(t.props,p),h=t.targetAnchor=m("");d&&(f(h,d),"svg"===s||tn(d)?s="svg":("mathml"===s||nn(d))&&(s="mathml"));const g=(e,t)=>{16&y&&c(b,e,t,i,o,s,a,l)};v?g(n,u):d&&g(d,h)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,f=t.targetAnchor=e.targetAnchor,m=en(e.props),g=m?n:c,y=m?r:f;if("svg"===s||tn(c)?s="svg":("mathml"===s||nn(c))&&(s="mathml"),w?(h(e.dynamicChildren,w,g,i,o,s,a),Zt(e,t,!0)):l||d(e,t,g,y,i,o,s,a,!1),v)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):sn(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=rn(t.props,p);e&&sn(t,e,null,u,0)}else m&&sn(t,c,f,u,1)}un(t)},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=e;if(d&&o(c),s&&o(u),16&a){const e=s||!en(h);for(let r=0;r<l.length;r++){const o=l[r];i(o,t,n,e,!!o.dynamicChildren)}}},move:sn,hydrate:an};function sn(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=e,d=2===o;if(d&&r(s,t,n),(!d||en(c))&&16&l)for(let h=0;h<u.length;h++)i(u[h],t,n,2);d&&r(a,t,n)}function an(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=t.target=rn(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(en(t.props))t.anchor=u(s(e),t,a(e),n,r,i,o),t.targetAnchor=l;else{t.anchor=s(e);let a=l;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,c._lpa=t.targetAnchor&&s(t.targetAnchor);break}u(l,t,c,n,r,i,o)}un(t)}return t.anchor&&s(t.anchor)}const ln=on;function un(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;while(n&&n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const cn=Symbol.for("v-fgt"),dn=Symbol.for("v-txt"),hn=Symbol.for("v-cmt"),fn=Symbol.for("v-stc"),pn=[];let mn=null;function gn(e=!1){pn.push(mn=e?null:[])}function vn(){pn.pop(),mn=pn[pn.length-1]||null}let yn=1;function bn(e){yn+=e}function wn(e){return e.dynamicChildren=yn>0?mn||i.Z6:null,vn(),yn>0&&mn&&mn.push(e),e}function _n(e,t,n,r,i,o){return wn(Dn(e,t,n,r,i,o,!0))}function Sn(e,t,n,r,i){return wn(An(e,t,n,r,i,!0))}function In(e){return!!e&&!0===e.__v_isVNode}function kn(e,t){return e.type===t.type&&e.key===t.key}const Tn="__vInternal",En=({key:e})=>null!=e?e:null,Cn=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:N,r:e,k:t,f:!!n}:e:null);function Dn(e,t=null,n=null,r=0,o=null,s=(e===cn?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&En(t),ref:t&&Cn(t),scopeId:P,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:N};return l?(Ln(u,n),128&s&&e.normalize(u)):n&&(u.shapeFlag|=(0,i.HD)(n)?8:16),yn>0&&!a&&mn&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&mn.push(u),u}const An=xn;function xn(e,t=null,n=null,o=0,s=null,a=!1){if(e&&e!==Y||(e=hn),In(e)){const r=Nn(e,t,!0);return n&&Ln(r,n),yn>0&&!a&&mn&&(6&r.shapeFlag?mn[mn.indexOf(e)]=r:mn.push(r)),r.patchFlag|=-2,r}if(ar(e)&&(e=e.__vccOpts),t){t=On(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const l=(0,i.HD)(e)?1:J(e)?128:Xt(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return Dn(e,t,n,o,s,l,a,!0)}function On(e){return e?(0,r.X3)(e)||Tn in e?(0,i.l7)({},e):e:null}function Nn(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,l=t?Rn(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&En(l),ref:t&&t.ref?n&&o?(0,i.kJ)(o)?o.concat(Cn(t)):[o,Cn(t)]:Cn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==cn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Nn(e.ssContent),ssFallback:e.ssFallback&&Nn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u}function Pn(e=" ",t=0){return An(dn,null,e,t)}function Fn(e="",t=!1){return t?(gn(),Sn(hn,null,e)):An(hn,null,e)}function Vn(e){return null==e||"boolean"===typeof e?An(hn):(0,i.kJ)(e)?An(cn,null,e.slice()):"object"===typeof e?Mn(e):An(dn,null,String(e))}function Mn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Nn(e)}function Ln(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Ln(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Tn in t?3===r&&N&&(1===N.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=N}}else(0,i.mf)(t)?(t={default:t,_ctx:N},n=32):(t=String(t),64&r?(n=16,t=[Pn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Rn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],o=r[e];!o||n===o||(0,i.kJ)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function Un(e,t,n,r=null){s(e,t,7,[n,r])}const jn=wt();let Bn=0;function $n(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||jn,a={uid:Bn++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xt(o,s),emitsOptions:x(o,s),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:o.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=A.bind(null,a),e.ce&&e.ce(a),a}let zn=null;const qn=()=>zn||N;let Hn,Wn;{const e=(0,i.E9)(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach((t=>t(e))):r[0](e)}};Hn=t("__VUE_INSTANCE_SETTERS__",(e=>zn=e)),Wn=t("__VUE_SSR_SETTERS__",(e=>Jn=e))}const Yn=e=>{const t=zn;return Hn(e),e.scope.on(),()=>{e.scope.off(),Hn(t)}},Gn=()=>{zn&&zn.scope.off(),Hn(null)};function Kn(e){return 4&e.vnode.shapeFlag}let Zn,Qn,Jn=!1;function Xn(e,t=!1){t&&Wn(t);const{props:n,children:r}=e.vnode,i=Kn(e);Et(e,n,i,t),jt(e,r);const o=i?er(e,t):void 0;return t&&Wn(!1),o}function er(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,et));const{setup:s}=n;if(s){const n=e.setupContext=s.length>1?ir(e):null,l=Yn(e);(0,r.Jd)();const u=o(s,e,0,[e.props,n]);if((0,r.lk)(),l(),(0,i.tI)(u)){if(u.then(Gn,Gn),t)return u.then((n=>{tr(e,n,t)})).catch((t=>{a(t,e,0)}));e.asyncDep=u}else tr(e,u,t)}else nr(e,t)}function tr(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),nr(e,n)}function nr(e,t,n){const o=e.type;if(!e.render){if(!t&&Zn&&!o.render){const t=o.template||ct(e).template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:s,compilerOptions:a}=o,l=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:s},r),a);o.render=Zn(t,l)}}e.render=o.render||i.dG,Qn&&Qn(e)}{const t=Yn(e);(0,r.Jd)();try{st(e)}finally{(0,r.lk)(),t()}}}function rr(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}}))}function ir(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return rr(e)},slots:e.slots,emit:e.emit,expose:t}}function or(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in Je?Je[n](e):void 0},has(e,t){return t in e||t in Je}}))}function sr(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function ar(e){return(0,i.mf)(e)&&"__vccOpts"in e}const lr=(e,t)=>(0,r.Fl)(e,t,Jn);function ur(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?In(t)?An(e,null,[t]):An(e,t):An(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&In(n)&&(n=[n]),An(e,t,n))}const cr="3.4.15"},9963:function(e,t,n){n.d(t,{D2:function(){return Pe},F8:function(){return P},G2:function(){return _e},YZ:function(){return Ee},bM:function(){return Se},e8:function(){return be},iM:function(){return Oe},nr:function(){return ye},ri:function(){return Le},uT:function(){return p}});var r=n(6252),i=n(3577),o=n(2262);
/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const s="http://www.w3.org/2000/svg",a="http://www.w3.org/1998/Math/MathML",l="undefined"!==typeof document?document:null,u=l&&l.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i="svg"===t?l.createElementNS(s,e):"mathml"===t?l.createElementNS(a,e):l.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>l.createTextNode(e),createComment:e=>l.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>l.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{u.innerHTML="svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e;const i=u.content;if("svg"===r||"mathml"===r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},d="transition",h="animation",f=Symbol("_vtc"),p=(e,{slots:t})=>(0,r.h)(r.P$,b(e),t);p.displayName="Transition";const m={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},g=p.props=(0,i.l7)({},r.nJ,m),v=(e,t=[])=>{(0,i.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},y=e=>!!e&&((0,i.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function b(e){const t={};for(const i in e)i in m||(t[i]=e[i]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=w(o),b=g&&g[0],_=g&&g[1],{onBeforeEnter:T,onEnter:C,onEnterCancelled:D,onLeave:A,onLeaveCancelled:O,onBeforeAppear:N=T,onAppear:P=C,onAppearCancelled:F=D}=t,V=(e,t,n)=>{I(e,t?d:l),I(e,t?c:a),n&&n()},M=(e,t)=>{e._isLeaving=!1,I(e,h),I(e,p),I(e,f),t&&t()},L=e=>(t,n)=>{const i=e?P:C,o=()=>V(t,e,n);v(i,[t,o]),k((()=>{I(t,e?u:s),S(t,e?d:l),y(i)||E(t,r,b,o)}))};return(0,i.l7)(t,{onBeforeEnter(e){v(T,[e]),S(e,s),S(e,a)},onBeforeAppear(e){v(N,[e]),S(e,u),S(e,c)},onEnter:L(!1),onAppear:L(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>M(e,t);S(e,h),x(),S(e,f),k((()=>{e._isLeaving&&(I(e,h),S(e,p),y(A)||E(e,r,_,n))})),v(A,[e,n])},onEnterCancelled(e){V(e,!1),v(D,[e])},onAppearCancelled(e){V(e,!0),v(F,[e])},onLeaveCancelled(e){M(e),v(O,[e])}})}function w(e){if(null==e)return null;if((0,i.Kn)(e))return[_(e.enter),_(e.leave)];{const t=_(e);return[t,t]}}function _(e){const t=(0,i.He)(e);return t}function S(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[f]||(e[f]=new Set)).add(t)}function I(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[f];n&&(n.delete(t),n.size||(e[f]=void 0))}function k(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let T=0;function E(e,t,n,r){const i=e._endId=++T,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=C(e,t);if(!s)return r();const u=s+"end";let c=0;const d=()=>{e.removeEventListener(u,h),o()},h=t=>{t.target===e&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),a+1),e.addEventListener(u,h)}function C(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(`${d}Delay`),o=r(`${d}Duration`),s=D(i,o),a=r(`${h}Delay`),l=r(`${h}Duration`),u=D(a,l);let c=null,f=0,p=0;t===d?s>0&&(c=d,f=s,p=o.length):t===h?u>0&&(c=h,f=u,p=l.length):(f=Math.max(s,u),c=f>0?s>u?d:h:null,p=c?c===d?o.length:l.length:0);const m=c===d&&/\b(transform|all)(,|$)/.test(r(`${d}Property`).toString());return{type:c,timeout:f,propCount:p,hasTransform:m}}function D(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>A(t)+A(e[n]))))}function A(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function x(){return document.body.offsetHeight}function O(e,t,n){const r=e[f];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const N=Symbol("_vod"),P={beforeMount(e,{value:t},{transition:n}){e[N]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):F(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),F(e,!0),r.enter(e)):r.leave(e,(()=>{F(e,!1)})):F(e,t))},beforeUnmount(e,{value:t}){F(e,t)}};function F(e,t){e.style.display=t?e[N]:"none"}const V=Symbol("");function M(e,t,n){const r=e.style,o=r.display,s=(0,i.HD)(n);if(n&&!s){if(t&&!(0,i.HD)(t))for(const e in t)null==n[e]&&R(r,e,"");for(const e in n)R(r,e,n[e])}else if(s){if(t!==n){const e=r[V];e&&(n+=";"+e),r.cssText=n}}else t&&e.removeAttribute("style");N in e&&(r.display=o)}const L=/\s*!important$/;function R(e,t,n){if((0,i.kJ)(n))n.forEach((n=>R(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=B(e,t);L.test(n)?e.setProperty((0,i.rs)(r),n.replace(L,""),"important"):e[r]=n}}const U=["Webkit","Moz","ms"],j={};function B(e,t){const n=j[t];if(n)return n;let r=(0,i._A)(t);if("filter"!==r&&r in e)return j[t]=r;r=(0,i.kC)(r);for(let i=0;i<U.length;i++){const n=U[i]+r;if(n in e)return j[t]=n}return t}const $="http://www.w3.org/1999/xlink";function z(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS($,t.slice(6,t.length)):e.setAttributeNS($,t,n);else{const r=(0,i.Pq)(t);null==n||r&&!(0,i.yA)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function q(e,t,n,r,o,s,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,o,s),void(e[t]=null==n?"":n);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=n;const r="OPTION"===l?e.getAttribute("value"):e.value,i=null==n?"":n;return r!==i&&(e.value=i),void(null==n&&e.removeAttribute(t))}let u=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,i.yA)(n):null==n&&"string"===r?(n="",u=!0):"number"===r&&(n=0,u=!0)}try{e[t]=n}catch(c){0}u&&e.removeAttribute(t)}function H(e,t,n,r){e.addEventListener(t,n,r)}function W(e,t,n,r){e.removeEventListener(t,n,r)}const Y=Symbol("_vei");function G(e,t,n,r,i=null){const o=e[Y]||(e[Y]={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=Z(t);if(r){const s=o[t]=ee(r,i);H(e,n,s,a)}else s&&(W(e,n,s,a),o[t]=void 0)}}const K=/(?:Once|Passive|Capture)$/;function Z(e){let t;if(K.test(e)){let n;t={};while(n=e.match(K))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,i.rs)(e.slice(2));return[n,t]}let Q=0;const J=Promise.resolve(),X=()=>Q||(J.then((()=>Q=0)),Q=Date.now());function ee(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,r.$d)(te(e,n.value),t,5,[e])};return n.value=e,n.attached=X(),n}function te(e,t){if((0,i.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const ne=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,re=(e,t,n,r,o,s,a,l,u)=>{const c="svg"===o;"class"===t?O(e,r,c):"style"===t?M(e,n,r):(0,i.F7)(t)?(0,i.tR)(t)||G(e,t,n,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):ie(e,t,r,c))?q(e,t,r,s,a,l,u):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),z(e,t,r,c))};function ie(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&ne(t)&&(0,i.mf)(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!ne(t)||!(0,i.HD)(n))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const oe=new WeakMap,se=new WeakMap,ae=Symbol("_moveCb"),le=Symbol("_enterCb"),ue={name:"TransitionGroup",props:(0,i.l7)({},g,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.FN)(),i=(0,r.Y8)();let s,a;return(0,r.ic)((()=>{if(!s.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!fe(s[0].el,n.vnode.el,t))return;s.forEach(ce),s.forEach(de);const r=s.filter(he);x(),r.forEach((e=>{const n=e.el,r=n.style;S(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n[ae]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n[ae]=null,I(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,o.IU)(e),u=b(l);let c=l.tag||r.HY;s=a,a=t.default?(0,r.Q6)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,r.nK)(t,(0,r.U2)(t,u,i,n))}if(s)for(let e=0;e<s.length;e++){const t=s[e];(0,r.nK)(t,(0,r.U2)(t,u,i,n)),oe.set(t,t.el.getBoundingClientRect())}return(0,r.Wm)(c,null,a)}}};ue.props;function ce(e){const t=e.el;t[ae]&&t[ae](),t[le]&&t[le]()}function de(e){se.set(e,e.el.getBoundingClientRect())}function he(e){const t=oe.get(e),n=se.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function fe(e,t,n){const r=e.cloneNode(),i=e[f];i&&i.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=C(r);return o.removeChild(r),s}const pe=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,i.kJ)(t)?e=>(0,i.ir)(t,e):t};function me(e){e.target.composing=!0}function ge(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ve=Symbol("_assign"),ye={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[ve]=pe(o);const s=r||o.props&&"number"===o.props.type;H(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),s&&(r=(0,i.h5)(r)),e[ve](r)})),n&&H(e,"change",(()=>{e.value=e.value.trim()})),t||(H(e,"compositionstart",me),H(e,"compositionend",ge),H(e,"change",ge))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},s){if(e[ve]=pe(s),e.composing)return;const a=o||"number"===e.type?(0,i.h5)(e.value):e.value,l=null==t?"":t;if(a!==l){if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===l)return}e.value=l}}},be={deep:!0,created(e,t,n){e[ve]=pe(n),H(e,"change",(()=>{const t=e._modelValue,n=ke(e),r=e.checked,o=e[ve];if((0,i.kJ)(t)){const e=(0,i.hq)(t,n),s=-1!==e;if(r&&!s)o(t.concat(n));else if(!r&&s){const n=[...t];n.splice(e,1),o(n)}}else if((0,i.DM)(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(Te(e,r))}))},mounted:we,beforeUpdate(e,t,n){e[ve]=pe(n),we(e,t,n)}};function we(e,{value:t,oldValue:n},r){e._modelValue=t,(0,i.kJ)(t)?e.checked=(0,i.hq)(t,r.props.value)>-1:(0,i.DM)(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=(0,i.WV)(t,Te(e,!0)))}const _e={created(e,{value:t},n){e.checked=(0,i.WV)(t,n.props.value),e[ve]=pe(n),H(e,"change",(()=>{e[ve](ke(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e[ve]=pe(r),t!==n&&(e.checked=(0,i.WV)(t,r.props.value))}},Se={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const s=(0,i.DM)(t);H(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?(0,i.h5)(ke(e)):ke(e)));e[ve](e.multiple?s?new Set(t):t:t[0]),e._assigning=!0,(0,r.Y3)((()=>{e._assigning=!1}))})),e[ve]=pe(o)},mounted(e,{value:t,oldValue:n,modifiers:{number:r}}){Ie(e,t,n,r)},beforeUpdate(e,t,n){e[ve]=pe(n)},updated(e,{value:t,oldValue:n,modifiers:{number:r}}){e._assigning||Ie(e,t,n,r)}};function Ie(e,t,n,r){const o=e.multiple,s=(0,i.kJ)(t);if((!o||s||(0,i.DM)(t))&&(!s||!(0,i.WV)(t,n))){for(let n=0,a=e.options.length;n<a;n++){const a=e.options[n],l=ke(a);if(o)if(s){const e=typeof l;a.selected="string"===e||"number"===e?t.includes(r?(0,i.h5)(l):l):(0,i.hq)(t,l)>-1}else a.selected=t.has(l);else if((0,i.WV)(ke(a),t))return void(e.selectedIndex!==n&&(e.selectedIndex=n))}o||-1===e.selectedIndex||(e.selectedIndex=-1)}}function ke(e){return"_value"in e?e._value:e.value}function Te(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ee={created(e,t,n){De(e,t,n,null,"created")},mounted(e,t,n){De(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){De(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){De(e,t,n,r,"updated")}};function Ce(e,t){switch(e){case"SELECT":return Se;case"TEXTAREA":return ye;default:switch(t){case"checkbox":return be;case"radio":return _e;default:return ye}}}function De(e,t,n,r,i){const o=Ce(e.tagName,n.props&&n.props.type),s=o[i];s&&s(e,t,n,r)}const Ae=["ctrl","shift","alt","meta"],xe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ae.some((n=>e[`${n}Key`]&&!t.includes(n)))},Oe=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=xe[t[e]];if(r&&r(n,t))return}return e(n,...r)})},Ne={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pe=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=(0,i.rs)(n.key);return t.some((e=>e===r||Ne[e]===r))?e(n):void 0})},Fe=(0,i.l7)({patchProp:re},c);let Ve;function Me(){return Ve||(Ve=(0,r.Us)(Fe))}const Le=(...e)=>{const t=Me().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=Ue(e);if(!r)return;const o=t._component;(0,i.mf)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,Re(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function Re(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function Ue(e){if((0,i.HD)(e)){const t=document.querySelector(e);return t}return e}},3577:function(e,t,n){
/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function r(e,t){const n=new Set(e.split(","));return t?e=>n.has(e.toLowerCase()):e=>n.has(e)}n.d(t,{C_:function(){return Q},DM:function(){return g},E9:function(){return z},F7:function(){return l},Gg:function(){return A},HD:function(){return w},He:function(){return B},Kj:function(){return y},Kn:function(){return S},NO:function(){return a},Nj:function(){return U},Od:function(){return d},PO:function(){return C},Pq:function(){return ee},RI:function(){return f},S0:function(){return D},W7:function(){return E},WV:function(){return re},Z6:function(){return o},_A:function(){return N},_N:function(){return m},aU:function(){return L},dG:function(){return s},fY:function(){return r},h5:function(){return j},hR:function(){return M},hq:function(){return ie},ir:function(){return R},j5:function(){return W},kC:function(){return V},kJ:function(){return p},kT:function(){return i},l7:function(){return c},mf:function(){return b},rs:function(){return F},tI:function(){return I},tR:function(){return u},vs:function(){return J},yA:function(){return te},yk:function(){return _},yl:function(){return H},zw:function(){return oe}});const i={},o=[],s=()=>{},a=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u=e=>e.startsWith("onUpdate:"),c=Object.assign,d=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,f=(e,t)=>h.call(e,t),p=Array.isArray,m=e=>"[object Map]"===T(e),g=e=>"[object Set]"===T(e),v=e=>"[object Date]"===T(e),y=e=>"[object RegExp]"===T(e),b=e=>"function"===typeof e,w=e=>"string"===typeof e,_=e=>"symbol"===typeof e,S=e=>null!==e&&"object"===typeof e,I=e=>(S(e)||b(e))&&b(e.then)&&b(e.catch),k=Object.prototype.toString,T=e=>k.call(e),E=e=>T(e).slice(8,-1),C=e=>"[object Object]"===T(e),D=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,A=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),x=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},O=/-(\w)/g,N=x((e=>e.replace(O,((e,t)=>t?t.toUpperCase():"")))),P=/\B([A-Z])/g,F=x((e=>e.replace(P,"-$1").toLowerCase())),V=x((e=>e.charAt(0).toUpperCase()+e.slice(1))),M=x((e=>{const t=e?`on${V(e)}`:"";return t})),L=(e,t)=>!Object.is(e,t),R=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},U=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},j=e=>{const t=parseFloat(e);return isNaN(t)?e:t},B=e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t};let $;const z=()=>$||($="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const q="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",H=r(q);function W(e){if(p(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=w(r)?Z(r):W(r);if(i)for(const e in i)t[e]=i[e]}return t}if(w(e)||S(e))return e}const Y=/;(?![^(]*\))/g,G=/:([^]+)/,K=/\/\*[^]*?\*\//g;function Z(e){const t={};return e.replace(K,"").split(Y).forEach((e=>{if(e){const n=e.split(G);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Q(e){let t="";if(w(e))t=e;else if(p(e))for(let n=0;n<e.length;n++){const r=Q(e[n]);r&&(t+=r+" ")}else if(S(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function J(e){if(!e)return null;let{class:t,style:n}=e;return t&&!w(t)&&(e.class=Q(t)),n&&(e.style=W(n)),e}const X="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ee=r(X);function te(e){return!!e||""===e}function ne(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=re(e[r],t[r]);return n}function re(e,t){if(e===t)return!0;let n=v(e),r=v(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=_(e),r=_(t),n||r)return e===t;if(n=p(e),r=p(t),n||r)return!(!n||!r)&&ne(e,t);if(n=S(e),r=S(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!re(e[n],t[n]))return!1}}return String(e)===String(t)}function ie(e,t){return e.findIndex((e=>re(e,t)))}const oe=e=>w(e)?e:null==e?"":p(e)||S(e)&&(e.toString===k||!b(e.toString))?JSON.stringify(e,se,2):String(e),se=(e,t)=>t&&t.__v_isRef?se(e,t.value):m(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[ae(t,r)+" =>"]=n,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ae(e)))}:_(t)?ae(t):!S(t)||p(t)||C(t)?t:String(t),ae=(e,t="")=>{var n;return _(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},5612:function(e,t,n){n.d(t,{ZP:function(){return zm}});var r={};n.r(r),n.d(r,{afterMain:function(){return l.wX},afterRead:function(){return l.r5},afterWrite:function(){return l.MS},applyStyles:function(){return u.Z},arrow:function(){return c.Z},auto:function(){return l.d7},basePlacements:function(){return l.mv},beforeMain:function(){return l.XM},beforeRead:function(){return l.N7},beforeWrite:function(){return l.iv},bottom:function(){return l.I},clippingParents:function(){return l.zV},computeStyles:function(){return d.Z},createPopper:function(){return w.fi},createPopperBase:function(){return y.fi},createPopperLite:function(){return S},detectOverflow:function(){return b.Z},end:function(){return l.ut},eventListeners:function(){return h.Z},flip:function(){return f.Z},hide:function(){return p.Z},left:function(){return l.t$},main:function(){return l.DH},modifierPhases:function(){return l.xs},offset:function(){return m.Z},placements:function(){return l.Ct},popper:function(){return l.k5},popperGenerator:function(){return y.kZ},popperOffsets:function(){return g.Z},preventOverflow:function(){return v.Z},read:function(){return l.ij},reference:function(){return l.YP},right:function(){return l.F2},start:function(){return l.BL},top:function(){return l.we},variationPlacements:function(){return l.bw},viewport:function(){return l.Pj},write:function(){return l.cW}});var i=n(2262),o=n(6252),s=n(3577),a=n(9963),l=n(7701),u=n(7824),c=n(6896),d=n(6531),h=n(2372),f=n(8855),p=n(9892),m=n(2122),g=n(7421),v=n(394),y=n(5704),b=n(6486),w=n(804),_=[h.Z,g.Z,d.Z,u.Z],S=(0,y.kZ)({defaultModifiers:_});
/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
const I=new Map,k={set(e,t,n){I.has(e)||I.set(e,new Map);const r=I.get(e);r.has(t)||0===r.size?r.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get(e,t){return I.has(e)&&I.get(e).get(t)||null},remove(e,t){if(!I.has(e))return;const n=I.get(e);n.delete(t),0===n.size&&I.delete(e)}},T=1e6,E=1e3,C="transitionend",D=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),A=e=>null===e||void 0===e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),x=e=>{do{e+=Math.floor(Math.random()*T)}while(document.getElementById(e));return e},O=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*E):0},N=e=>{e.dispatchEvent(new Event(C))},P=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),F=e=>P(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(D(e)):null,V=e=>{if(!P(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},M=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),L=e=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?L(e.parentNode):null},R=()=>{},U=e=>{e.offsetHeight},j=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,B=[],$=e=>{"loading"===document.readyState?(B.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of B)e()})),B.push(e)):e()},z=()=>"rtl"===document.documentElement.dir,q=e=>{$((()=>{const t=j();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}}))},H=(e,t=[],n=e)=>"function"===typeof e?e(...t):n,W=(e,t,n=!0)=>{if(!n)return void H(e);const r=5,i=O(t)+r;let o=!1;const s=({target:n})=>{n===t&&(o=!0,t.removeEventListener(C,s),H(e))};t.addEventListener(C,s),setTimeout((()=>{o||N(t)}),i)},Y=(e,t,n,r)=>{const i=e.length;let o=e.indexOf(t);return-1===o?!n&&r?e[i-1]:e[0]:(o+=n?1:-1,r&&(o=(o+i)%i),e[Math.max(0,Math.min(o,i-1))])},G=/[^.]*(?=\..*)\.|.*/,K=/\..*/,Z=/::\d+$/,Q={};let J=1;const X={mouseenter:"mouseover",mouseleave:"mouseout"},ee=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function te(e,t){return t&&`${t}::${J++}`||e.uidEvent||J++}function ne(e){const t=te(e);return e.uidEvent=t,Q[t]=Q[t]||{},Q[t]}function re(e,t){return function n(r){return he(r,{delegateTarget:e}),n.oneOff&&de.off(e,r.type,t),t.apply(e,[r])}}function ie(e,t,n){return function r(i){const o=e.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return he(i,{delegateTarget:s}),r.oneOff&&de.off(e,i.type,t,n),n.apply(s,[i])}}function oe(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function se(e,t,n){const r="string"===typeof t,i=r?n:t||n;let o=ce(e);return ee.has(o)||(o=e),[r,i,o]}function ae(e,t,n,r,i){if("string"!==typeof t||!e)return;let[o,s,a]=se(t,n,r);if(t in X){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=ne(e),u=l[a]||(l[a]={}),c=oe(u,s,o?n:null);if(c)return void(c.oneOff=c.oneOff&&i);const d=te(s,t.replace(G,"")),h=o?ie(e,n,s):re(e,s);h.delegationSelector=o?n:null,h.callable=s,h.oneOff=i,h.uidEvent=d,u[d]=h,e.addEventListener(a,h,o)}function le(e,t,n,r,i){const o=oe(t[n],r,i);o&&(e.removeEventListener(n,o,Boolean(i)),delete t[n][o.uidEvent])}function ue(e,t,n,r){const i=t[n]||{};for(const[o,s]of Object.entries(i))o.includes(r)&&le(e,t,n,s.callable,s.delegationSelector)}function ce(e){return e=e.replace(K,""),X[e]||e}const de={on(e,t,n,r){ae(e,t,n,r,!1)},one(e,t,n,r){ae(e,t,n,r,!0)},off(e,t,n,r){if("string"!==typeof t||!e)return;const[i,o,s]=se(t,n,r),a=s!==t,l=ne(e),u=l[s]||{},c=t.startsWith(".");if("undefined"===typeof o){if(c)for(const n of Object.keys(l))ue(e,l,n,t.slice(1));for(const[n,r]of Object.entries(u)){const i=n.replace(Z,"");a&&!t.includes(i)||le(e,l,s,r.callable,r.delegationSelector)}}else{if(!Object.keys(u).length)return;le(e,l,s,o,i?n:null)}},trigger(e,t,n){if("string"!==typeof t||!e)return null;const r=j(),i=ce(t),o=t!==i;let s=null,a=!0,l=!0,u=!1;o&&r&&(s=r.Event(t,n),r(e).trigger(s),a=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented());const c=he(new Event(t,{bubbles:a,cancelable:!0}),n);return u&&c.preventDefault(),l&&e.dispatchEvent(c),c.defaultPrevented&&s&&s.preventDefault(),c}};function he(e,t={}){for(const[r,i]of Object.entries(t))try{e[r]=i}catch(n){Object.defineProperty(e,r,{configurable:!0,get(){return i}})}return e}function fe(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!==typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function pe(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const me={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${pe(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${pe(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=fe(e.dataset[r])}return t},getDataAttribute(e,t){return fe(e.getAttribute(`data-bs-${pe(t)}`))}};class ge{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=P(t)?me.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"===typeof n?n:{},...P(t)?me.getDataAttributes(t):{},..."object"===typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,r]of Object.entries(t)){const t=e[n],i=P(t)?"element":A(t);if(!new RegExp(r).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${r}".`)}}}const ve="5.3.2";class ye extends ge{constructor(e,t){super(),e=F(e),e&&(this._element=e,this._config=this._getConfig(t),k.set(this._element,this.constructor.DATA_KEY,this))}dispose(){k.remove(this._element,this.constructor.DATA_KEY),de.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){W(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return k.get(F(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}static get VERSION(){return ve}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const be=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?D(n.trim()):null}return t},we={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter((e=>e.matches(t)))},parents(e,t){const n=[];let r=e.parentNode.closest(t);while(r)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;while(n){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;while(n){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!M(e)&&V(e)))},getSelectorFromElement(e){const t=be(e);return t&&we.findOne(t)?t:null},getElementFromSelector(e){const t=be(e);return t?we.findOne(t):null},getMultipleElementsFromSelector(e){const t=be(e);return t?we.find(t):[]}},_e=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;de.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),M(this))return;const i=we.getElementFromSelector(this)||this.closest(`.${r}`),o=e.getOrCreateInstance(i);o[t]()}))},Se="alert",Ie="bs.alert",ke=`.${Ie}`,Te=`close${ke}`,Ee=`closed${ke}`,Ce="fade",De="show";class Ae extends ye{static get NAME(){return Se}close(){const e=de.trigger(this._element,Te);if(e.defaultPrevented)return;this._element.classList.remove(De);const t=this._element.classList.contains(Ce);this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),de.trigger(this._element,Ee),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=Ae.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}_e(Ae,"close"),q(Ae);const xe="button",Oe="bs.button",Ne=`.${Oe}`,Pe=".data-api",Fe="active",Ve='[data-bs-toggle="button"]',Me=`click${Ne}${Pe}`;class Le extends ye{static get NAME(){return xe}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Fe))}static jQueryInterface(e){return this.each((function(){const t=Le.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}de.on(document,Me,Ve,(e=>{e.preventDefault();const t=e.target.closest(Ve),n=Le.getOrCreateInstance(t);n.toggle()})),q(Le);const Re="swipe",Ue=".bs.swipe",je=`touchstart${Ue}`,Be=`touchmove${Ue}`,$e=`touchend${Ue}`,ze=`pointerdown${Ue}`,qe=`pointerup${Ue}`,He="touch",We="pen",Ye="pointer-event",Ge=40,Ke={endCallback:null,leftCallback:null,rightCallback:null},Ze={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qe extends ge{constructor(e,t){super(),this._element=e,e&&Qe.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Ke}static get DefaultType(){return Ze}static get NAME(){return Re}dispose(){de.off(this._element,Ue)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),H(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Ge)return;const t=e/this._deltaX;this._deltaX=0,t&&H(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(de.on(this._element,ze,(e=>this._start(e))),de.on(this._element,qe,(e=>this._end(e))),this._element.classList.add(Ye)):(de.on(this._element,je,(e=>this._start(e))),de.on(this._element,Be,(e=>this._move(e))),de.on(this._element,$e,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===We||e.pointerType===He)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Je="carousel",Xe="bs.carousel",et=`.${Xe}`,tt=".data-api",nt="ArrowLeft",rt="ArrowRight",it=500,ot="next",st="prev",at="left",lt="right",ut=`slide${et}`,ct=`slid${et}`,dt=`keydown${et}`,ht=`mouseenter${et}`,ft=`mouseleave${et}`,pt=`dragstart${et}`,mt=`load${et}${tt}`,gt=`click${et}${tt}`,vt="carousel",yt="active",bt="slide",wt="carousel-item-end",_t="carousel-item-start",St="carousel-item-next",It="carousel-item-prev",kt=".active",Tt=".carousel-item",Et=kt+Tt,Ct=".carousel-item img",Dt=".carousel-indicators",At="[data-bs-slide], [data-bs-slide-to]",xt='[data-bs-ride="carousel"]',Ot={[nt]:lt,[rt]:at},Nt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Pt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ft extends ye{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=we.findOne(Dt,this._element),this._addEventListeners(),this._config.ride===vt&&this.cycle()}static get Default(){return Nt}static get DefaultType(){return Pt}static get NAME(){return Je}next(){this._slide(ot)}nextWhenVisible(){!document.hidden&&V(this._element)&&this.next()}prev(){this._slide(st)}pause(){this._isSliding&&N(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?de.one(this._element,ct,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void de.one(this._element,ct,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const r=e>n?ot:st;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&de.on(this._element,dt,(e=>this._keydown(e))),"hover"===this._config.pause&&(de.on(this._element,ht,(()=>this.pause())),de.on(this._element,ft,(()=>this._maybeEnableCycle()))),this._config.touch&&Qe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of we.find(Ct,this._element))de.on(n,pt,(e=>e.preventDefault()));const e=()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),it+this._config.interval))},t={leftCallback:()=>this._slide(this._directionToOrder(at)),rightCallback:()=>this._slide(this._directionToOrder(lt)),endCallback:e};this._swipeHelper=new Qe(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ot[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=we.findOne(kt,this._indicatorsElement);t.classList.remove(yt),t.removeAttribute("aria-current");const n=we.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(yt),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),r=e===ot,i=t||Y(this._getItems(),n,r,this._config.wrap);if(i===n)return;const o=this._getItemIndex(i),s=t=>de.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o}),a=s(ut);if(a.defaultPrevented)return;if(!n||!i)return;const l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const u=r?_t:wt,c=r?St:It;i.classList.add(c),U(i),n.classList.add(u),i.classList.add(u);const d=()=>{i.classList.remove(u,c),i.classList.add(yt),n.classList.remove(yt,c,u),this._isSliding=!1,s(ct)};this._queueCallback(d,n,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(bt)}_getActive(){return we.findOne(Et,this._element)}_getItems(){return we.find(Tt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return z()?e===at?st:ot:e===at?ot:st}_orderToDirection(e){return z()?e===st?at:lt:e===st?lt:at}static jQueryInterface(e){return this.each((function(){const t=Ft.getOrCreateInstance(this,e);if("number"!==typeof e){if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}de.on(document,gt,At,(function(e){const t=we.getElementFromSelector(this);if(!t||!t.classList.contains(vt))return;e.preventDefault();const n=Ft.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===me.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),de.on(window,mt,(()=>{const e=we.find(xt);for(const t of e)Ft.getOrCreateInstance(t)})),q(Ft);const Vt="collapse",Mt="bs.collapse",Lt=`.${Mt}`,Rt=".data-api",Ut=`show${Lt}`,jt=`shown${Lt}`,Bt=`hide${Lt}`,$t=`hidden${Lt}`,zt=`click${Lt}${Rt}`,qt="show",Ht="collapse",Wt="collapsing",Yt="collapsed",Gt=`:scope .${Ht} .${Ht}`,Kt="collapse-horizontal",Zt="width",Qt="height",Jt=".collapse.show, .collapse.collapsing",Xt='[data-bs-toggle="collapse"]',en={parent:null,toggle:!0},tn={parent:"(null|element)",toggle:"boolean"};class nn extends ye{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=we.find(Xt);for(const r of n){const e=we.getSelectorFromElement(r),t=we.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return en}static get DefaultType(){return tn}static get NAME(){return Vt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Jt).filter((e=>e!==this._element)).map((e=>nn.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;const t=de.trigger(this._element,Ut);if(t.defaultPrevented)return;for(const s of e)s.hide();const n=this._getDimension();this._element.classList.remove(Ht),this._element.classList.add(Wt),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Wt),this._element.classList.add(Ht,qt),this._element.style[n]="",de.trigger(this._element,jt)},i=n[0].toUpperCase()+n.slice(1),o=`scroll${i}`;this._queueCallback(r,this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const e=de.trigger(this._element,Bt);if(e.defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,U(this._element),this._element.classList.add(Wt),this._element.classList.remove(Ht,qt);for(const r of this._triggerArray){const e=we.getElementFromSelector(r);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(Wt),this._element.classList.add(Ht),de.trigger(this._element,$t)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(qt)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=F(e.parent),e}_getDimension(){return this._element.classList.contains(Kt)?Zt:Qt}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Xt);for(const t of e){const e=we.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=we.find(Gt,this._config.parent);return we.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(Yt,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=nn.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}de.on(document,zt,Xt,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of we.getMultipleElementsFromSelector(this))nn.getOrCreateInstance(t,{toggle:!1}).toggle()})),q(nn);const rn="dropdown",on="bs.dropdown",sn=`.${on}`,an=".data-api",ln="Escape",un="Tab",cn="ArrowUp",dn="ArrowDown",hn=2,fn=`hide${sn}`,pn=`hidden${sn}`,mn=`show${sn}`,gn=`shown${sn}`,vn=`click${sn}${an}`,yn=`keydown${sn}${an}`,bn=`keyup${sn}${an}`,wn="show",_n="dropup",Sn="dropend",In="dropstart",kn="dropup-center",Tn="dropdown-center",En='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Cn=`${En}.${wn}`,Dn=".dropdown-menu",An=".navbar",xn=".navbar-nav",On=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Nn=z()?"top-end":"top-start",Pn=z()?"top-start":"top-end",Fn=z()?"bottom-end":"bottom-start",Vn=z()?"bottom-start":"bottom-end",Mn=z()?"left-start":"right-start",Ln=z()?"right-start":"left-start",Rn="top",Un="bottom",jn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Bn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class $n extends ye{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=we.next(this._element,Dn)[0]||we.prev(this._element,Dn)[0]||we.findOne(Dn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return jn}static get DefaultType(){return Bn}static get NAME(){return rn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(M(this._element)||this._isShown())return;const e={relatedTarget:this._element},t=de.trigger(this._element,mn,e);if(!t.defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(xn))for(const e of[].concat(...document.body.children))de.on(e,"mouseover",R);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(wn),this._element.classList.add(wn),de.trigger(this._element,gn,e)}}hide(){if(M(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){const t=de.trigger(this._element,fn,e);if(!t.defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))de.off(e,"mouseover",R);this._popper&&this._popper.destroy(),this._menu.classList.remove(wn),this._element.classList.remove(wn),this._element.setAttribute("aria-expanded","false"),me.removeDataAttribute(this._menu,"popper"),de.trigger(this._element,pn,e)}}_getConfig(e){if(e=super._getConfig(e),"object"===typeof e.reference&&!P(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError(`${rn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if("undefined"===typeof r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:P(this._config.reference)?e=F(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=w.fi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(wn)}_getPlacement(){const e=this._parent;if(e.classList.contains(Sn))return Mn;if(e.classList.contains(In))return Ln;if(e.classList.contains(kn))return Rn;if(e.classList.contains(Tn))return Un;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains(_n)?t?Pn:Nn:t?Vn:Fn}_detectNavbar(){return null!==this._element.closest(An)}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"===typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(me.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...H(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=we.find(On,this._menu).filter((e=>V(e)));n.length&&Y(n,t,e===dn,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=$n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(e.button===hn||"keyup"===e.type&&e.key!==un)return;const t=we.find(Cn);for(const n of t){const t=$n.getInstance(n);if(!t||!1===t._config.autoClose)continue;const r=e.composedPath(),i=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!i||"outside"===t._config.autoClose&&i)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&e.key===un||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===ln,r=[cn,dn].includes(e.key);if(!r&&!n)return;if(t&&!n)return;e.preventDefault();const i=this.matches(En)?this:we.prev(this,En)[0]||we.next(this,En)[0]||we.findOne(En,e.delegateTarget.parentNode),o=$n.getOrCreateInstance(i);if(r)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}de.on(document,yn,En,$n.dataApiKeydownHandler),de.on(document,yn,Dn,$n.dataApiKeydownHandler),de.on(document,vn,$n.clearMenus),de.on(document,bn,$n.clearMenus),de.on(document,vn,En,(function(e){e.preventDefault(),$n.getOrCreateInstance(this).toggle()})),q($n);const zn="backdrop",qn="fade",Hn="show",Wn=`mousedown.bs.${zn}`,Yn={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Gn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Kn extends ge{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Yn}static get DefaultType(){return Gn}static get NAME(){return zn}show(e){if(!this._config.isVisible)return void H(e);this._append();const t=this._getElement();this._config.isAnimated&&U(t),t.classList.add(Hn),this._emulateAnimation((()=>{H(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(Hn),this._emulateAnimation((()=>{this.dispose(),H(e)}))):H(e)}dispose(){this._isAppended&&(de.off(this._element,Wn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(qn),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=F(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),de.on(e,Wn,(()=>{H(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){W(e,this._getElement(),this._config.isAnimated)}}const Zn="focustrap",Qn="bs.focustrap",Jn=`.${Qn}`,Xn=`focusin${Jn}`,er=`keydown.tab${Jn}`,tr="Tab",nr="forward",rr="backward",ir={autofocus:!0,trapElement:null},or={autofocus:"boolean",trapElement:"element"};class sr extends ge{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ir}static get DefaultType(){return or}static get NAME(){return Zn}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),de.off(document,Jn),de.on(document,Xn,(e=>this._handleFocusin(e))),de.on(document,er,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,de.off(document,Jn))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=we.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===rr?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===tr&&(this._lastTabNavDirection=e.shiftKey?rr:nr)}}const ar=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",lr=".sticky-top",ur="padding-right",cr="margin-right";class dr{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ur,(t=>t+e)),this._setElementAttributes(ar,ur,(t=>t+e)),this._setElementAttributes(lr,cr,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ur),this._resetElementAttributes(ar,ur),this._resetElementAttributes(lr,cr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth(),i=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(i))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&me.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=e=>{const n=me.getDataAttribute(e,t);null!==n?(me.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(P(e))t(e);else for(const n of we.find(e,this._element))t(n)}}const hr="modal",fr="bs.modal",pr=`.${fr}`,mr=".data-api",gr="Escape",vr=`hide${pr}`,yr=`hidePrevented${pr}`,br=`hidden${pr}`,wr=`show${pr}`,_r=`shown${pr}`,Sr=`resize${pr}`,Ir=`click.dismiss${pr}`,kr=`mousedown.dismiss${pr}`,Tr=`keydown.dismiss${pr}`,Er=`click${pr}${mr}`,Cr="modal-open",Dr="fade",Ar="show",xr="modal-static",Or=".modal.show",Nr=".modal-dialog",Pr=".modal-body",Fr='[data-bs-toggle="modal"]',Vr={backdrop:!0,focus:!0,keyboard:!0},Mr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Lr extends ye{constructor(e,t){super(e,t),this._dialog=we.findOne(Nr,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new dr,this._addEventListeners()}static get Default(){return Vr}static get DefaultType(){return Mr}static get NAME(){return hr}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;const t=de.trigger(this._element,wr,{relatedTarget:e});t.defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Cr),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;const e=de.trigger(this._element,vr);e.defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ar),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){de.off(window,pr),de.off(this._dialog,pr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Kn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new sr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=we.findOne(Pr,this._dialog);t&&(t.scrollTop=0),U(this._element),this._element.classList.add(Ar);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,de.trigger(this._element,_r,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){de.on(this._element,Tr,(e=>{e.key===gr&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),de.on(window,Sr,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),de.on(this._element,kr,(e=>{de.one(this._element,Ir,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Cr),this._resetAdjustments(),this._scrollBar.reset(),de.trigger(this._element,br)}))}_isAnimated(){return this._element.classList.contains(Dr)}_triggerBackdropTransition(){const e=de.trigger(this._element,yr);if(e.defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(xr)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(xr),this._queueCallback((()=>{this._element.classList.remove(xr),this._queueCallback((()=>{this._element.style.overflowY=n}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=z()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=z()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Lr.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}de.on(document,Er,Fr,(function(e){const t=we.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),de.one(t,wr,(e=>{e.defaultPrevented||de.one(t,br,(()=>{V(this)&&this.focus()}))}));const n=we.findOne(Or);n&&Lr.getInstance(n).hide();const r=Lr.getOrCreateInstance(t);r.toggle(this)})),_e(Lr),q(Lr);const Rr="offcanvas",Ur="bs.offcanvas",jr=`.${Ur}`,Br=".data-api",$r=`load${jr}${Br}`,zr="Escape",qr="show",Hr="showing",Wr="hiding",Yr="offcanvas-backdrop",Gr=".offcanvas.show",Kr=`show${jr}`,Zr=`shown${jr}`,Qr=`hide${jr}`,Jr=`hidePrevented${jr}`,Xr=`hidden${jr}`,ei=`resize${jr}`,ti=`click${jr}${Br}`,ni=`keydown.dismiss${jr}`,ri='[data-bs-toggle="offcanvas"]',ii={backdrop:!0,keyboard:!0,scroll:!1},oi={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class si extends ye{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ii}static get DefaultType(){return oi}static get NAME(){return Rr}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;const t=de.trigger(this._element,Kr,{relatedTarget:e});if(t.defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new dr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Hr);const n=()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(qr),this._element.classList.remove(Hr),de.trigger(this._element,Zr,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const e=de.trigger(this._element,Qr);if(e.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Wr),this._backdrop.hide();const t=()=>{this._element.classList.remove(qr,Wr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new dr).reset(),de.trigger(this._element,Xr)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{"static"!==this._config.backdrop?this.hide():de.trigger(this._element,Jr)},t=Boolean(this._config.backdrop);return new Kn({className:Yr,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new sr({trapElement:this._element})}_addEventListeners(){de.on(this._element,ni,(e=>{e.key===zr&&(this._config.keyboard?this.hide():de.trigger(this._element,Jr))}))}static jQueryInterface(e){return this.each((function(){const t=si.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}de.on(document,ti,ri,(function(e){const t=we.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),M(this))return;de.one(t,Xr,(()=>{V(this)&&this.focus()}));const n=we.findOne(Gr);n&&n!==t&&si.getInstance(n).hide();const r=si.getOrCreateInstance(t);r.toggle(this)})),de.on(window,$r,(()=>{for(const e of we.find(Gr))si.getOrCreateInstance(e).show()})),de.on(window,ei,(()=>{for(const e of we.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&si.getOrCreateInstance(e).hide()})),_e(si),q(si);const ai=/^aria-[\w-]*$/i,li={"*":["class","dir","id","lang","role",ai],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ui=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ci=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,di=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!ui.has(n)||Boolean(ci.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))};function hi(e,t,n){if(!e.length)return e;if(n&&"function"===typeof n)return n(e);const r=new window.DOMParser,i=r.parseFromString(e,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const s of o){const e=s.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){s.remove();continue}const n=[].concat(...s.attributes),r=[].concat(t["*"]||[],t[e]||[]);for(const t of n)di(t,r)||s.removeAttribute(t.nodeName)}return i.body.innerHTML}const fi="TemplateFactory",pi={allowList:li,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},mi={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},gi={entry:"(string|element|function|null)",selector:"(string|element)"};class vi extends ge{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return pi}static get DefaultType(){return mi}static get NAME(){return fi}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(e,i,r);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},gi)}_setContent(e,t,n){const r=we.findOne(n,e);r&&(t=this._resolvePossibleFunction(t),t?P(t)?this._putElementInTemplate(F(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?hi(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return H(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const yi="tooltip",bi=new Set(["sanitize","allowList","sanitizeFn"]),wi="fade",_i="modal",Si="show",Ii=".tooltip-inner",ki=`.${_i}`,Ti="hide.bs.modal",Ei="hover",Ci="focus",Di="click",Ai="manual",xi="hide",Oi="hidden",Ni="show",Pi="shown",Fi="inserted",Vi="click",Mi="focusin",Li="focusout",Ri="mouseenter",Ui="mouseleave",ji={AUTO:"auto",TOP:"top",RIGHT:z()?"left":"right",BOTTOM:"bottom",LEFT:z()?"right":"left"},Bi={allowList:li,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},$i={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zi extends ye{constructor(e,t){if("undefined"===typeof r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Bi}static get DefaultType(){return $i}static get NAME(){return yi}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),de.off(this._element.closest(ki),Ti,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=de.trigger(this._element,this.constructor.eventName(Ni)),t=L(this._element),n=(t||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),de.trigger(this._element,this.constructor.eventName(Fi))),this._popper=this._createPopper(r),r.classList.add(Si),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))de.on(s,"mouseover",R);const o=()=>{de.trigger(this._element,this.constructor.eventName(Pi)),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown())return;const e=de.trigger(this._element,this.constructor.eventName(xi));if(e.defaultPrevented)return;const t=this._getTipElement();if(t.classList.remove(Si),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))de.off(r,"mouseover",R);this._activeTrigger[Di]=!1,this._activeTrigger[Ci]=!1,this._activeTrigger[Ei]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),de.trigger(this._element,this.constructor.eventName(Oi)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(wi,Si),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=x(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(wi),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new vi({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ii]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(wi)}_isShown(){return this.tip&&this.tip.classList.contains(Si)}_createPopper(e){const t=H(this._config.placement,[this,e,this._element]),n=ji[t.toUpperCase()];return w.fi(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"===typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return H(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...H(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)de.on(this._element,this.constructor.eventName(Vi),this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t.toggle()}));else if(t!==Ai){const e=t===Ei?this.constructor.eventName(Ri):this.constructor.eventName(Mi),n=t===Ei?this.constructor.eventName(Ui):this.constructor.eventName(Li);de.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Ci:Ei]=!0,t._enter()})),de.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Ci:Ei]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},de.on(this._element.closest(ki),Ti,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=me.getDataAttributes(this._element);for(const n of Object.keys(t))bi.has(n)&&delete t[n];return e={...t,..."object"===typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:F(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=zi.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}q(zi);const qi="popover",Hi=".popover-header",Wi=".popover-body",Yi={...zi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Gi={...zi.DefaultType,content:"(null|string|element|function)"};class Ki extends zi{static get Default(){return Yi}static get DefaultType(){return Gi}static get NAME(){return qi}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Hi]:this._getTitle(),[Wi]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=Ki.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}q(Ki);const Zi="scrollspy",Qi="bs.scrollspy",Ji=`.${Qi}`,Xi=".data-api",eo=`activate${Ji}`,to=`click${Ji}`,no=`load${Ji}${Xi}`,ro="dropdown-item",io="active",oo='[data-bs-spy="scroll"]',so="[href]",ao=".nav, .list-group",lo=".nav-link",uo=".nav-item",co=".list-group-item",ho=`${lo}, ${uo} > ${lo}, ${co}`,fo=".dropdown",po=".dropdown-toggle",mo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},go={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class vo extends ye{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return mo}static get DefaultType(){return go}static get NAME(){return Zi}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=F(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"===typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(de.off(this._config.target,to),de.on(this._config.target,to,so,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(n(o),!r)return}else i||e||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=we.find(so,this._config.target);for(const t of e){if(!t.hash||M(t))continue;const e=we.findOne(decodeURI(t.hash),this._element);V(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(io),this._activateParents(e),de.trigger(this._element,eo,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(ro))we.findOne(po,e.closest(fo)).classList.add(io);else for(const t of we.parents(e,ao))for(const e of we.prev(t,ho))e.classList.add(io)}_clearActiveClass(e){e.classList.remove(io);const t=we.find(`${so}.${io}`,e);for(const n of t)n.classList.remove(io)}static jQueryInterface(e){return this.each((function(){const t=vo.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}de.on(window,no,(()=>{for(const e of we.find(oo))vo.getOrCreateInstance(e)})),q(vo);const yo="tab",bo="bs.tab",wo=`.${bo}`,_o=`hide${wo}`,So=`hidden${wo}`,Io=`show${wo}`,ko=`shown${wo}`,To=`click${wo}`,Eo=`keydown${wo}`,Co=`load${wo}`,Do="ArrowLeft",Ao="ArrowRight",xo="ArrowUp",Oo="ArrowDown",No="Home",Po="End",Fo="active",Vo="fade",Mo="show",Lo="dropdown",Ro=".dropdown-toggle",Uo=".dropdown-menu",jo=`:not(${Ro})`,Bo='.list-group, .nav, [role="tablist"]',$o=".nav-item, .list-group-item",zo=`.nav-link${jo}, .list-group-item${jo}, [role="tab"]${jo}`,qo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ho=`${zo}, ${qo}`,Wo=`.${Fo}[data-bs-toggle="tab"], .${Fo}[data-bs-toggle="pill"], .${Fo}[data-bs-toggle="list"]`;class Yo extends ye{constructor(e){super(e),this._parent=this._element.closest(Bo),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),de.on(this._element,Eo,(e=>this._keydown(e))))}static get NAME(){return yo}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?de.trigger(t,_o,{relatedTarget:e}):null,r=de.trigger(e,Io,{relatedTarget:t});r.defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Fo),this._activate(we.getElementFromSelector(e));const n=()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),de.trigger(e,ko,{relatedTarget:t})):e.classList.add(Mo)};this._queueCallback(n,e,e.classList.contains(Vo))}_deactivate(e,t){if(!e)return;e.classList.remove(Fo),e.blur(),this._deactivate(we.getElementFromSelector(e));const n=()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),de.trigger(e,So,{relatedTarget:t})):e.classList.remove(Mo)};this._queueCallback(n,e,e.classList.contains(Vo))}_keydown(e){if(![Do,Ao,xo,Oo,No,Po].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!M(e)));let n;if([No,Po].includes(e.key))n=t[e.key===No?0:t.length-1];else{const r=[Ao,Oo].includes(e.key);n=Y(t,e.target,r,!0)}n&&(n.focus({preventScroll:!0}),Yo.getOrCreateInstance(n).show())}_getChildren(){return we.find(Ho,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=we.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(Lo))return;const r=(e,r)=>{const i=we.findOne(e,n);i&&i.classList.toggle(r,t)};r(Ro,Fo),r(Uo,Mo),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(Fo)}_getInnerElement(e){return e.matches(Ho)?e:we.findOne(Ho,e)}_getOuterElement(e){return e.closest($o)||e}static jQueryInterface(e){return this.each((function(){const t=Yo.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}de.on(document,To,qo,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),M(this)||Yo.getOrCreateInstance(this).show()})),de.on(window,Co,(()=>{for(const e of we.find(Wo))Yo.getOrCreateInstance(e)})),q(Yo);const Go="toast",Ko="bs.toast",Zo=`.${Ko}`,Qo=`mouseover${Zo}`,Jo=`mouseout${Zo}`,Xo=`focusin${Zo}`,es=`focusout${Zo}`,ts=`hide${Zo}`,ns=`hidden${Zo}`,rs=`show${Zo}`,is=`shown${Zo}`,os="fade",ss="hide",as="show",ls="showing",us={animation:"boolean",autohide:"boolean",delay:"number"},cs={animation:!0,autohide:!0,delay:5e3};class ds extends ye{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cs}static get DefaultType(){return us}static get NAME(){return Go}show(){const e=de.trigger(this._element,rs);if(e.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(os);const t=()=>{this._element.classList.remove(ls),de.trigger(this._element,is),this._maybeScheduleHide()};this._element.classList.remove(ss),U(this._element),this._element.classList.add(as,ls),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown())return;const e=de.trigger(this._element,ts);if(e.defaultPrevented)return;const t=()=>{this._element.classList.add(ss),this._element.classList.remove(ls,as),de.trigger(this._element,ns)};this._element.classList.add(ls),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(as),super.dispose()}isShown(){return this._element.classList.contains(as)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){de.on(this._element,Qo,(e=>this._onInteraction(e,!0))),de.on(this._element,Jo,(e=>this._onInteraction(e,!1))),de.on(this._element,Xo,(e=>this._onInteraction(e,!0))),de.on(this._element,es,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=ds.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}_e(ds),q(ds);var hs,fs=Object.defineProperty,ps=(e,t,n)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ms=(e,t,n)=>(ps(e,"symbol"!=typeof t?t+"":t,n),n),gs=Object.defineProperty,vs=Object.defineProperties,ys=Object.getOwnPropertyDescriptors,bs=Object.getOwnPropertySymbols,ws=Object.prototype.hasOwnProperty,_s=Object.prototype.propertyIsEnumerable,Ss=(e,t,n)=>t in e?gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Is=(e,t)=>{for(var n in t||(t={}))ws.call(t,n)&&Ss(e,n,t[n]);if(bs)for(var n of bs(t))_s.call(t,n)&&Ss(e,n,t[n]);return e},ks=(e,t)=>vs(e,ys(t));function Ts(e,t){var n;const r=(0,i.XI)();return(0,o.m0)((()=>{r.value=e()}),ks(Is({},t),{flush:null!=(n=null==t?void 0:t.flush)?n:"sync"})),(0,i.OT)(r)}const Es=typeof window<"u",Cs=e=>"function"==typeof e,Ds=e=>"string"==typeof e,As=()=>{};function xs(e){return"function"==typeof e?e():(0,i.SU)(e)}function Os(e,t){function n(...n){e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})}return n}Es&&(null==(hs=null==window?void 0:window.navigator)?void 0:hs.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const Ns=e=>e();function Ps(e=Ns){const t=(0,i.iH)(!0);function n(){t.value=!1}function r(){t.value=!0}return{isActive:t,pause:n,resume:r,eventFilter:(...n)=>{t.value&&e(...n)}}}function Fs(e){return e}function Vs(e){return!!(0,i.nZ)()&&((0,i.EB)(e),!0)}function Ms(e){return"function"==typeof e?(0,o.Fl)(e):(0,i.iH)(e)}function Ls(e,t=!0){(0,o.FN)()?(0,o.bv)(e):t?e():(0,o.Y3)(e)}function Rs(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n;let a=null;const l=(0,i.iH)(!1);function u(){a&&(clearInterval(a),a=null)}function c(){l.value=!1,u()}function d(){(0,i.SU)(t)<=0||(l.value=!0,s&&e(),u(),a=setInterval(e,xs(t)))}if(r&&Es&&d(),(0,i.dq)(t)||Cs(t)){const e=(0,o.YP)(t,(()=>{l.value&&Es&&d()}));Vs(e)}return Vs(c),{isActive:l,pause:c,resume:d}}var Us=Object.getOwnPropertySymbols,js=Object.prototype.hasOwnProperty,Bs=Object.prototype.propertyIsEnumerable,$s=(e,t)=>{var n={};for(var r in e)js.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Us)for(var r of Us(e))t.indexOf(r)<0&&Bs.call(e,r)&&(n[r]=e[r]);return n};function zs(e,t,n={}){const r=n,{eventFilter:i=Ns}=r,s=$s(r,["eventFilter"]);return(0,o.YP)(e,Os(i,t),s)}var qs=Object.defineProperty,Hs=Object.defineProperties,Ws=Object.getOwnPropertyDescriptors,Ys=Object.getOwnPropertySymbols,Gs=Object.prototype.hasOwnProperty,Ks=Object.prototype.propertyIsEnumerable,Zs=(e,t,n)=>t in e?qs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qs=(e,t)=>{for(var n in t||(t={}))Gs.call(t,n)&&Zs(e,n,t[n]);if(Ys)for(var n of Ys(t))Ks.call(t,n)&&Zs(e,n,t[n]);return e},Js=(e,t)=>Hs(e,Ws(t)),Xs=(e,t)=>{var n={};for(var r in e)Gs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ys)for(var r of Ys(e))t.indexOf(r)<0&&Ks.call(e,r)&&(n[r]=e[r]);return n};function ea(e,t,n={}){const r=n,{eventFilter:i}=r,o=Xs(r,["eventFilter"]),{eventFilter:s,pause:a,resume:l,isActive:u}=Ps(i);return{stop:zs(e,t,Js(Qs({},o),{eventFilter:s})),pause:a,resume:l,isActive:u}}function ta(e){var t;const n=xs(e);return null!=(t=null==n?void 0:n.$el)?t:n}const na=Es?window:void 0;function ra(...e){let t,n,r,i;if(Ds(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=na):[t,n,r,i]=e,!t)return As;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=()=>{s.forEach((e=>e())),s.length=0},l=(e,t,n)=>(e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)),u=(0,o.YP)((()=>ta(t)),(e=>{a(),e&&s.push(...n.flatMap((t=>r.map((n=>l(e,t,n))))))}),{immediate:!0,flush:"post"}),c=()=>{u(),a()};return Vs(c),c}function ia(e,t=!1){const n=(0,i.iH)(),r=()=>n.value=Boolean(e());return r(),Ls(r,t),n}function oa(e,t={}){const{window:n=na}=t,r=ia((()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia));let s;const a=(0,i.iH)(!1),l=()=>{!s||("removeEventListener"in s?s.removeEventListener("change",u):s.removeListener(u))},u=()=>{!r.value||(l(),s=n.matchMedia(Ms(e).value),a.value=s.matches,"addEventListener"in s?s.addEventListener("change",u):s.addListener(u))};return(0,o.m0)(u),Vs((()=>l())),a}const sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},aa="__vueuse_ssr_handlers__";sa[aa]=sa[aa]||{};const la=sa[aa];function ua(e,t){return la[e]||t}function ca(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}var da=Object.defineProperty,ha=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,pa=Object.prototype.propertyIsEnumerable,ma=(e,t,n)=>t in e?da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ga=(e,t)=>{for(var n in t||(t={}))fa.call(t,n)&&ma(e,n,t[n]);if(ha)for(var n of ha(t))pa.call(t,n)&&ma(e,n,t[n]);return e};const va={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function ya(e,t,n,r={}){var s;const{flush:a="pre",deep:l=!0,listenToStorageChanges:u=!0,writeDefaults:c=!0,mergeDefaults:d=!1,shallow:h,window:f=na,eventFilter:p,onError:m=(e=>{console.error(e)})}=r,g=(h?i.XI:i.iH)(t);if(!n)try{n=ua("getDefaultStorage",(()=>{var e;return null==(e=na)?void 0:e.localStorage}))()}catch(T){m(T)}if(!n)return g;const v=xs(t),y=ca(v),b=null!=(s=r.serializer)?s:va[y],{pause:w,resume:_}=ea(g,(()=>S(g.value)),{flush:a,deep:l,eventFilter:p});return f&&u&&ra(f,"storage",k),k(),g;function S(t){try{if(null==t)n.removeItem(e);else{const r=b.write(t),i=n.getItem(e);i!==r&&(n.setItem(e,r),f&&(null==f||f.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r,storageArea:n}))))}}catch(r){m(r)}}function I(t){const r=t?t.newValue:n.getItem(e);if(null==r)return c&&null!==v&&n.setItem(e,b.write(v)),v;if(!t&&d){const e=b.read(r);return Cs(d)?d(e,v):"object"!==y||Array.isArray(e)?e:ga(ga({},v),e)}return"string"!=typeof r?r:b.read(r)}function k(t){if(!t||t.storageArea===n){if(t&&null==t.key)return void(g.value=v);if(!t||t.key===e){w();try{g.value=I(t)}catch(r){m(r)}finally{t?(0,o.Y3)(_):_()}}}}}function ba(e){return oa("(prefers-color-scheme: dark)",e)}var wa,_a=Object.defineProperty,Sa=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,Ta=(e,t,n)=>t in e?_a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ea=(e,t)=>{for(var n in t||(t={}))Ia.call(t,n)&&Ta(e,n,t[n]);if(Sa)for(var n of Sa(t))ka.call(t,n)&&Ta(e,n,t[n]);return e};function Ca(e={}){const{selector:t="html",attribute:n="class",initialValue:r="auto",window:s=na,storage:a,storageKey:l="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:c,emitAuto:d}=e,h=Ea({auto:"",light:"light",dark:"dark"},e.modes||{}),f=ba({window:s}),p=(0,o.Fl)((()=>f.value?"dark":"light")),m=c||(null==l?(0,i.iH)(r):ya(l,r,a,{window:s,listenToStorageChanges:u})),g=(0,o.Fl)({get(){return"auto"!==m.value||d?m.value:p.value},set(e){m.value=e}}),v=ua("updateHTMLAttrs",((e,t,n)=>{const r=null==s?void 0:s.document.querySelector(e);if(r)if("class"===t){const e=n.split(/\s/g);Object.values(h).flatMap((e=>(e||"").split(/\s/g))).filter(Boolean).forEach((t=>{e.includes(t)?r.classList.add(t):r.classList.remove(t)}))}else r.setAttribute(t,n)}));function y(e){var r;const i="auto"===e?p.value:e;v(t,n,null!=(r=h[i])?r:i)}function b(t){e.onChanged?e.onChanged(t,y):y(t)}return(0,o.YP)(g,b,{flush:"post",immediate:!0}),d&&(0,o.YP)(p,(()=>b(g.value)),{flush:"post"}),Ls((()=>b(g.value))),g}(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(wa||(wa={}));var Da=Object.defineProperty,Aa=Object.getOwnPropertySymbols,xa=Object.prototype.hasOwnProperty,Oa=Object.prototype.propertyIsEnumerable,Na=(e,t,n)=>t in e?Da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pa=(e,t)=>{for(var n in t||(t={}))xa.call(t,n)&&Na(e,n,t[n]);if(Aa)for(var n of Aa(t))Oa.call(t,n)&&Na(e,n,t[n]);return e};const Fa={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Pa({linear:Fs},Fa);const Va=e=>Ts((()=>e.value?`justify-content-${e.value}`:""));class Ma{constructor(e,t={}){if(ms(this,"cancelable",!0),ms(this,"componentId",null),ms(this,"_defaultPrevented",!1),ms(this,"eventType",""),ms(this,"nativeEvent",null),ms(this,"_preventDefault"),ms(this,"relatedTarget",null),ms(this,"target",null),!e)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,Ma.Defaults,t,{eventType:e}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(e){this._defaultPrevented=e}get preventDefault(){return this._preventDefault}set preventDefault(e){this._preventDefault=e}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class La extends Ma{constructor(e,t={}){super(e,t),ms(this,"trigger",null),Object.assign(this,Ma.Defaults,t,{eventType:e})}static get Defaults(){return{...super.Defaults,trigger:null}}}const Ra=e=>null!==e&&"object"==typeof e,Ua=e=>/^[0-9]*\.?[0-9]+$/.test(String(e)),ja=e=>"[object Object]"===Object.prototype.toString.call(e),Ba=e=>null===e,$a=/_/g,za=/([a-z])([A-Z])/g,qa=/(\s|^)(\w)/g,Ha=/(\s|^)(\w)/,Wa=/\s+/,Ya=/^#/,Ga=/^#[A-Za-z]+[\w\-:.]*$/,Ka=/-u-.+/,Za=(e,t=2)=>"string"==typeof e?e:null==e?"":Array.isArray(e)||ja(e)&&e.toString===Object.prototype.toString?JSON.stringify(e,null,t):String(e),Qa=e=>e.replace($a," ").replace(za,((e,t,n)=>`${t} ${n}`)).replace(Ha,((e,t,n)=>t+n.toUpperCase())),Ja=e=>e.replace($a," ").replace(za,((e,t,n)=>`${t} ${n}`)).replace(qa,((e,t,n)=>t+n.toUpperCase())),Xa=e=>{const t=e.trim();return t.charAt(0).toUpperCase()+t.slice(1)},el=e=>`\\${e}`,tl=e=>{const t=Za(e),{length:n}=t,r=t.charCodeAt(0);return t.split("").reduce(((e,i,o)=>{const s=t.charCodeAt(o);return 0===s?`${e}�`:127===s||s>=1&&s<=31||0===o&&s>=48&&s<=57||1===o&&s>=48&&s<=57&&45===r?e+el(`${s.toString(16)} `):0===o&&45===s&&1===n?e+el(i):s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?e+i:e+el(i)}),"")},nl=typeof window<"u",rl=typeof document<"u",il=typeof navigator<"u",ol=nl&&rl&&il,sl=nl?window:{},al=(()=>{let e=!1;if(ol)try{const t={get passive(){e=!0}};sl.addEventListener("test",t,t),sl.removeEventListener("test",t,t)}catch{e=!1}return e})(),ll=typeof window<"u",ul=typeof document<"u",cl=typeof Element<"u",dl=typeof navigator<"u",hl=ll&&ul&&dl,fl=ll?window:{},pl=ul?document:{},ml=dl?navigator:{},gl=(ml.userAgent||"").toLowerCase();gl.indexOf("jsdom"),/msie|trident/.test(gl),(()=>{let e=!1;if(hl)try{const t={get passive(){return e=!0,e}};fl.addEventListener("test",t,t),fl.removeEventListener("test",t,t)}catch{e=!1}})(),hl&&("ontouchstart"in pl.documentElement||ml.maxTouchPoints),hl&&Boolean(fl.PointerEvent||fl.MSPointerEvent),hl&&"IntersectionObserver"in fl&&"IntersectionObserverEntry"in fl&&fl.IntersectionObserverEntry.prototype;const vl=cl?Element.prototype:void 0,yl=(null==vl?void 0:vl.matches)||(null==vl?void 0:vl.msMatchesSelector)||(null==vl?void 0:vl.webkitMatchesSelector),bl=e=>!(!e||e.nodeType!==Node.ELEMENT_NODE),wl=e=>bl(e)?e.getBoundingClientRect():null,_l=(e=[])=>{const{activeElement:t}=document;return t&&!e.some((e=>e===t))?t:null},Sl=e=>bl(e)&&e===_l(),Il=(e,t={})=>{try{e.focus(t)}catch(n){console.error(n)}return Sl(e)},kl=(e,t)=>t&&bl(e)&&e.getAttribute(t)||null,Tl=e=>{if("none"===kl(e,"display"))return!1;const t=wl(e);return!!(t&&t.height>0&&t.width>0)},El=(e,t)=>!e||e(t).filter((e=>e.type!==o.sv)).length<1,Cl=(e,t)=>(bl(t)?t:pl).querySelector(e)||null,Dl=(e,t)=>Array.from([(bl(t)?t:pl).querySelectorAll(e)]),Al=(e,t)=>t&&bl(e)?e.getAttribute(t):null,xl=e=>pl.getElementById(/^#/.test(e)?e.slice(1):e)||null,Ol=(e,t,n)=>{t&&bl(e)&&e.setAttribute(t,n)},Nl=(e,t)=>{t&&bl(e)&&e.removeAttribute(t)},Pl=(e,t)=>Za(e).toLowerCase()===Za(t).toLowerCase(),Fl=nl?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||(e=>setTimeout(e,16)):e=>setTimeout(e,0),Vl=(e,t)=>!!bl(e)&&yl.call(e,t),Ml=(null==vl?void 0:vl.closest)||function(e){let t=this;if(!t)return null;do{if(Vl(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t.nodeType===Node.ELEMENT_NODE);return null},Ll=(e,t,n=!1)=>{if(!bl(t))return null;const r=Ml.call(t,e);return n?r:r===t?null:r},Rl=(e,t,n)=>t.concat(["sm","md","lg","xl","xxl"]).reduce(((t,r)=>(t[e?`${e}${r.charAt(0).toUpperCase()+r.slice(1)}`:r]=n,t)),Object.create(null)),Ul=(e,t,n,r=n)=>Object.keys(t).reduce(((t,i)=>(e[i]&&t.push([r,i.replace(n,""),e[i]].filter((e=>e&&"boolean"!=typeof e)).join("-").toLowerCase()),t)),[]),jl=(e="")=>`__BVID__${Math.random().toString().slice(2,8)}___BV_${e}__`,Bl=(e,t)=>!0===e||"true"===e||""===e?"true":"grammar"===e||"spelling"===e?e:!1===t?"true":!1===e||"false"===e?"false":void 0,$l=e=>!!e&&"object"==typeof e&&e.constructor===Object,zl=(e,t,n=!0)=>{const r=e instanceof Date&&"function"==typeof e.getMonth?new Date(e.getTime()):Object.assign({},e);return $l(e)&&$l(t)&&Object.keys(t).forEach((i=>{$l(t[i])?i in e?r[i]=zl(e[i],t[i],n):Object.assign(r,{[i]:t[i]}):Array.isArray(t[i])&&Array.isArray(e[i])?Object.assign(r,{[i]:n?e[i].concat(t[i].filter((t=>!e[i].includes(t)))):t[i]}):Object.assign(r,{[i]:t[i]})})),r},ql=(e,t={},n={})=>{const r=[e];let i;for(let o=0;o<r.length&&!i;o++){const e=r[o];i=n[e]}return i&&"function"==typeof i?i(t):i},Hl=(e,t=NaN)=>Number.isInteger(e)?e:t,Wl=(e,t=NaN)=>{const n=Number.parseInt(e,10);return Number.isNaN(n)?t:n},Yl=(e,t=NaN)=>{const n=Number.parseFloat(e.toString());return Number.isNaN(n)?t:n},Gl=(e,t)=>Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,n)=>({...t,[n]:e[n]})),{}),Kl=e=>Array.isArray(e)?e.map((e=>Kl(e))):e instanceof Date?new Date(e.getTime()):e&&"object"==typeof e?Object.getOwnPropertyNames(e).reduce(((t,n)=>{var r;return Object.defineProperty(t,n,null!=(r=Object.getOwnPropertyDescriptor(e,n))?r:{}),t[n]=Kl(e[n]),t}),Object.create(Object.getPrototypeOf(e))):e,Zl=e=>new Promise((t=>t(Kl(e)))),Ql=(e,t)=>t+(e?Xa(e):""),Jl=(e,t)=>(Array.isArray(t)?t.slice():Object.keys(t)).reduce(((t,n)=>(t[n]=e[n],t)),{}),Xl=e=>"boolean"==typeof e?e:""===e||"true"===e,eu=e=>!(!e.href&&!e.to);function tu(e){return Ts((()=>void 0===e.value||null===e.value?e.value:Xl(e.value)))}const nu=Symbol(),ru={items:(0,i.qj)([]),reset(){this.items=(0,i.qj)([])}},iu=e=>{e.provide(nu,ru)},ou=()=>{var e;return null!=(e=(0,o.f3)(nu))?e:ru},su=(e,t,n)=>{(0,o.bv)((()=>{var r;null==(r=null==e?void 0:e.value)||r.addEventListener(t,n)})),(0,o.Jd)((()=>{var r;null==(r=null==e?void 0:e.value)||r.removeEventListener(t,n)}))},au=e=>(0,o.Fl)((()=>({"form-check":!1===e.plain&&!1===e.button,"form-check-inline":!0===e.inline,"form-switch":!0===e.switch,[`form-control-${e.size}`]:void 0!==e.size&&"md"!==e.size}))),lu=e=>(0,o.Fl)((()=>({"form-check-input":!1===e.plain&&!1===e.button,"is-valid":!0===e.state,"is-invalid":!1===e.state,"btn-check":!0===e.button}))),uu=e=>(0,o.Fl)((()=>({"form-check-label":!1===e.plain&&!1===e.button,btn:!0===e.button,[`btn-${e.buttonVariant}`]:!0===e.button&&void 0!==e.buttonVariant,[`btn-${e.size}`]:e.button&&e.size&&"md"!==e.size}))),cu=e=>(0,o.Fl)((()=>({"aria-invalid":Bl(e.ariaInvalid,e.state),"aria-required":!0===e.required||void 0}))),du=e=>(0,o.Fl)((()=>({"was-validated":!0===e.validated,"btn-group":!0===e.buttons&&!1===e.stacked,"btn-group-vertical":!0===e.stacked,[`btn-group-${e.size}`]:void 0!==e.size}))),hu=(e,t,n)=>e.reduce(((e,t)=>"Symbol(Fragment)"===t.type.toString()?e.concat(t.children):e.concat([t])),[]).filter((e=>e.type.__name===t||e.type.name===t)).map((e=>{const t=(e.children.default?e.children.default():[]).find((e=>"Symbol(Text)"===e.type.toString()));return{props:{disabled:n,...e.props},text:t?t.children:""}})),fu=(e,t)=>"string"==typeof e?{props:{value:e,disabled:t.disabled},text:e}:{props:{value:e[t.valueField],disabled:t.disabled||e[t.disabledField],...e.props},text:e[t.textField],html:e[t.htmlField]},pu=(e,t,n,r,i)=>({...e,props:{"button-variant":n.buttonVariant,form:n.form,name:r.value,id:`${i.value}_option_${t}`,button:n.buttons,state:n.state,plain:n.plain,size:n.size,inline:!n.stacked,required:n.required,...e.props}}),mu=(e,t)=>(0,o.Fl)((()=>(null==e?void 0:e.value)||jl(t))),gu={ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{type:String,required:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{type:String,required:!1},formatter:{type:Function,required:!1},id:{type:String,required:!1},lazy:{type:Boolean,default:!1},lazyFormatter:{type:Boolean,default:!1},list:{type:String,required:!1},modelValue:{type:[String,Number],default:""},name:{type:String,required:!1},number:{type:Boolean,default:!1},placeholder:{type:String,required:!1},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,required:!1},state:{type:Boolean,default:null},trim:{type:Boolean,default:!1}},vu=(e,t)=>{const n=(0,i.iH)();let r=null,s=!0;const a=mu((0,i.Vh)(e,"id"),"input"),l=(t,n,r=!1)=>(t=String(t),"function"!=typeof e.formatter||e.lazyFormatter&&!r?t:(s=!1,e.formatter(t,n))),u=t=>e.trim?t.trim():e.number?Number.parseFloat(t):t,c=()=>{(0,o.Y3)((()=>{var t;e.autofocus&&(null==(t=n.value)||t.focus())}))};(0,o.bv)(c),(0,o.bv)((()=>{n.value&&(n.value.value=e.modelValue)})),(0,o.dl)(c);const d=(0,o.Fl)((()=>{var t;return Bl(e.ariaInvalid,null!=(t=e.state)?t:void 0)})),h=n=>{const{value:i}=n.target,o=l(i,n);if(!1===o||n.defaultPrevented)return void n.preventDefault();if(e.lazy)return;const s=u(o);e.modelValue!==s&&(r=i,t("update:modelValue",s)),t("input",o)},f=n=>{const{value:i}=n.target,o=l(i,n);if(!1===o||n.defaultPrevented)return void n.preventDefault();if(!e.lazy)return;r=i,t("update:modelValue",o);const s=u(o);e.modelValue!==s&&t("change",o)},p=n=>{if(t("blur",n),!e.lazy&&!e.lazyFormatter)return;const{value:i}=n.target,o=l(i,n,!0);r=i,t("update:modelValue",o)},m=()=>{var t;e.disabled||null==(t=n.value)||t.focus()},g=()=>{var t;e.disabled||null==(t=n.value)||t.blur()};return(0,o.YP)((()=>e.modelValue),(e=>{!n.value||(n.value.value=r&&s?r:e,r=null,s=!0)})),{input:n,computedId:a,computedAriaInvalid:d,onInput:h,onChange:f,onBlur:p,focus:m,blur:g}},yu=(e,t)=>{if(!e)return e;if(t in e)return e[t];const n=t.split(".");return yu(e[n[0]],n.splice(1).join("."))},bu=(e,t=null,n,r)=>{if("[object Object]"===Object.prototype.toString.call(e)){const i=yu(e,r.valueField),o=yu(e,r.textField),s=yu(e,r.htmlField),a=yu(e,r.disabledField),l=e[r.optionsField]||null;return null!==l?{label:String(yu(e,r.labelField)||o),options:wu(l,n,r)}:{value:typeof i>"u"?t||o:i,text:String(typeof o>"u"?t:o),html:s,disabled:Boolean(a)}}return{value:t||e,text:String(e),disabled:!1}},wu=(e,t,n)=>Array.isArray(e)?e.map((e=>bu(e,null,t,n))):"[object Object]"===Object.prototype.toString.call(e)?(console.warn(`[BootstrapVue warn]: ${t} - Setting prop "options" to an object is deprecated. Use the array format instead.`),Object.keys(e).map((r=>{const i=e[r];switch(typeof i){case"object":return bu(i.text,String(i.value),t,n);default:return bu(i,String(r),t,n)}}))):[],_u=(e=!1,t={})=>{var n,r;const i="data-bs-theme",o="body";return Ca({attribute:i,selector:o,storageKey:e?`${null!=(n=t.attribute)?n:i}-${null!=(r=t.selector)?r:o}`:null,...t})},Su=["id"],Iu=Symbol(),ku=(0,o.aZ)({__name:"BAccordion",props:{flush:{default:!1},free:{default:!1},id:null},setup(e){const t=e,n=mu((0,i.Vh)(t,"id"),"accordion"),r=tu((0,i.Vh)(t,"flush")),a=tu((0,i.Vh)(t,"free")),l=(0,o.Fl)((()=>({"accordion-flush":r.value})));return a.value||(0,o.JJ)(Iu,n.value),(e,t)=>((0,o.wg)(),(0,o.iD)("div",{id:(0,i.SU)(n),class:(0,s.C_)(["accordion",(0,i.SU)(l)])},[(0,o.WI)(e.$slots,"default")],10,Su))}}),Tu=(0,o.aZ)({__name:"BCollapse",props:{accordion:null,id:{default:jl()},modelValue:{default:!1},tag:{default:"div"},toggle:{default:!1},visible:{default:!1},isNav:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(e,{emit:t}){const n=e,r=tu((0,i.Vh)(n,"modelValue")),a=tu((0,i.Vh)(n,"toggle")),l=tu((0,i.Vh)(n,"visible")),u=tu((0,i.Vh)(n,"isNav")),c=(0,i.iH)(),d=(0,i.iH)(),h=(0,o.Fl)((()=>({show:r.value,"navbar-collapse":u.value}))),f=()=>t("update:modelValue",!1);return(0,o.YP)((()=>r.value),(e=>{var t,n;e?null==(t=d.value)||t.show():null==(n=d.value)||n.hide()})),(0,o.YP)((()=>l.value),(e=>{var n,r;e?(t("update:modelValue",!!e),null==(n=d.value)||n.show()):(t("update:modelValue",!!e),null==(r=d.value)||r.hide())})),su(c,"show.bs.collapse",(()=>{t("show"),t("update:modelValue",!0)})),su(c,"hide.bs.collapse",(()=>{t("hide"),t("update:modelValue",!1)})),su(c,"shown.bs.collapse",(()=>t("shown"))),su(c,"hidden.bs.collapse",(()=>t("hidden"))),(0,o.bv)((()=>{var e;d.value=new nn(c.value,{parent:n.accordion?`#${n.accordion}`:void 0,toggle:a.value}),(l.value||r.value)&&(t("update:modelValue",!0),null==(e=d.value)||e.show())})),(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,ref_key:"element",ref:c,class:(0,s.C_)(["collapse",(0,i.SU)(h)]),"data-bs-parent":e.accordion||null,"is-nav":(0,i.SU)(u)},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{visible:(0,i.SU)(r),close:f})])),_:3},8,["id","class","data-bs-parent","is-nav"]))}}),Eu=(e,t)=>e.setAttribute("data-bs-theme",t),Cu={mounted(e,t){Eu(e,t.value)},updated(e,t){Eu(e,t.value)}},Du={mounted(e,t){const n=t.modifiers.left?"left":t.modifiers.right?"right":t.modifiers.bottom?"bottom":t.modifiers.top?"top":"right",r=[];t.modifiers.manual?r.push("manual"):(t.modifiers.click&&r.push("click"),t.modifiers.hover&&r.push("hover"),t.modifiers.focus&&r.push("focus")),e.setAttribute("data-bs-toggle","popover"),new Ki(e,{trigger:0===r.length?"click":r.join(" "),placement:n,content:t.value,html:t.modifiers.html})},unmounted(e){const t=Ki.getInstance(e);null!==t&&t.dispose()}},Au=e=>{if(e.classList.contains("offcanvas"))return"offcanvas";if(e.classList.contains("collapse"))return"collapse";throw Error("Couldn't resolve toggle type")},xu=(e,t)=>{const{modifiers:n,arg:r,value:i}=e,o=Object.keys(n||{}),s="string"==typeof i?i.split(Wa):i;if(Pl(t.tagName,"a")){const e=Al(t,"href")||"";Ga.test(e)&&o.push(e.replace(Ya,""))}return Array.prototype.concat.apply([],[r,s]).forEach((e=>"string"==typeof e&&o.push(e))),o.filter(((e,t,n)=>e&&n.indexOf(e)===t))},Ou={mounted(e,t){const n=xu(t,e),r=[],i="a"===e.tagName?"href":"data-bs-target";n.forEach((t=>{const n=document.getElementById(t);null!==n&&(e.setAttribute("data-bs-toggle",Au(n)),r.push(`#${t}`))})),r.length>0&&e.setAttribute(i,r.join(","))}},Nu=(e,t)=>{if(null!=t&&t.trigger)return t.trigger;if(e.manual)return"manual";const n=[];return e.click&&n.push("click"),e.hover&&n.push("hover"),e.focus&&n.push("focus"),n.length>0?n.join(" "):"hover focus"},Pu=(e,t)=>null!=t&&t.placement?t.placement:e.left?"left":e.right?"right":e.bottom?"bottom":"top",Fu=e=>null!=e&&e.delay?e.delay:0,Vu=e=>typeof e>"u"?(console.warn("Review tooltip directive usage. Some uses are not defining a title in root component or a value like `v-b-tooltip='{title: \"my title\"}'` nor `v-b-tooltip=\"'my title'\"` to define a title"),""):"object"==typeof e?null==e?void 0:e.title:e,Mu={beforeMount(e,t){e.setAttribute("data-bs-toggle","tooltip"),e.getAttribute("title")||e.setAttribute("title",Vu(t.value).toString());const n=/<("[^"]*"|'[^']*'|[^'">])*>/.test(e.title),r=Nu(t.modifiers,t.value),i=Pu(t.modifiers,t.value),o=Fu(t.value),s=e.getAttribute("title");new zi(e,{trigger:r,placement:i,delay:o,html:n}),s&&e.setAttribute("data-bs-original-title",s)},updated(e,t){e.getAttribute("title")||e.setAttribute("title",Vu(t.value).toString());const n=e.getAttribute("title"),r=e.getAttribute("data-bs-original-title"),i=zi.getInstance(e);e.removeAttribute("title"),n&&n!==r&&(null==i||i.setContent({".tooltip-inner":n}),e.setAttribute("data-bs-original-title",n))},unmounted(e){const t=zi.getInstance(e);null!==t&&t.dispose()}},Lu=new Map;class Ru{constructor(e,t,n,r,i){ms(this,"element"),ms(this,"margin"),ms(this,"once"),ms(this,"callback"),ms(this,"instance"),ms(this,"observer"),ms(this,"doneOnce"),ms(this,"visible"),this.element=e,this.margin=t,this.once=n,this.callback=r,this.instance=i,this.createObserver()}createObserver(){if(this.observer&&this.stop(),!this.doneOnce&&"function"==typeof this.callback){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch{return console.error("Intersection Observer not supported"),this.doneOnce=!0,this.observer=void 0,void this.callback(null)}this.instance.$nextTick((()=>{this.observer&&this.observer.observe(this.element)}))}}handler(e){const[t]=e,n=Boolean(t.isIntersecting||t.intersectionRatio>0);n!==this.visible&&(this.visible=n,this.callback(n),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}stop(){this.observer&&this.observer.disconnect(),this.observer=null}}const Uu=e=>{if(Lu.has(e)){const t=Lu.get(e);t&&t.stop&&t.stop(),Lu.delete(e)}},ju=(e,t)=>{const n={margin:"0px",once:!1,callback:t.value};Object.keys(t.modifiers).forEach((e=>{Number.isInteger(e)?n.margin=`${e}px`:"once"===e.toLowerCase()&&(n.once=!0)})),Uu(e);const r=new Ru(e,n.margin,n.once,n.callback,t.instance);Lu.set(e,r)},Bu={beforeMount(e,t){ju(e,t)},updated(e,t){ju(e,t)},unmounted(e){Uu(e)}},$u={class:"accordion-item"},zu=["id"],qu=["aria-expanded","aria-controls"],Hu={class:"accordion-body"},Wu=(0,o.aZ)({__name:"BAccordionItem",props:{id:null,title:null,visible:{default:!1}},setup(e){const t=e,n=(0,o.f3)(Iu,""),r=mu((0,i.Vh)(t,"id"),"accordion_item"),a=tu((0,i.Vh)(t,"visible"));return(t,l)=>((0,o.wg)(),(0,o.iD)("div",$u,[(0,o._)("h2",{id:`${(0,i.SU)(r)}heading`,class:"accordion-header"},[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:(0,s.C_)(["accordion-button",{collapsed:!(0,i.SU)(a)}]),type:"button","aria-expanded":(0,i.SU)(a)?"true":"false","aria-controls":(0,i.SU)(r)},[(0,o.WI)(t.$slots,"title",{},(()=>[(0,o.Uk)((0,s.zw)(e.title),1)]))],10,qu)),[[(0,i.SU)(Ou),void 0,(0,i.SU)(r)]])],8,zu),(0,o.Wm)(Tu,{id:(0,i.SU)(r),class:"accordion-collapse",visible:e.visible,accordion:(0,i.SU)(n),"aria-labelledby":`heading${(0,i.SU)(r)}`},{default:(0,o.w5)((()=>[(0,o._)("div",Hu,[(0,o.WI)(t.$slots,"default")])])),_:3},8,["id","visible","accordion","aria-labelledby"])]))}}),Yu=(0,o.aZ)({__name:"BTransition",props:{appear:{default:!1},mode:null,noFade:{default:!1},transProps:null},setup(e){const t=e,n=tu((0,i.Vh)(t,"appear")),r=tu((0,i.Vh)(t,"noFade")),l=(0,o.Fl)((()=>{const e={name:"",enterActiveClass:"",enterToClass:"",leaveActiveClass:"",leaveToClass:"showing",enterFromClass:"showing",leaveFromClass:""},t={...e,enterActiveClass:"fade showing",leaveActiveClass:"fade showing"};return r.value?e:t})),u=(0,o.Fl)((()=>({mode:t.mode,css:!0,...l.value}))),c=(0,o.Fl)((()=>void 0!==t.transProps?{...u.value,...t.transProps}:n.value?{...u.value,appear:!0,appearActiveClass:l.value.enterActiveClass,appearToClass:l.value.enterToClass}:u.value));return(e,t)=>((0,o.wg)(),(0,o.j4)(a.uT,(0,s.vs)((0,o.F4)((0,i.SU)(c))),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16))}}),Gu=["type","disabled","aria-label"],Ku=(0,o.aZ)({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{default:!1},white:{default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const n=e,r=tu((0,i.Vh)(n,"disabled")),a=tu((0,i.Vh)(n,"white")),l=(0,o.Fl)((()=>({"btn-close-white":a.value})));return(n,a)=>((0,o.wg)(),(0,o.iD)("button",{type:e.type,class:(0,s.C_)(["btn-close",(0,i.SU)(l)]),disabled:(0,i.SU)(r),"aria-label":e.ariaLabel,onClick:a[0]||(a[0]=e=>t("click",e))},null,10,Gu))}}),Zu={key:0,class:"visually-hidden"},Qu=(0,o.aZ)({__name:"BSpinner",props:{label:null,role:{default:"status"},small:{default:!1},tag:{default:"span"},type:{default:"border"},variant:null},setup(e){const t=e,n=(0,o.Rr)(),r=tu((0,i.Vh)(t,"small")),a=(0,o.Fl)((()=>({"spinner-border":"border"===t.type,"spinner-border-sm":"border"===t.type&&r.value,"spinner-grow":"grow"===t.type,"spinner-grow-sm":"grow"===t.type&&r.value,[`text-${t.variant}`]:void 0!==t.variant}))),l=(0,o.Fl)((()=>!El(n.label)));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)((0,i.SU)(a)),role:e.label||(0,i.SU)(l)?e.role:null,"aria-hidden":!e.label&&!(0,i.SU)(l)||null},{default:(0,o.w5)((()=>[e.label||(0,i.SU)(l)?((0,o.wg)(),(0,o.iD)("span",Zu,[(0,o.WI)(t.$slots,"label",{},(()=>[(0,o.Uk)((0,s.zw)(e.label),1)]))])):(0,o.kq)("",!0)])),_:3},8,["class","role","aria-hidden"]))}}),Ju={active:{type:[Boolean,String],default:!1},activeClass:{type:String,default:"router-link-active"},append:{type:[Boolean,String],default:!1},disabled:{type:[Boolean,String],default:!1},event:{type:[String,Array],default:"click"},exact:{type:[Boolean,String],default:!1},exactActiveClass:{type:String,default:"router-link-exact-active"},href:{type:String},rel:{type:String,default:null},replace:{type:[Boolean,String],default:!1},routerComponentName:{type:String,default:"router-link"},routerTag:{type:String,default:"a"},target:{type:String,default:"_self"},to:{type:[String,Object],default:null}},Xu=(0,o.aZ)({props:Ju,emits:["click"],setup(e,{emit:t,attrs:n}){const r=tu((0,i.Vh)(e,"active")),s=tu((0,i.Vh)(e,"append")),a=tu((0,i.Vh)(e,"disabled")),l=tu((0,i.Vh)(e,"exact")),u=tu((0,i.Vh)(e,"replace")),c=(0,o.FN)(),d=(0,i.iH)(null),h=(0,o.Fl)((()=>{const t=e.routerComponentName.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("");return void 0===(null==c?void 0:c.appContext.app.component(t))||a.value||!e.to?"a":e.routerComponentName})),f=(0,o.Fl)((()=>{const t="#";if(e.href)return e.href;if("string"==typeof e.to)return e.to||t;const n=e.to;if("[object Object]"===Object.prototype.toString.call(n)&&(n.path||n.query||n.hash)){const e=n.path||"",r=n.query?`?${Object.keys(n.query).map((e=>`${e}=${n.query[e]}`)).join("=")}`:"",i=n.hash&&"#"!==n.hash.charAt(0)?`#${n.hash}`:n.hash||"";return`${e}${r}${i}`||t}return t})),p=(0,o.Fl)((()=>({to:e.to,href:f.value,target:e.target,rel:"_blank"===e.target&&null===e.rel?"noopener":e.rel||null,tabindex:a.value?"-1":typeof n.tabindex>"u"?null:n.tabindex,"aria-disabled":a.value?"true":null})));return{computedLinkClasses:(0,o.Fl)((()=>({active:r.value,disabled:a.value}))),tag:h,routerAttr:p,link:d,clicked:e=>{if(a.value)return e.preventDefault(),void e.stopImmediatePropagation();t("click",e)},activeBoolean:r,appendBoolean:s,disabledBoolean:a,replaceBoolean:u,exactBoolean:l}}}),ec=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};function tc(e,t,n,r,i,s){return"router-link"===e.tag?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),(0,o.dG)({key:0},e.routerAttr,{custom:""}),{default:(0,o.w5)((({href:t,navigate:n,isActive:r,isExactActive:i})=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.routerTag),(0,o.dG)({ref:"link",href:t,class:[(r||e.activeBoolean)&&e.activeClass,(i||e.exactBoolean)&&e.exactActiveClass]},e.$attrs,{onClick:n}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:2},1040,["href","class","onClick"]))])),_:3},16)):((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),(0,o.dG)({key:1,ref:"link",class:e.computedLinkClasses},e.routerAttr,{onClick:e.clicked}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["class","onClick"]))}const nc=ec(Xu,[["render",tc]]),rc=(0,o.aZ)({components:{BLink:nc,BSpinner:Qu},props:{...Ju,active:{type:[Boolean,String],default:!1},disabled:{type:[Boolean,String],default:!1},href:{type:String,required:!1},pill:{type:[Boolean,String],default:!1},pressed:{type:[Boolean,String],default:!1},rel:{type:String,default:void 0},size:{type:String,default:"md"},squared:{type:[Boolean,String],default:!1},tag:{type:String,default:"button"},target:{type:String,default:"_self"},type:{type:String,default:"button"},variant:{type:String,default:"secondary"},loading:{type:[Boolean,String],default:!1},loadingMode:{type:String,default:"inline"}},emits:["click","update:pressed"],setup(e,{emit:t}){const n=tu((0,i.Vh)(e,"active")),r=tu((0,i.Vh)(e,"disabled")),s=tu((0,i.Vh)(e,"pill")),a=tu((0,i.Vh)(e,"pressed")),l=tu((0,i.Vh)(e,"squared")),u=tu((0,i.Vh)(e,"loading")),c=(0,o.Fl)((()=>!0===a.value)),d=(0,o.Fl)((()=>"button"===e.tag&&void 0===e.href&&null===e.to)),h=(0,o.Fl)((()=>eu(e))),f=(0,o.Fl)((()=>null!==e.to)),p=(0,o.Fl)((()=>void 0===e.href&&!d.value)),m=(0,o.Fl)((()=>[[`btn-${e.variant}`],[`btn-${e.size}`],{active:n.value||a.value,"rounded-pill":s.value,"rounded-0":l.value,disabled:r.value}])),g=(0,o.Fl)((()=>({"aria-disabled":p.value?r.value:null,"aria-pressed":c.value?a.value:null,autocomplete:c.value?"off":null,disabled:d.value?r.value:null,href:e.href,rel:h.value?e.rel:null,role:p.value||h.value?"button":null,target:h.value?e.target:null,type:d.value?e.type:null,to:d.value?null:e.to,append:h.value?e.append:null,activeClass:f.value?e.activeClass:null,event:f.value?e.event:null,exact:f.value?e.exact:null,exactActiveClass:f.value?e.exactActiveClass:null,replace:f.value?e.replace:null,routerComponentName:f.value?e.routerComponentName:null,routerTag:f.value?e.routerTag:null}))),v=(0,o.Fl)((()=>f.value?nc:e.href?"a":e.tag));return{computedClasses:m,computedAttrs:g,computedTag:v,clicked:e=>{if(r.value)return e.preventDefault(),void e.stopPropagation();t("click",e),c.value&&t("update:pressed",!a.value)},loadingBoolean:u}}});function ic(e,t,n,r,i,a){const l=(0,o.up)("b-spinner");return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.computedTag),(0,o.dG)({class:["btn",e.computedClasses]},e.computedAttrs,{onClick:e.clicked}),{default:(0,o.w5)((()=>[e.loadingBoolean?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["btn-loading",{"mode-fill":"fill"===e.loadingMode,"mode-inline":"inline"===e.loadingMode}])},[(0,o.WI)(e.$slots,"loading",{},(()=>[(0,o.Wm)(l,{class:"btn-spinner",small:"lg"!==e.size},null,8,["small"])]))],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,s.C_)(["btn-content",{"btn-loading-fill":e.loadingBoolean&&"fill"===e.loadingMode}])},[(0,o.WI)(e.$slots,"default")],2)])),_:3},16,["class","onClick"])}const oc=ec(rc,[["render",ic]]),sc=(e,t=(0,i.iH)(1e3),n={})=>{const r=(0,i.iH)(!1),s=(0,i.iH)(0),a=(0,i.iH)(xs(e)),l=(0,i.iH)(xs(t)),u=(0,o.Fl)((()=>Math.ceil(a.value/l.value))),c=(0,o.Fl)((()=>f.value||r.value?Math.round(a.value-s.value*l.value):0)),{pause:d,resume:h,isActive:f}=Rs((()=>s.value=s.value+1),t,n),p=()=>{r.value=!1,s.value=0,h()},m=()=>{r.value=!1,s.value=u.value};(0,o.m0)((()=>{const t=xs(e),n=a.value;t!==n&&(a.value=t,m(),p())})),(0,o.m0)((()=>{const e=xs(t),n=l.value;e!==n&&(l.value=e,m(),p())})),(0,o.m0)((()=>{s.value>u.value&&(s.value=u.value),s.value===u.value&&d()}));const g=()=>{!1!==f.value&&(r.value=!0,d())},v=()=>{s.value!==u.value&&(r.value=!1,h())};return{isActive:(0,i.OT)(f),isPaused:(0,i.OT)(r),restart:p,stop:m,pause:g,resume:v,value:c}},ac=(0,o.aZ)({__name:"BAlert",props:{dismissLabel:{default:"Close"},dismissible:{default:!1},fade:{default:!1},modelValue:{type:[Boolean,Number],default:!1},variant:{default:"info"},closeContent:null,immediate:{default:!0},interval:{default:1e3},showOnPause:{default:!0}},emits:["closed","close-countdown","update:modelValue"],setup(e,{expose:t,emit:n}){const r=e,a=tu((0,i.Vh)(r,"dismissible")),l=tu((0,i.Vh)(r,"fade")),u=tu((0,i.Vh)(r,"immediate")),c=tu((0,i.Vh)(r,"showOnPause")),d=(0,o.Rr)(),h=(0,o.Fl)((()=>!El(d.close))),f=(0,o.Fl)((()=>[[`alert-${r.variant}`],{"alert-dismissible":a.value}])),{isActive:p,pause:m,restart:g,resume:v,stop:y,isPaused:b,value:w}=sc("boolean"==typeof r.modelValue?0:(0,i.Vh)(r,"modelValue"),(0,i.Vh)(r,"interval"),{immediate:"number"==typeof r.modelValue&&u.value}),_=(0,o.Fl)((()=>"boolean"==typeof r.modelValue?r.modelValue:p.value||c.value&&b.value));(0,o.m0)((()=>n("close-countdown",w.value)));const S=()=>{"boolean"==typeof r.modelValue?n("update:modelValue",!1):(n("update:modelValue",0),y()),n("closed")};return(0,o.Jd)((()=>y())),t({pause:m,resume:v,restart:g,stop:y}),(t,n)=>((0,o.wg)(),(0,o.j4)(Yu,{"no-fade":!(0,i.SU)(l),"trans-props":{enterToClass:"show"}},{default:(0,o.w5)((()=>[(0,i.SU)(_)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["alert",(0,i.SU)(f)]),role:"alert","aria-live":"polite","aria-atomic":"true"},[(0,o.WI)(t.$slots,"default"),(0,i.SU)(a)?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,i.SU)(h)||e.closeContent?((0,o.wg)(),(0,o.j4)(oc,{key:0,type:"button",onClick:S},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"close",{},(()=>[(0,o.Uk)((0,s.zw)(e.closeContent),1)]))])),_:3})):((0,o.wg)(),(0,o.j4)(Ku,{key:1,"aria-label":e.dismissLabel,onClick:S},null,8,["aria-label"]))],64)):(0,o.kq)("",!0)],2)):(0,o.kq)("",!0)])),_:3},8,["no-fade"]))}}),lc=Symbol(),uc=(0,o.aZ)({__name:"BAvatarGroup",props:{overlap:{default:.3},rounded:{type:[Boolean,String],default:!1},size:null,square:{default:!1},tag:{default:"div"},variant:null},setup(e){const t=e,n=tu((0,i.Vh)(t,"square")),r=(0,o.Fl)((()=>fc(t.size))),a=(0,o.Fl)((()=>Math.min(Math.max(u(t.overlap),0),1)/2)),l=(0,o.Fl)((()=>{const e=r.value?`calc(${r.value} * ${a.value})`:null;return e?{paddingLeft:e,paddingRight:e}:{}})),u=e=>"string"==typeof e&&Ua(e)?Yl(e,0):e||0;return(0,o.JJ)(lc,{overlapScale:a,size:t.size,square:n.value,rounded:t.rounded,variant:t.variant}),(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"b-avatar-group",role:"group"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:"b-avatar-group-inner",style:(0,s.j5)((0,i.SU)(l))},[(0,o.WI)(t.$slots,"default")],4)])),_:3}))}}),cc={key:0,class:"b-avatar-custom"},dc={key:1,class:"b-avatar-img"},hc=["src","alt"],fc=e=>{const t="string"==typeof e&&Ua(e)?Yl(e,0):e;return"number"==typeof t?`${t}px`:t||null},pc=(0,o.aZ)({__name:"BAvatar",props:{alt:{default:"avatar"},ariaLabel:null,badge:{type:[Boolean,String],default:!1},badgeLeft:{default:!1},badgeOffset:null,badgeTop:{default:!1},badgeVariant:{default:"primary"},button:{default:!1},buttonType:{default:"button"},disabled:{default:!1},icon:null,rounded:{type:[Boolean,String],default:"circle"},size:null,square:{default:!1},src:null,text:null,textVariant:null,variant:{default:"secondary"}},emits:["click","img-error"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),a=(0,o.f3)(lc,null),l=["sm",null,"lg"],u=.4,c=.7*u,d=tu((0,i.Vh)(n,"badgeLeft")),h=tu((0,i.Vh)(n,"badgeTop")),f=tu((0,i.Vh)(n,"button")),p=tu((0,i.Vh)(n,"disabled")),m=tu((0,i.Vh)(n,"square")),g=(0,o.Fl)((()=>!El(r.default))),v=(0,o.Fl)((()=>!El(r.badge))),y=(0,o.Fl)((()=>!!n.badge||""===n.badge||v.value)),b=(0,o.Fl)((()=>null!=a&&a.size?a.size:fc(n.size))),w=(0,o.Fl)((()=>null!=a&&a.variant?a.variant:n.variant)),_=(0,o.Fl)((()=>null!=a&&a.rounded?a.rounded:n.rounded)),S=(0,o.Fl)((()=>({type:f.value?n.buttonType:void 0,"aria-label":n.ariaLabel||null,disabled:p.value||null}))),I=(0,o.Fl)((()=>[`bg-${n.badgeVariant}`])),k=(0,o.Fl)((()=>!0===n.badge?"":n.badge)),T=(0,o.Fl)((()=>[[`text-${P(n.badgeVariant)}`]])),E=(0,o.Fl)((()=>({[`b-avatar-${n.size}`]:!!n.size&&-1!==l.indexOf(fc(n.size)),[`bg-${w.value}`]:!!w.value,badge:!f.value&&w.value&&g.value,rounded:""===_.value||!0===_.value,["rounded-circle"]:!m.value&&"circle"===_.value,["rounded-0"]:m.value||"0"===_.value,["rounded-1"]:!m.value&&"sm"===_.value,["rounded-3"]:!m.value&&"lg"===_.value,["rounded-top"]:!m.value&&"top"===_.value,["rounded-bottom"]:!m.value&&"bottom"===_.value,["rounded-start"]:!m.value&&"left"===_.value,["rounded-end"]:!m.value&&"right"===_.value,btn:f.value,[`btn-${w.value}`]:!!f.value&&!!w.value}))),C=(0,o.Fl)((()=>[[`text-${n.textVariant||P(w.value)}`]])),D=(0,o.Fl)((()=>{const e=n.badgeOffset||"0px";return{fontSize:(-1===l.indexOf(b.value||null)?`calc(${b.value} * ${c})`:"")||"",top:h.value?e:"",bottom:h.value?"":e,left:d.value?e:"",right:d.value?"":e}})),A=(0,o.Fl)((()=>{const e=-1===l.indexOf(b.value||null)?`calc(${b.value} * ${u})`:null;return e?{fontSize:e}:{}})),x=(0,o.Fl)((()=>{var e;const t=(null==(e=null==a?void 0:a.overlapScale)?void 0:e.value)||0,n=b.value&&t?`calc(${b.value} * -${t})`:null;return n?{marginLeft:n,marginRight:n}:{}})),O=(0,o.Fl)((()=>f.value?"button":"span")),N=(0,o.Fl)((()=>({...x.value,width:b.value,height:b.value}))),P=e=>"light"===e||"warning"===e?"dark":"light",F=e=>{!p.value&&f.value&&t("click",e)},V=e=>t("img-error",e);return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(O)),(0,o.dG)({class:["b-avatar",(0,i.SU)(E)],style:(0,i.SU)(N)},(0,i.SU)(S),{onClick:F}),{default:(0,o.w5)((()=>[(0,i.SU)(g)?((0,o.wg)(),(0,o.iD)("span",cc,[(0,o.WI)(t.$slots,"default")])):e.src?((0,o.wg)(),(0,o.iD)("span",dc,[(0,o._)("img",{src:e.src,alt:e.alt,onError:V},null,40,hc)])):e.text?((0,o.wg)(),(0,o.iD)("span",{key:2,class:(0,s.C_)(["b-avatar-text",(0,i.SU)(C)]),style:(0,s.j5)((0,i.SU)(A))},(0,s.zw)(e.text),7)):(0,o.kq)("",!0),(0,i.SU)(y)?((0,o.wg)(),(0,o.iD)("span",{key:3,class:(0,s.C_)(["b-avatar-badge",(0,i.SU)(I)]),style:(0,s.j5)((0,i.SU)(D))},[(0,i.SU)(v)?(0,o.WI)(t.$slots,"badge",{key:0}):((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,s.C_)((0,i.SU)(T))},(0,s.zw)((0,i.SU)(k)),3))],6)):(0,o.kq)("",!0)])),_:3},16,["class","style"]))}}),mc=Gl(Ju,["event","routerTag"]),gc=(0,o.aZ)({components:{BLink:nc},props:{pill:{type:[Boolean,String],default:!1},tag:{type:String,default:"span"},variant:{type:String,default:"secondary"},textIndicator:{type:[Boolean,String],default:!1},dotIndicator:{type:[Boolean,String],default:!1},...mc},setup(e){const t=tu((0,i.Vh)(e,"pill")),n=tu((0,i.Vh)(e,"textIndicator")),r=tu((0,i.Vh)(e,"dotIndicator")),s=tu((0,i.Vh)(e,"active")),a=tu((0,i.Vh)(e,"disabled")),l=(0,o.Fl)((()=>eu(e))),u=(0,o.Fl)((()=>l.value?nc:e.tag)),c=(0,o.Fl)((()=>[[`bg-${e.variant}`],{active:s.value,disabled:a.value,"text-dark":["warning","info","light"].includes(e.variant),"rounded-pill":t.value,"position-absolute top-0 start-100 translate-middle":n.value||r.value,"p-2 border border-light rounded-circle":r.value,"text-decoration-none":l.value}])),d=(0,o.Fl)((()=>l.value?Jl(e,mc):{}));return{computedClasses:c,computedLinkProps:d,computedTag:u}}});function vc(e,t,n,r,i,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.computedTag),(0,o.dG)({class:["badge",e.computedClasses]},e.computedLinkProps),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["class"])}const yc=ec(gc,[["render",vc]]),bc=Gl(Ju,["event","routerTag"]),wc=(0,o.aZ)({components:{BLink:nc},props:{...bc,active:{type:[Boolean,String],default:!1},ariaCurrent:{type:String,default:"location"},disabled:{type:[Boolean,String],default:!1},text:{type:String,required:!1}},emits:["click"],setup(e,{emit:t}){const n=tu((0,i.Vh)(e,"active")),r=tu((0,i.Vh)(e,"disabled")),s=(0,o.Fl)((()=>({active:n.value}))),a=(0,o.Fl)((()=>n.value?"span":nc)),l=(0,o.Fl)((()=>n.value?e.ariaCurrent:void 0));return{computedLinkProps:(0,o.Fl)((()=>"span"!==a.value?Jl(e,bc):{})),computedClasses:s,computedTag:a,computedAriaCurrent:l,clicked:e=>{if(r.value||n.value)return e.preventDefault(),void e.stopImmediatePropagation();r.value||t("click",e)}}}});function _c(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("li",{class:(0,s.C_)(["breadcrumb-item",e.computedClasses])},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.computedTag),(0,o.dG)({"aria-current":e.computedAriaCurrent},e.computedLinkProps,{onClick:e.clicked}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},16,["aria-current","onClick"]))],2)}const Sc=ec(wc,[["render",_c]]),Ic={"aria-label":"breadcrumb"},kc={class:"breadcrumb"},Tc=(0,o.aZ)({__name:"BBreadcrumb",props:{items:null},setup(e){const t=e,n=ou(),r=(0,o.Fl)((()=>{const e=t.items||(null==n?void 0:n.items)||[];let r=!1;return e.map(((t,n)=>("string"==typeof t&&(t={text:t},n<e.length-1&&(t.href="#")),t.active&&(r=!0),!t.active&&!r&&(t.active=n+1===e.length),t)))}));return(e,t)=>((0,o.wg)(),(0,o.iD)("nav",Ic,[(0,o._)("ol",kc,[(0,o.WI)(e.$slots,"prepend"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(r),((e,t)=>((0,o.wg)(),(0,o.j4)(Sc,(0,o.dG)({key:t},e),{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.text),1)])),_:2},1040)))),128)),(0,o.WI)(e.$slots,"default"),(0,o.WI)(e.$slots,"append")])]))}}),Ec=(0,o.aZ)({__name:"BButtonGroup",props:{ariaLabel:{default:"Group"},size:null,tag:{default:"div"},vertical:{default:!1}},setup(e){const t=e,n=tu((0,i.Vh)(t,"vertical")),r=(0,o.Fl)((()=>({"btn-group":!n.value,[`btn-group-${t.size}`]:void 0!==t.size,"btn-group-vertical":n.value})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)((0,i.SU)(r)),role:"group","aria-label":e.ariaLabel},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["class","aria-label"]))}}),Cc=["role","aria-label"],Dc=(0,o.aZ)({__name:"BButtonToolbar",props:{ariaLabel:{default:"Group"},justify:{default:!1},role:{default:"toolbar"}},setup(e){const t=tu((0,i.Vh)(e,"justify")),n=(0,o.Fl)((()=>({"justify-content-between":t.value})));return(t,r)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)([(0,i.SU)(n),"btn-toolbar"]),role:e.role,"aria-label":e.ariaLabel},[(0,o.WI)(t.$slots,"default")],10,Cc))}}),Ac=(0,o.aZ)({__name:"BImg",props:{alt:null,blank:{default:!1},blankColor:{default:"transparent"},block:{default:!1},center:{default:!1},fluid:{default:!1},lazy:{default:!1},fluidGrow:{default:!1},height:null,left:{default:!1},start:{default:!1},right:{default:!1},end:{default:!1},rounded:{type:[Boolean,String],default:!1},sizes:null,src:null,srcset:null,thumbnail:{default:!1},width:null},emits:["load"],setup(e,{emit:t}){const n=e,r='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>',s=tu((0,i.Vh)(n,"lazy")),a=tu((0,i.Vh)(n,"blank")),l=tu((0,i.Vh)(n,"block")),u=tu((0,i.Vh)(n,"center")),c=tu((0,i.Vh)(n,"fluid")),d=tu((0,i.Vh)(n,"fluidGrow")),h=tu((0,i.Vh)(n,"left")),f=tu((0,i.Vh)(n,"start")),p=tu((0,i.Vh)(n,"right")),m=tu((0,i.Vh)(n,"end")),g=tu((0,i.Vh)(n,"thumbnail")),v=(0,o.Fl)((()=>"string"==typeof n.srcset?n.srcset.split(",").filter((e=>e)).join(","):Array.isArray(n.srcset)?n.srcset.filter((e=>e)).join(","):void 0)),y=(0,o.Fl)((()=>"string"==typeof n.sizes?n.sizes.split(",").filter((e=>e)).join(","):Array.isArray(n.sizes)?n.sizes.filter((e=>e)).join(","):void 0)),b=(0,o.Fl)((()=>{const e=e=>void 0===e?void 0:"number"==typeof e?e:Number.parseInt(e,10)||void 0,t=e(n.width),r=e(n.height);if(a.value){if(void 0!==t&&void 0===r)return{height:t,width:t};if(void 0===t&&void 0!==r)return{height:r,width:r};if(void 0===t&&void 0===r)return{height:1,width:1}}return{width:t,height:r}})),w=(0,o.Fl)((()=>k(b.value.width,b.value.height,n.blankColor))),_=(0,o.Fl)((()=>({src:a.value?w.value:n.src,alt:n.alt,width:b.value.width||void 0,height:b.value.height||void 0,srcset:a.value?void 0:v.value,sizes:a.value?void 0:y.value,loading:s.value?"lazy":"eager"}))),S=(0,o.Fl)((()=>h.value||f.value?"float-start":p.value||m.value?"float-end":u.value?"mx-auto":void 0)),I=(0,o.Fl)((()=>({"img-thumbnail":g.value,"img-fluid":c.value||d.value,"w-100":d.value,rounded:""===n.rounded||!0===n.rounded,[`rounded-${n.rounded}`]:"string"==typeof n.rounded&&""!==n.rounded,[`${S.value}`]:void 0!==S.value,"d-block":l.value||u.value}))),k=(e,t,n)=>`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(r.replace("%{w}",String(e)).replace("%{h}",String(t)).replace("%{f}",n))}`;return(e,n)=>((0,o.wg)(),(0,o.iD)("img",(0,o.dG)({class:(0,i.SU)(I)},(0,i.SU)(_),{onLoad:n[0]||(n[0]=e=>t("load",e))}),null,16))}}),xc=(0,o.aZ)({__name:"BCardImg",props:{alt:null,blank:{default:!1},blankColor:null,bottom:{default:!1},lazy:{default:!1},height:null,left:{default:!1},start:{default:!1},right:{default:!1},end:{default:!1},sizes:null,src:null,srcset:null,top:{default:!1},width:null},emits:["load"],setup(e,{emit:t}){const n=e,r=tu((0,i.Vh)(n,"bottom")),s=tu((0,i.Vh)(n,"end")),a=tu((0,i.Vh)(n,"left")),l=tu((0,i.Vh)(n,"right")),u=tu((0,i.Vh)(n,"start")),c=tu((0,i.Vh)(n,"top")),d=(0,o.Fl)((()=>c.value?"card-img-top":l.value||s.value?"card-img-right":r.value?"card-img-bottom":a.value||u.value?"card-img-left":"card-img")),h=(0,o.Fl)((()=>({alt:n.alt,height:n.height,src:n.src,lazy:n.lazy,width:n.width,blank:n.blank,blankColor:n.blankColor,sizes:n.sizes,srcset:n.srcset})));return(e,n)=>((0,o.wg)(),(0,o.j4)(Ac,(0,o.dG)({class:(0,i.SU)(d)},(0,i.SU)(h),{onLoad:n[0]||(n[0]=e=>t("load",e))}),null,16,["class"]))}}),Oc=["innerHTML"],Nc=(0,o.aZ)({__name:"BCardHeadFoot",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`text-${t.textVariant}`]:void 0!==t.textVariant,[`bg-${t.bgVariant}`]:void 0!==t.bgVariant,[`border-${t.borderVariant}`]:void 0!==t.borderVariant})));return(t,r)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)((0,i.SU)(n))},{default:(0,o.w5)((()=>[e.html?((0,o.wg)(),(0,o.iD)("div",{key:0,innerHTML:e.html},null,8,Oc)):(0,o.WI)(t.$slots,"default",{key:1},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},8,["class"]))}}),Pc=(0,o.aZ)({__name:"BCardHeader",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e;return(e,n)=>((0,o.wg)(),(0,o.j4)(Nc,(0,o.dG)({class:"card-header"},t),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16))}}),Fc=(0,o.aZ)({__name:"BCardTitle",props:{text:null,tag:{default:"h4"}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"card-title"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3}))}}),Vc=(0,o.aZ)({__name:"BCardSubtitle",props:{text:null,tag:{default:"h6"},textVariant:{default:"muted"}},setup(e){const t=e,n=(0,o.Fl)((()=>[`text-${t.textVariant}`]));return(t,r)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)(["card-subtitle mb-2",(0,i.SU)(n)])},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},8,["class"]))}}),Mc=(0,o.aZ)({__name:"BCardBody",props:{bodyBgVariant:null,bodyTag:{default:"div"},bodyTextVariant:null,overlay:{default:!1},subtitle:null,subtitleTag:{default:"h4"},subtitleTextVariant:null,title:null,titleTag:{default:"h4"},text:null},setup(e){const t=e,n=(0,o.Rr)(),r=tu((0,i.Vh)(t,"overlay")),a=(0,o.Fl)((()=>!El(n.title))),l=(0,o.Fl)((()=>!El(n.subtitle))),u=(0,o.Fl)((()=>({"card-img-overlay":r.value,[`text-${t.bodyTextVariant}`]:void 0!==t.bodyTextVariant,[`bg-${t.bodyBgVariant}`]:void 0!==t.bodyBgVariant})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.bodyTag),{class:(0,s.C_)(["card-body",(0,i.SU)(u)])},{default:(0,o.w5)((()=>[e.title||(0,i.SU)(a)?((0,o.wg)(),(0,o.j4)(Fc,{key:0,tag:e.titleTag},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"title",{},(()=>[(0,o.Uk)((0,s.zw)(e.title),1)]))])),_:3},8,["tag"])):(0,o.kq)("",!0),e.subtitle||(0,i.SU)(l)?((0,o.wg)(),(0,o.j4)(Vc,{key:1,tag:e.subtitleTag,"text-variant":e.subtitleTextVariant},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"subtitle",{},(()=>[(0,o.Uk)((0,s.zw)(e.subtitle),1)]))])),_:3},8,["tag","text-variant"])):(0,o.kq)("",!0),(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},8,["class"]))}}),Lc=(0,o.aZ)({__name:"BCardFooter",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e;return(n,r)=>((0,o.wg)(),(0,o.j4)(Nc,(0,o.dG)({class:"card-footer"},t),{default:(0,o.w5)((()=>[(0,o.WI)(n.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},16))}}),Rc=(0,o.aZ)({__name:"BCard",props:{align:null,bgVariant:null,bodyBgVariant:null,bodyClass:null,bodyTag:{default:"div"},bodyTextVariant:null,borderVariant:null,footer:null,footerBgVariant:null,footerBorderVariant:null,footerClass:null,footerHtml:{default:""},footerTag:{default:"div"},footerTextVariant:null,header:null,headerBgVariant:null,headerBorderVariant:null,headerClass:null,headerHtml:{default:""},headerTag:{default:"div"},headerTextVariant:null,imgAlt:null,imgBottom:{default:!1},imgEnd:{default:!1},imgHeight:null,imgLeft:{default:!1},imgRight:{default:!1},imgSrc:null,imgStart:{default:!1},imgTop:{default:!1},imgWidth:null,noBody:{default:!1},overlay:{default:!1},subtitle:null,subtitleTag:{default:"h6"},subtitleTextVariant:{default:"muted"},tag:{default:"div"},textVariant:null,title:null,titleTag:{default:"h4"},bodyText:{default:""}},setup(e){const t=e,n=(0,o.Rr)(),r=tu((0,i.Vh)(t,"imgBottom")),a=tu((0,i.Vh)(t,"imgEnd")),l=tu((0,i.Vh)(t,"imgLeft")),u=tu((0,i.Vh)(t,"imgRight")),c=tu((0,i.Vh)(t,"imgStart")),d=tu((0,i.Vh)(t,"noBody")),h=(0,o.Fl)((()=>!El(n.header))),f=(0,o.Fl)((()=>!El(n.footer))),p=(0,o.Fl)((()=>({[`text-${t.align}`]:void 0!==t.align,[`text-${t.textVariant}`]:void 0!==t.textVariant,[`bg-${t.bgVariant}`]:void 0!==t.bgVariant,[`border-${t.borderVariant}`]:void 0!==t.borderVariant,"flex-row":l.value||c.value,"flex-row-reverse":a.value||u.value}))),m=(0,o.Fl)((()=>({bgVariant:t.headerBgVariant,borderVariant:t.headerBorderVariant,html:t.headerHtml,tag:t.headerTag,textVariant:t.headerTextVariant}))),g=(0,o.Fl)((()=>({overlay:t.overlay,bodyBgVariant:t.bodyBgVariant,bodyTag:t.bodyTag,bodyTextVariant:t.bodyTextVariant,subtitle:t.subtitle,subtitleTag:t.subtitleTag,subtitleTextVariant:t.subtitleTextVariant,title:t.title,titleTag:t.titleTag}))),v=(0,o.Fl)((()=>({bgVariant:t.footerBgVariant,borderVariant:t.footerBorderVariant,html:t.footerHtml,tag:t.footerTag,textVariant:t.footerTextVariant}))),y=(0,o.Fl)((()=>({src:t.imgSrc,alt:t.imgAlt,height:t.imgHeight,width:t.imgWidth,bottom:t.imgBottom,end:t.imgEnd,left:t.imgLeft,right:t.imgRight,start:t.imgStart,top:t.imgTop})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)(["card",(0,i.SU)(p)])},{default:(0,o.w5)((()=>[(0,i.SU)(r)?(0,o.kq)("",!0):(0,o.WI)(t.$slots,"img",{key:0},(()=>[e.imgSrc?((0,o.wg)(),(0,o.j4)(xc,(0,s.vs)((0,o.dG)({key:0},(0,i.SU)(y))),null,16)):(0,o.kq)("",!0)])),e.header||(0,i.SU)(h)||e.headerHtml?((0,o.wg)(),(0,o.j4)(Pc,(0,o.dG)({key:1},(0,i.SU)(m),{class:e.headerClass}),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"header",{},(()=>[(0,o.Uk)((0,s.zw)(e.header),1)]))])),_:3},16,["class"])):(0,o.kq)("",!0),(0,i.SU)(d)?(0,o.WI)(t.$slots,"default",{key:3},(()=>[(0,o.Uk)((0,s.zw)(e.bodyText),1)])):((0,o.wg)(),(0,o.j4)(Mc,(0,o.dG)({key:2},(0,i.SU)(g),{class:e.bodyClass}),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.bodyText),1)]))])),_:3},16,["class"])),e.footer||(0,i.SU)(f)||e.footerHtml?((0,o.wg)(),(0,o.j4)(Lc,(0,o.dG)({key:4},(0,i.SU)(v),{class:e.footerClass}),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"footer",{},(()=>[(0,o.Uk)((0,s.zw)(e.footer),1)]))])),_:3},16,["class"])):(0,o.kq)("",!0),(0,i.SU)(r)?(0,o.WI)(t.$slots,"img",{key:5},(()=>[e.imgSrc?((0,o.wg)(),(0,o.j4)(xc,(0,s.vs)((0,o.dG)({key:0},(0,i.SU)(y))),null,16)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])),_:3},8,["class"]))}}),Uc=(0,o.aZ)({__name:"BCardGroup",props:{columns:{default:!1},deck:{default:!1},tag:{default:"div"}},setup(e){const t=e,n=tu((0,i.Vh)(t,"columns")),r=tu((0,i.Vh)(t,"deck")),a=(0,o.Fl)((()=>r.value?"card-deck":n.value?"card-columns":"card-group")),l=(0,o.Fl)((()=>[a.value]));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)((0,i.SU)(l))},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["class"]))}}),jc=(0,o.aZ)({__name:"BCardText",props:{text:null,tag:{default:"p"}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"card-text"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3}))}}),Bc=["id"],$c={key:0,class:"carousel-indicators"},zc=["data-bs-target","data-bs-slide-to","aria-label"],qc={class:"carousel-inner"},Hc=["data-bs-target"],Wc=(0,o._)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),Yc={class:"visually-hidden"},Gc=["data-bs-target"],Kc=(0,o._)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),Zc={class:"visually-hidden"},Qc=Symbol(),Jc=(0,o.aZ)({__name:"BCarousel",props:{startingSlide:{default:0},id:null,imgHeight:null,imgWidth:null,background:null,modelValue:{default:0},controls:{default:!1},indicators:{default:!1},interval:{default:5e3},noTouch:{default:!1},noWrap:{default:!1},controlsPrevText:{default:"Previous"},controlsNextText:{default:"Next"},indicatorsButtonLabel:{default:"Slide"}},emits:["sliding-start","sliding-end"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),a=mu((0,i.Vh)(n,"id"),"carousel"),l=tu((0,i.Vh)(n,"controls")),u=tu((0,i.Vh)(n,"indicators")),c=tu((0,i.Vh)(n,"noTouch"));tu((0,i.Vh)(n,"noWrap"));const d=(0,i.iH)(),h=(0,i.iH)(),f=(0,i.iH)([]);return su(d,"slide.bs.carousel",(e=>t("sliding-start",e))),su(d,"slid.bs.carousel",(e=>t("sliding-end",e))),(0,o.bv)((()=>{h.value=new Ft(d.value,{wrap:!c.value,interval:n.interval,touch:!c.value}),r.default&&(f.value=r.default().filter((e=>{var t;return"BCarouselSlide"===(null==(t=e.type)?void 0:t.__name)})))})),(0,o.JJ)(Qc,{background:n.background,width:n.imgWidth,height:n.imgHeight}),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{id:(0,i.SU)(a),ref_key:"element",ref:d,class:"carousel slide","data-bs-ride":"carousel"},[(0,i.SU)(u)?((0,o.wg)(),(0,o.iD)("div",$c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.value,((t,n)=>((0,o.wg)(),(0,o.iD)("button",{key:n,type:"button","data-bs-target":`#${(0,i.SU)(a)}`,"data-bs-slide-to":n,class:(0,s.C_)(n===e.startingSlide?"active":""),"aria-current":"true","aria-label":`${e.indicatorsButtonLabel} ${n}`},null,10,zc)))),128))])):(0,o.kq)("",!0),(0,o._)("div",qc,[(0,o.WI)(t.$slots,"default")]),(0,i.SU)(l)?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("button",{class:"carousel-control-prev",type:"button","data-bs-target":`#${(0,i.SU)(a)}`,"data-bs-slide":"prev"},[Wc,(0,o._)("span",Yc,(0,s.zw)(e.controlsPrevText),1)],8,Hc),(0,o._)("button",{class:"carousel-control-next",type:"button","data-bs-target":`#${(0,i.SU)(a)}`,"data-bs-slide":"next"},[Kc,(0,o._)("span",Zc,(0,s.zw)(e.controlsNextText),1)],8,Gc)],64)):(0,o.kq)("",!0)],8,Bc))}}),Xc=["data-bs-interval"],ed=["innerHTML"],td={key:1},nd=["innerHTML"],rd={key:1},id=(0,o.aZ)({__name:"BCarouselSlide",props:{imgSrc:null,imgHeight:null,imgWidth:null,interval:null,active:{default:!1},background:null,caption:null,captionHtml:null,captionTag:{default:"h3"},contentTag:{default:"div"},contentVisibleUp:null,id:null,imgAlt:null,imgBlank:{default:!1},imgBlankColor:{default:"transparent"},text:null,textHtml:null,textTag:{default:"p"}},setup(e){const t=e,n=(0,o.Rr)(),r=(0,o.f3)(Qc,{}),a=tu((0,i.Vh)(t,"active")),l=(0,o.Fl)((()=>!El(n.default))),u=(0,o.Fl)((()=>({background:`${t.background||r.background||"rgb(171, 171, 171)"} none repeat scroll 0% 0%`}))),c=(0,o.Fl)((()=>({"d-none":void 0!==t.contentVisibleUp,[`d-${t.contentVisibleUp}-block`]:void 0!==t.contentVisibleUp}))),d=(0,o.Fl)((()=>r.width)),h=(0,o.Fl)((()=>r.height));return(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(["carousel-item",{active:(0,i.SU)(a)}]),"data-bs-interval":e.interval,style:(0,s.j5)((0,i.SU)(u))},[(0,o.WI)(t.$slots,"img",{},(()=>[(0,o.Wm)(Ac,{class:"d-block w-100",alt:e.imgAlt,src:e.imgSrc,width:e.imgWidth||(0,i.SU)(d),height:e.imgHeight||(0,i.SU)(h),blank:e.imgBlank,"blank-color":e.imgBlankColor},null,8,["alt","src","width","height","blank","blank-color"])])),e.caption||e.captionHtml||e.text||e.textHtml||(0,i.SU)(l)?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.contentTag),{key:0,class:(0,s.C_)(["carousel-caption",(0,i.SU)(c)])},{default:(0,o.w5)((()=>[e.caption||e.captionHtml?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.captionTag),{key:0},{default:(0,o.w5)((()=>[e.captionHtml?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.captionHtml},null,8,ed)):((0,o.wg)(),(0,o.iD)("span",td,(0,s.zw)(e.caption),1))])),_:1})):(0,o.kq)("",!0),e.text||e.textHtml?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.textTag),{key:1},{default:(0,o.w5)((()=>[e.textHtml?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.textHtml},null,8,nd)):((0,o.wg)(),(0,o.iD)("span",rd,(0,s.zw)(e.text),1))])),_:1})):(0,o.kq)("",!0),(0,o.WI)(t.$slots,"default")])),_:3},8,["class"])):(0,o.kq)("",!0)],14,Xc))}}),od=Rl("",[],{type:[Boolean,String,Number],default:!1}),sd=Rl("offset",[""],{type:[String,Number],default:null}),ad=Rl("order",[""],{type:[String,Number],default:null}),ld=(0,o.aZ)({name:"BCol",props:{col:{type:[Boolean,String],default:!1},cols:{type:[String,Number],default:null},...od,offset:{type:[String,Number],default:null},...sd,order:{type:[String,Number],default:null},...ad,alignSelf:{type:String,default:null},tag:{type:String,default:"div"}},setup(e){const t=[{content:od,propPrefix:"cols",classPrefix:"col"},{content:sd,propPrefix:"offset"},{content:ad,propPrefix:"order"}],n=tu((0,i.Vh)(e,"col")),r=(0,o.Fl)((()=>t.flatMap((t=>Ul(e,t.content,t.propPrefix,t.classPrefix)))));return{computedClasses:(0,o.Fl)((()=>[r.value,{col:n.value||!r.value.some((e=>/^col-/.test(e)))&&!e.cols,[`col-${e.cols}`]:!!e.cols,[`offset-${e.offset}`]:!!e.offset,[`order-${e.order}`]:!!e.order,[`align-self-${e.alignSelf}`]:!!e.alignSelf}]))}}});function ud(e,t,n,r,i,a){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)(e.computedClasses)},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},8,["class"])}const cd=ec(ld,[["render",ud]]),dd={autoHide:!0,delay:5e3,noCloseButton:!1,pos:"top-right",value:!0};class hd{constructor(e){ms(this,"vm"),ms(this,"containerPositions"),(0,i.PG)(e)?this.vm=e:this.vm=(0,i.qj)(e),this.containerPositions=(0,o.Fl)((()=>{const e=new Set([]);return this.vm.toasts.map((t=>{t.options.pos&&e.add(t.options.pos)})),e}))}toasts(e){return e?(0,o.Fl)((()=>this.vm.toasts.filter((t=>{if(t.options.pos===e&&t.options.value)return t})))):(0,o.Fl)((()=>this.vm.toasts))}remove(...e){this.vm.toasts=this.vm.toasts.filter((t=>{if(t.options.id&&!e.includes(t.options.id))return t}))}isRoot(){var e;return null!=(e=this.vm.root)&&e}show(e,t=dd){const n={id:jl(),...dd,...t},r={options:(0,i.qj)(n),content:e};return this.vm.toasts.push(r),r}info(e,t=dd){return this.show(e,{variant:"info",...t})}danger(e,t=dd){return this.show(e,{variant:"danger",...t})}warning(e,t=dd){return this.show(e,{variant:"warning",...t})}success(e,t=dd){return this.show(e,{variant:"success",...t})}hide(){}}class fd{constructor(){ms(this,"vms"),ms(this,"rootInstance"),ms(this,"useToast",yd),this.vms={}}getOrCreateViewModel(e){if(!e){if(this.rootInstance)return this.vms[this.rootInstance];const e={root:!0,toasts:[],container:void 0,id:Symbol("toast")};return this.rootInstance=e.id,this.vms[e.id]=e,e}if(e.root){if(this.rootInstance)return this.vms[this.rootInstance];this.rootInstance=e.id}return this.vms[e.id]=e,e}getVM(e){return!e&&this.rootInstance?this.vms[this.rootInstance]:e?this.vms[e]:void 0}}const pd=Symbol(),md=Symbol(),gd={container:void 0,toasts:[],root:!1};function vd(){return(0,o.f3)(md)}function yd(e,t=pd){const n=(0,o.f3)(vd());if(!e)return new hd(n.getOrCreateViewModel());const r={id:Symbol("toastInstance")},i={...gd,...r,...e},s=n.getOrCreateViewModel(i);return new hd(s)}const bd={install:(e,t={})=>{var n,r,i,o;e.provide(md,null!=(r=null==(n=null==t?void 0:t.BToast)?void 0:n.injectkey)?r:pd),e.provide(null!=(o=null==(i=null==t?void 0:t.BToast)?void 0:i.injectkey)?o:pd,new fd)}},wd="toast-title",_d=1e3,Sd=(0,o.aZ)({components:{BLink:nc},props:{...Ju,delay:{type:Number,default:5e3},bodyClass:{type:String},body:{type:[Object,String]},headerClass:{type:String},headerTag:{type:String,default:"div"},animation:{type:[Boolean,String],default:!0},id:{type:String},isStatus:{type:[Boolean,String],default:!1},autoHide:{type:[Boolean,String],default:!0},noCloseButton:{type:[Boolean,String],default:!1},noFade:{type:[Boolean,String],default:!1},noHoverPause:{type:[Boolean,String],default:!1},solid:{type:[Boolean,String],default:!1},static:{type:[Boolean,String],default:!1},title:{type:String},modelValue:{type:[Boolean,String],default:!1},toastClass:{type:Array},variant:{type:String}},emits:["destroyed","update:modelValue"],setup(e,{emit:t,slots:n}){tu((0,i.Vh)(e,"animation"));const r=tu((0,i.Vh)(e,"isStatus")),s=tu((0,i.Vh)(e,"autoHide")),a=tu((0,i.Vh)(e,"noCloseButton")),l=tu((0,i.Vh)(e,"noFade")),u=tu((0,i.Vh)(e,"noHoverPause"));tu((0,i.Vh)(e,"solid")),tu((0,i.Vh)(e,"static"));const c=tu((0,i.Vh)(e,"modelValue")),d=(0,i.iH)(!1),h=(0,i.iH)(!1),f=(0,i.iH)(!1),p=(0,o.Fl)((()=>({[`b-toast-${e.variant}`]:void 0!==e.variant,show:f.value||d.value})));let m,g,v;const y=()=>{typeof m>"u"||(clearTimeout(m),m=void 0)},b=(0,o.Fl)((()=>Math.max(Hl(e.delay,0),_d))),w=()=>{c.value&&(g=v=0,y(),h.value=!0,Fl((()=>{f.value=!1})))},_=()=>{y(),t("update:modelValue",!0),g=v=0,h.value=!1,(0,o.Y3)((()=>{Fl((()=>{f.value=!0}))}))},S=()=>{if(!s.value||u.value||!m||v)return;const e=Date.now()-g;e>0&&(y(),v=Math.max(b.value-e,_d))},I=()=>{(!s.value||u.value||!v)&&(v=g=0),k()};(0,o.YP)((()=>c.value),(e=>{e?_():w()}));const k=()=>{y(),s.value&&(m=setTimeout(w,v||b.value),g=Date.now(),v=0)},T=()=>{d.value=!0,t("update:modelValue",!0)},E=()=>{d.value=!1,k()},C=()=>{d.value=!0},D=()=>{d.value=!1,v=g=0,t("update:modelValue",!1)};(0,o.Ah)((()=>{y(),s.value&&t("destroyed",e.id)})),(0,o.bv)((()=>{(0,o.Y3)((()=>{c.value&&Fl((()=>{_()}))}))}));const A=()=>{(0,o.Y3)((()=>{Fl((()=>{w()}))}))};return()=>{const t=()=>{const t=[],r=ql(wd,{hide:w},n);r?t.push((0,o.h)(r)):e.title&&t.push((0,o.h)("strong",{class:"me-auto"},e.title)),!a.value&&0!==t.length&&t.push((0,o.h)(Ku,{class:["btn-close"],onClick:()=>{w()}}));const i=[];if(t.length>0&&i.push((0,o.h)(e.headerTag,{class:"toast-header"},{default:()=>t})),ql("default",{hide:w},n)||e.body){const t=(0,o.h)(eu(e)?"b-link":"div",{class:["toast-body",e.bodyClass],onClick:eu(e)?{click:A}:{}},ql("default",{hide:w},n)||e.body);i.push(t)}return(0,o.h)("div",{class:["toast",e.toastClass,p.value],tabindex:"0"},i)};return(0,o.h)("div",{class:["b-toast"],id:e.id,role:h.value?null:r.value?"status":"alert","aria-live":h.value?null:r.value?"polite":"assertive","aria-atomic":h.value?null:"true",onmouseenter:S,onmouseleave:I},[(0,o.h)(Yu,{noFade:l.value,onAfterEnter:E,onBeforeEnter:T,onAfterLeave:D,onBeforeLeave:C},(()=>[f.value?t():""]))])}}}),Id=(0,o.aZ)({__name:"BToaster",props:{position:{default:"top-right"},instance:null},setup(e){const t=e,n={"top-left":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-right":"top-0 end-0","middle-left":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-right":"top-50 end-0 translate-middle-y","bottom-left":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-right":"bottom-0 end-0"},r=(0,o.Fl)((()=>n[t.position])),a=e=>{var n;null==(n=t.instance)||n.remove(e)};return(t,n)=>{var l;return(0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)([[(0,i.SU)(r)],"b-toaster position-fixed p-3"]),style:{"z-index":"11"}},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(null==(l=e.instance)?void 0:l.toasts(e.position).value,(e=>((0,o.wg)(),(0,o.j4)(Sd,{id:e.options.id,key:e.options.id,modelValue:e.options.value,"onUpdate:modelValue":t=>e.options.value=t,"auto-hide":e.options.autoHide,delay:e.options.delay,"no-close-button":e.options.noCloseButton,title:e.content.title,body:e.content.body,component:e.content.body,variant:e.options.variant,onDestroyed:a},null,8,["id","modelValue","onUpdate:modelValue","auto-hide","delay","no-close-button","title","body","component","variant"])))),128))],2)}}}),kd=(0,o.aZ)({props:{gutterX:{type:String,default:null},gutterY:{type:String,default:null},fluid:{type:[Boolean,String],default:!1},toast:{type:Object},position:{type:String,required:!1}},setup(e,{slots:t,expose:n}){const r=(0,i.iH)();let s;const a=(0,o.Fl)((()=>({container:!e.fluid,["container-fluid"]:"boolean"==typeof e.fluid&&e.fluid,[`container-${e.fluid}`]:"string"==typeof e.fluid,[`gx-${e.gutterX}`]:null!==e.gutterX,[`gy-${e.gutterY}`]:null!==e.gutterY})));return(0,o.bv)((()=>{e.toast})),e.toast&&(s=yd({container:r,root:e.toast.root}),n({})),()=>{var n;const i=[];return null==s||s.containerPositions.value.forEach((e=>{i.push((0,o.h)(Id,{key:e,instance:s,position:e}))})),(0,o.h)("div",{class:[a.value,e.position],ref:r},[...i,null==(n=t.default)?void 0:n.call(t)])}},methods:{}}),Td={class:"visually-hidden"},Ed=["aria-labelledby","role"],Cd=(0,o.aZ)({__name:"BDropdown",props:{id:null,menuClass:null,size:null,splitClass:null,splitVariant:null,text:null,toggleClass:null,autoClose:{type:[Boolean,String],default:!0},block:{default:!1},boundary:{default:"clippingParents"},dark:{default:!1},disabled:{default:!1},isNav:{default:!1},dropup:{default:!1},dropright:{default:!1},dropleft:{default:!1},noFlip:{default:!1},offset:{default:0},popperOpts:{default:()=>({})},right:{default:!1},role:{default:"menu"},split:{default:!1},splitButtonType:{default:"button"},splitHref:{default:void 0},noCaret:{default:!1},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"}},emits:["show","shown","hide","hidden","click","toggle"],setup(e,{expose:t,emit:n}){const r=e,a=mu((0,i.Vh)(r,"id"),"dropdown"),l=tu((0,i.Vh)(r,"block")),u=tu((0,i.Vh)(r,"dark")),c=tu((0,i.Vh)(r,"dropup")),d=tu((0,i.Vh)(r,"dropright")),h=tu((0,i.Vh)(r,"isNav")),f=tu((0,i.Vh)(r,"dropleft")),p=tu((0,i.Vh)(r,"right")),m=tu((0,i.Vh)(r,"split")),g=tu((0,i.Vh)(r,"noCaret")),v=(0,i.iH)(),y=(0,i.iH)(),b=(0,i.iH)(),w=(0,o.Fl)((()=>({"d-grid":l.value,"d-flex":l.value&&m.value}))),_=(0,o.Fl)((()=>[m.value?r.splitClass:r.toggleClass,{"nav-link":h.value,"dropdown-toggle":!m.value,"dropdown-toggle-no-caret":g.value&&!m.value,"w-100":m.value&&l.value}])),S=(0,o.Fl)((()=>[r.menuClass,{"dropdown-menu-dark":u.value,"dropdown-menu-end":p.value}])),I=(0,o.Fl)((()=>({"data-bs-toggle":m.value?void 0:"dropdown","aria-expanded":!!m.value&&void 0,ref:m.value?void 0:y,href:m.value?r.splitHref:void 0}))),k=(0,o.Fl)((()=>({ref:m.value?y:void 0}))),T=()=>{var e;null==(e=b.value)||e.hide()},E=e=>{m.value&&n("click",e)};return su(v,"show.bs.dropdown",(()=>n("show"))),su(v,"shown.bs.dropdown",(()=>n("shown"))),su(v,"hide.bs.dropdown",(()=>n("hide"))),su(v,"hidden.bs.dropdown",(()=>n("hidden"))),(0,o.bv)((()=>{var e;b.value=new $n(null==(e=y.value)?void 0:e.$el,{autoClose:r.autoClose,boundary:r.boundary,offset:r.offset?r.offset.toString():"",reference:r.offset||m.value?"parent":"toggle",popperConfig:e=>{const t={placement:"bottom-start",modifiers:r.noFlip?[{name:"flip",options:{fallbackPlacements:[]}}]:[]};return c.value?t.placement=p.value?"top-end":"top-start":d.value?t.placement="right-start":f.value?t.placement="left-start":p.value&&(t.placement="bottom-end"),zl(e,zl(t,r.popperOpts))}})})),t({hide:T}),(t,r)=>((0,o.wg)(),(0,o.iD)("div",{ref_key:"parent",ref:v,class:(0,s.C_)([(0,i.SU)(w),"btn-group"])},[(0,o.Wm)(oc,(0,o.dG)({id:(0,i.SU)(a),variant:e.splitVariant||e.variant,size:e.size,class:(0,i.SU)(_),disabled:e.disabled,type:e.splitButtonType},(0,i.SU)(I),{onClick:E}),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"button-content",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},16,["id","variant","size","class","disabled","type"]),(0,i.SU)(m)?((0,o.wg)(),(0,o.j4)(oc,(0,o.dG)({key:0,variant:e.variant,size:e.size,disabled:e.disabled},(0,i.SU)(k),{class:[e.toggleClass,"dropdown-toggle-split dropdown-toggle"],"data-bs-toggle":"dropdown","aria-expanded":"false",onClick:r[0]||(r[0]=e=>n("toggle"))}),{default:(0,o.w5)((()=>[(0,o._)("span",Td,[(0,o.WI)(t.$slots,"toggle-text",{},(()=>[(0,o.Uk)((0,s.zw)(e.toggleText),1)]))])])),_:3},16,["variant","size","disabled","class"])):(0,o.kq)("",!0),(0,o._)("ul",{class:(0,s.C_)(["dropdown-menu",(0,i.SU)(S)]),"aria-labelledby":(0,i.SU)(a),role:e.role},[(0,o.WI)(t.$slots,"default")],10,Ed)],2))}}),Dd={role:"presentation"},Ad=(0,o.aZ)({__name:"BDropdownDivider",props:{tag:{default:"hr"}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("li",Dd,[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"dropdown-divider",role:"separator","aria-orientation":"horizontal"}))]))}}),xd={},Od={role:"presentation"},Nd={class:"px-4 py-3"};function Pd(e,t){return(0,o.wg)(),(0,o.iD)("li",Od,[(0,o._)("form",Nd,[(0,o.WI)(e.$slots,"default")])])}const Fd=ec(xd,[["render",Pd]]),Vd={role:"presentation"},Md=["id","aria-describedby"],Ld={inheritAttrs:!1},Rd=(0,o.aZ)({...Ld,__name:"BDropdownGroup",props:{id:null,ariaDescribedby:null,header:null,headerClass:null,headerTag:{default:"header"},headerVariant:null},setup(e){const t=e,n=(0,o.Fl)((()=>t.id?`${t.id}_group_dd_header`:void 0)),r=(0,o.Fl)((()=>"header"===t.headerTag?void 0:"heading")),a=(0,o.Fl)((()=>[t.headerClass,{[`text-${t.headerVariant}`]:void 0!==t.headerVariant}]));return(t,l)=>((0,o.wg)(),(0,o.iD)("li",Vd,[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.headerTag),{id:(0,i.SU)(n),class:(0,s.C_)(["dropdown-header",(0,i.SU)(a)]),role:(0,i.SU)(r)},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"header",{},(()=>[(0,o.Uk)((0,s.zw)(e.header),1)]))])),_:3},8,["id","class","role"])),(0,o._)("ul",(0,o.dG)({id:e.id,role:"group",class:"list-unstyled"},t.$attrs,{"aria-describedby":e.ariaDescribedby||(0,i.SU)(n)}),[(0,o.WI)(t.$slots,"default")],16,Md)]))}}),Ud={},jd={class:"dropdown-header"};function Bd(e,t){return(0,o.wg)(),(0,o.iD)("li",null,[(0,o._)("h6",jd,[(0,o.WI)(e.$slots,"default")])])}const $d=ec(Ud,[["render",Bd]]),zd={inheritAttrs:!1},qd=(0,o.aZ)({...zd,__name:"BDropdownItem",props:{href:null,linkClass:null,active:{default:!1},disabled:{default:!1},rel:{default:void 0},target:{default:"_self"},variant:null},emits:["click"],setup(e,{emit:t}){const n=e,r=tu((0,i.Vh)(n,"active")),a=tu((0,i.Vh)(n,"disabled")),l=(0,o.l1)(),u=(0,o.Fl)((()=>[n.linkClass,{active:r.value,disabled:a.value,[`text-${n.variant}`]:void 0!==n.variant}])),c=(0,o.Fl)((()=>n.href?"a":l.to?nc:"button")),d=(0,o.Fl)((()=>({disabled:a.value,"aria-current":r.value?"true":null,href:"a"===c.value?n.href:null,rel:n.rel,type:"button"===c.value?"button":null,target:n.target,...l.to?{activeClass:"active",...l}:{}}))),h=e=>t("click",e);return(e,t)=>((0,o.wg)(),(0,o.iD)("li",{role:"presentation",class:(0,s.C_)(e.$attrs.class)},[((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(c)),(0,o.dG)({class:["dropdown-item",(0,i.SU)(u)]},(0,i.SU)(d),{onClick:h}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["class"]))],2))}}),Hd=["disabled"],Wd={inheritAttrs:!1},Yd=(0,o.aZ)({...Wd,__name:"BDropdownItemButton",props:{buttonClass:null,active:{default:!1},activeClass:{default:"active"},disabled:{default:!1},variant:null},emits:["click"],setup(e,{emit:t}){const n=e,r=tu((0,i.Vh)(n,"active")),a=tu((0,i.Vh)(n,"disabled")),l=(0,o.Fl)((()=>[n.buttonClass,{[n.activeClass]:r.value,disabled:a.value,[`text-${n.variant}`]:void 0!==n.variant}])),u=e=>t("click",e);return(e,t)=>((0,o.wg)(),(0,o.iD)("li",{role:"presentation",class:(0,s.C_)(e.$attrs.class)},[(0,o._)("button",{role:"menu",type:"button",class:(0,s.C_)(["dropdown-item",(0,i.SU)(l)]),disabled:(0,i.SU)(a),onClick:u},[(0,o.WI)(e.$slots,"default")],10,Hd)],2))}}),Gd={role:"presentation"},Kd={class:"px-4 py-1 mb-0 text-muted"},Zd=(0,o.aZ)({__name:"BDropdownText",props:{text:{default:""}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("li",Gd,[(0,o._)("p",Kd,[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])]))}}),Qd=["id","novalidate","onSubmit"],Jd=(0,o.aZ)({__name:"BForm",props:{id:null,floating:{default:!1},novalidate:{default:!1},validated:{default:!1}},emits:["submit"],setup(e,{emit:t}){const n=e,r=tu((0,i.Vh)(n,"floating")),l=tu((0,i.Vh)(n,"novalidate")),u=tu((0,i.Vh)(n,"validated")),c=(0,o.Fl)((()=>({"form-floating":r.value,"was-validated":u.value}))),d=e=>t("submit",e);return(t,n)=>((0,o.wg)(),(0,o.iD)("form",{id:e.id,novalidate:(0,i.SU)(l),class:(0,s.C_)((0,i.SU)(c)),onSubmit:(0,a.iM)(d,["prevent"])},[(0,o.WI)(t.$slots,"default")],42,Qd))}}),Xd={class:"form-floating"},eh=["for"],th=(0,o.aZ)({__name:"BFormFloatingLabel",props:{labelFor:null,label:null,text:null},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("div",Xd,[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)])),(0,o._)("label",{for:e.labelFor},[(0,o.WI)(t.$slots,"label",{},(()=>[(0,o.Uk)((0,s.zw)(e.label),1)]))],8,eh)]))}}),nh=(0,o.aZ)({__name:"BFormInvalidFeedback",props:{ariaLive:null,forceShow:{default:!1},id:null,text:null,role:null,state:{default:void 0},tag:{default:"div"},tooltip:{default:!1}},setup(e){const t=e,n=tu((0,i.Vh)(t,"forceShow")),r=tu((0,i.Vh)(t,"state")),a=tu((0,i.Vh)(t,"tooltip")),l=(0,o.Fl)((()=>!0===n.value||!1===r.value)),u=(0,o.Fl)((()=>({"d-block":l.value,"invalid-feedback":!a.value,"invalid-tooltip":a.value}))),c=(0,o.Fl)((()=>({id:t.id,role:t.role,"aria-live":t.ariaLive,"aria-atomic":t.ariaLive?"true":void 0})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),(0,o.dG)({class:(0,i.SU)(u)},(0,i.SU)(c)),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},16,["class"]))}}),rh=(0,o.aZ)({__name:"BFormRow",props:{tag:{default:"div"}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"row d-flex flex-wrap"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3}))}}),ih=(0,o.aZ)({__name:"BFormText",props:{id:null,inline:{default:!1},tag:{default:"small"},text:null,textVariant:{default:"muted"}},setup(e){const t=e,n=tu((0,i.Vh)(t,"inline")),r=(0,o.Fl)((()=>[[`text-${t.textVariant}`],{"form-text":!n.value}]));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,class:(0,s.C_)((0,i.SU)(r))},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},8,["id","class"]))}}),oh=(0,o.aZ)({__name:"BFormValidFeedback",props:{ariaLive:null,forceShow:{default:!1},id:null,role:null,text:null,state:{default:void 0},tag:{default:"div"},tooltip:{default:!1}},setup(e){const t=e,n=tu((0,i.Vh)(t,"forceShow")),r=tu((0,i.Vh)(t,"state")),a=tu((0,i.Vh)(t,"tooltip")),l=(0,o.Fl)((()=>!0===n.value||!0===r.value)),u=(0,o.Fl)((()=>({"d-block":l.value,"valid-feedback":!a.value,"valid-tooltip":a.value}))),c=(0,o.Fl)((()=>t.ariaLive?"true":void 0));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,role:e.role,"aria-live":e.ariaLive,"aria-atomic":(0,i.SU)(c),class:(0,s.C_)((0,i.SU)(u))},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3},8,["id","role","aria-live","aria-atomic","class"]))}}),sh=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","indeterminate"],ah=["for"],lh={inheritAttrs:!1},uh=(0,o.aZ)({...lh,__name:"BFormCheckbox",props:{ariaLabel:null,ariaLabelledBy:null,form:null,indeterminate:null,name:null,id:{default:void 0},autofocus:{default:!1},plain:{default:!1},button:{default:!1},switch:{default:!1},disabled:{default:!1},buttonVariant:{default:"secondary"},inline:{default:!1},required:{default:void 0},size:{default:"md"},state:{default:void 0},uncheckedValue:{type:[Array,Set,Boolean,String,Object,Number],default:!1},value:{type:[Array,Set,Boolean,String,Object,Number],default:!0},modelValue:{type:[Array,Set,Boolean,String,Object,Number],default:void 0}},emits:["update:modelValue","input","change"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),l=mu((0,i.Vh)(n,"id"),"form-check"),u=tu((0,i.Vh)(n,"indeterminate")),c=tu((0,i.Vh)(n,"autofocus")),d=tu((0,i.Vh)(n,"plain")),h=tu((0,i.Vh)(n,"button")),f=tu((0,i.Vh)(n,"switch")),p=tu((0,i.Vh)(n,"disabled")),m=tu((0,i.Vh)(n,"inline")),g=tu((0,i.Vh)(n,"required")),v=tu((0,i.Vh)(n,"state")),y=(0,i.iH)(null),b=(0,i.iH)(!1),w=(0,o.Fl)((()=>!El(r.default))),_=(0,o.Fl)({get:()=>n.uncheckedValue?Array.isArray(n.modelValue)?n.modelValue.indexOf(n.value)>-1:n.modelValue===n.value:n.modelValue,set:e=>{let r=e;Array.isArray(n.modelValue)?n.uncheckedValue&&(r=n.modelValue,e?(r.indexOf(n.uncheckedValue)>-1&&r.splice(r.indexOf(n.uncheckedValue),1),r.push(n.value)):(r.indexOf(n.value)>-1&&r.splice(r.indexOf(n.value),1),r.push(n.uncheckedValue))):r=e?n.value:n.uncheckedValue,t("input",r),t("update:modelValue",r),t("change",r)}}),S=(0,o.Fl)((()=>Array.isArray(n.modelValue)?n.modelValue.indexOf(n.value)>-1:JSON.stringify(n.modelValue)===JSON.stringify(n.value))),I=(0,i.qj)({plain:(0,i.Vh)(d,"value"),button:(0,i.Vh)(h,"value"),inline:(0,i.Vh)(m,"value"),switch:(0,i.Vh)(f,"value"),size:(0,i.Vh)(n,"size"),state:(0,i.Vh)(v,"value"),buttonVariant:(0,i.Vh)(n,"buttonVariant")}),k=au(I),T=lu(I),E=uu(I);return(0,o.bv)((()=>{c.value&&y.value.focus()})),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)((0,i.SU)(k))},[(0,o.wy)((0,o._)("input",(0,o.dG)({id:(0,i.SU)(l)},t.$attrs,{ref_key:"input",ref:y,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.dq)(_)?_.value=e:null),class:(0,i.SU)(T),type:"checkbox",disabled:(0,i.SU)(p),required:!!e.name&&!!(0,i.SU)(g),name:e.name,form:e.form,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-required":e.name&&(0,i.SU)(g)?"true":void 0,value:e.value,indeterminate:(0,i.SU)(u),onFocus:n[1]||(n[1]=e=>b.value=!0),onBlur:n[2]||(n[2]=e=>b.value=!1)}),null,16,sh),[[a.e8,(0,i.SU)(_)]]),(0,i.SU)(w)||!(0,i.SU)(d)?((0,o.wg)(),(0,o.iD)("label",{key:0,for:(0,i.SU)(l),class:(0,s.C_)([(0,i.SU)(E),{active:(0,i.SU)(S),focus:b.value}])},[(0,o.WI)(t.$slots,"default")],10,ah)):(0,o.kq)("",!0)],2))}}),ch=["id"],dh=["innerHTML"],hh=["textContent"],fh=(0,o.aZ)({__name:"BFormCheckboxGroup",props:{id:null,form:null,modelValue:{default:()=>[]},ariaInvalid:{default:void 0},autofocus:{default:!1},buttonVariant:{default:"secondary"},buttons:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},htmlField:{default:"html"},name:null,options:{default:()=>[]},plain:{default:!1},required:{default:!1},size:null,stacked:{default:!1},state:{default:void 0},switches:{default:!1},textField:{default:"text"},validated:{default:!1},valueField:{default:"value"}},emits:["input","update:modelValue","change"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),a="BFormCheckbox",l=mu((0,i.Vh)(n,"id"),"checkbox"),u=mu((0,i.Vh)(n,"name"),"checkbox");tu((0,i.Vh)(n,"autofocus"));const c=tu((0,i.Vh)(n,"buttons")),d=tu((0,i.Vh)(n,"disabled"));tu((0,i.Vh)(n,"plain"));const h=tu((0,i.Vh)(n,"required")),f=tu((0,i.Vh)(n,"stacked")),p=tu((0,i.Vh)(n,"state")),m=tu((0,i.Vh)(n,"switches")),g=tu((0,i.Vh)(n,"validated")),v=(0,o.Fl)({get:()=>n.modelValue,set:e=>{if(JSON.stringify(e)===JSON.stringify(n.modelValue))return;const r=n.options.filter((t=>e.map((e=>JSON.stringify(e))).includes(JSON.stringify("string"==typeof t?t:t[n.valueField])))).map((e=>"string"==typeof e?e:e[n.valueField]));t("input",r),t("update:modelValue",r),t("change",r)}}),y=(0,o.Fl)((()=>(r.first?hu(r.first(),a,d.value):[]).concat(n.options.map((e=>fu(e,n)))).concat(r.default?hu(r.default(),a,d.value):[]).map(((e,t)=>pu(e,t,n,u,l))).map((e=>({...e,props:{switch:m.value,...e.props}}))))),b=(0,i.qj)({required:(0,i.Vh)(h,"value"),ariaInvalid:(0,i.Vh)(n,"ariaInvalid"),state:(0,i.Vh)(p,"value"),validated:(0,i.Vh)(g,"value"),buttons:(0,i.Vh)(c,"value"),stacked:(0,i.Vh)(f,"value"),size:(0,i.Vh)(n,"size")}),w=cu(b),_=du(b);return(e,t)=>((0,o.wg)(),(0,o.iD)("div",(0,o.dG)((0,i.SU)(w),{id:(0,i.SU)(l),role:"group",class:[(0,i.SU)(_),"bv-no-focus-ring"],tabindex:"-1"}),[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(y),((e,n)=>((0,o.wg)(),(0,o.j4)(uh,(0,o.dG)({key:n,modelValue:(0,i.SU)(v),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.dq)(v)?v.value=e:null)},e.props),{default:(0,o.w5)((()=>[e.html?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.html},null,8,dh)):((0,o.wg)(),(0,o.iD)("span",{key:1,textContent:(0,s.zw)(e.text)},null,8,hh))])),_:2},1040,["modelValue"])))),128))],16,ch))}}),ph=["input","select","textarea"],mh=ph.map((e=>`${e}:not([disabled])`)).join(),gh=[...ph,"a","button","label"],vh="label",yh="invalid-feedback",bh="valid-feedback",wh="description",_h="default",Sh=(0,o.aZ)({components:{BCol:cd,BFormInvalidFeedback:nh,BFormRow:rh,BFormText:ih,BFormValidFeedback:oh},props:{contentCols:{type:[Boolean,String,Number],required:!1},contentColsLg:{type:[Boolean,String,Number],required:!1},contentColsMd:{type:[Boolean,String,Number],required:!1},contentColsSm:{type:[Boolean,String,Number],required:!1},contentColsXl:{type:[Boolean,String,Number],required:!1},description:{type:[String],required:!1},disabled:{type:[Boolean,String],default:!1},feedbackAriaLive:{type:String,default:"assertive"},id:{type:String,required:!1},invalidFeedback:{type:String,required:!1},label:{type:String,required:!1},labelAlign:{type:[Boolean,String,Number],required:!1},labelAlignLg:{type:[Boolean,String,Number],required:!1},labelAlignMd:{type:[Boolean,String,Number],required:!1},labelAlignSm:{type:[Boolean,String,Number],required:!1},labelAlignXl:{type:[Boolean,String,Number],required:!1},labelClass:{type:[Array,Object,String],required:!1},labelCols:{type:[Boolean,String,Number],required:!1},labelColsLg:{type:[Boolean,String,Number],required:!1},labelColsMd:{type:[Boolean,String,Number],required:!1},labelColsSm:{type:[Boolean,String,Number],required:!1},labelColsXl:{type:[Boolean,String,Number],required:!1},labelFor:{type:String,required:!1},labelSize:{type:String,required:!1},labelSrOnly:{type:[Boolean,String],default:!1},state:{type:[Boolean,String],default:null},tooltip:{type:[Boolean,String],default:!1},validFeedback:{type:String,required:!1},validated:{type:[Boolean,String],default:!1},floating:{type:[Boolean,String],default:!1}},setup(e,{attrs:t}){const n=tu((0,i.Vh)(e,"disabled")),r=tu((0,i.Vh)(e,"labelSrOnly")),s=tu((0,i.Vh)(e,"state")),a=tu((0,i.Vh)(e,"tooltip")),l=tu((0,i.Vh)(e,"validated")),u=tu((0,i.Vh)(e,"floating")),c=null,d=["xs","sm","md","lg","xl"],h=(e,t)=>d.reduce(((n,r)=>{const i=Ql("xs"===r?"":r,`${t}Align`),o=e[i]||null;return o&&("xs"===r?n.push(`text-${o}`):n.push(`text-${r}-${o}`)),n}),[]),f=(e,t)=>d.reduce(((n,r)=>{const i=Ql("xs"===r?"":r,`${t}Cols`);let o=e[i];return o=""===o||(o||!1),"boolean"!=typeof o&&"auto"!==o&&(o=Wl(o,0),o=o>0&&o),o&&("xs"===r?n.cols=o:n[r||("boolean"==typeof o?"col":"cols")]=o),n}),{}),p=(0,i.iH)(),m=(t,n=null)=>{if(ol&&e.labelFor){const r=Cl(`#${tl(e.labelFor)}`,p);if(r){const e="aria-describedby",i=(t||"").split(Wa),o=(n||"").split(Wa),s=(Al(r,e)||"").split(Wa).filter((e=>!o.includes(e))).concat(i).filter(((e,t,n)=>n.indexOf(e)===t)).filter((e=>e)).join(" ").trim();s?Ol(r,e,s):Nl(r,e)}}},g=(0,o.Fl)((()=>f(e,"content"))),v=(0,o.Fl)((()=>h(e,"label"))),y=(0,o.Fl)((()=>f(e,"label"))),b=(0,o.Fl)((()=>Object.keys(g.value).length>0||Object.keys(y.value).length>0)),w=(0,o.Fl)((()=>"boolean"==typeof s.value?s.value:null)),_=(0,o.Fl)((()=>{const e=w.value;return!0===e?"is-valid":!1===e?"is-invalid":null})),S=(0,o.Fl)((()=>Bl(t.ariaInvalid,s.value)));return(0,o.YP)((()=>c),((e,t)=>{e!==t&&m(e,t)})),(0,o.bv)((()=>{(0,o.Y3)((()=>{m(c)}))})),{disabledBoolean:n,labelSrOnlyBoolean:r,stateBoolean:s,tooltipBoolean:a,validatedBoolean:l,floatingBoolean:u,ariaDescribedby:c,computedAriaInvalid:S,contentColProps:g,isHorizontal:b,labelAlignClasses:v,labelColProps:y,onLegendClick:t=>{if(e.labelFor)return;const{target:n}=t,r=n?n.tagName:"";if(-1!==gh.indexOf(r))return;const i=Dl(mh,p).filter(Tl);1===i.length&&Il(i[0])},stateClass:_}},render(){const e=this.$props,t=this.$slots,n=mu(),r=!e.labelFor;let s=null;const a=ql(vh,{},t)||e.label,l=a?jl("_BV_label_"):null;if(a||this.isHorizontal){const t=r?"legend":"label";if(this.labelSrOnlyBoolean)a&&(s=(0,o.h)(t,{class:"visually-hidden",id:l,for:e.labelFor||null},a)),s=this.isHorizontal?(0,o.h)(cd,this.labelColProps,{default:()=>s}):(0,o.h)("div",{},[s]);else{const n={onClick:r?this.onLegendClick:null,...this.isHorizontal?this.labelColProps:{},tag:this.isHorizontal?t:null,id:l,for:e.labelFor||null,tabIndex:r?"-1":null,class:[this.isHorizontal?"col-form-label":"form-label",{"bv-no-focus-ring":r,"col-form-label":this.isHorizontal||r,"pt-0":!this.isHorizontal&&r,"d-block":!this.isHorizontal&&!r,[`col-form-label-${e.labelSize}`]:!!e.labelSize},this.labelAlignClasses,e.labelClass]};s=this.isHorizontal?(0,o.h)(cd,n,{default:()=>a}):(0,o.h)(t,n,a)}}let u=null;const c=ql(yh,{},t)||this.invalidFeedback,d=c?jl("_BV_feedback_invalid_"):void 0;c&&(u=(0,o.h)(nh,{ariaLive:e.feedbackAriaLive,id:d,state:this.stateBoolean,tooltip:this.tooltipBoolean},{default:()=>c}));let h=null;const f=ql(bh,{},t)||this.validFeedback,p=f?jl("_BV_feedback_valid_"):void 0;f&&(h=(0,o.h)(oh,{ariaLive:e.feedbackAriaLive,id:p,state:this.stateBoolean,tooltip:this.tooltipBoolean},{default:()=>f}));let m=null;const g=ql(wh,{},t)||this.description,v=g?jl("_BV_description_"):void 0;g&&(m=(0,o.h)(ih,{id:v},{default:()=>g}));const y=this.ariaDescribedby=[v,!1===this.stateBoolean?d:null,!0===this.stateBoolean?p:null].filter((e=>e)).join(" ")||null,b=[ql(_h,{ariaDescribedby:y,descriptionId:v,id:n,labelId:l},t)||"",u,h,m];!this.isHorizontal&&this.floatingBoolean&&b.push(s);let w=(0,o.h)("div",{ref:"content",class:[{"form-floating":!this.isHorizontal&&this.floatingBoolean}]},b);this.isHorizontal&&(w=(0,o.h)(cd,{ref:"content",...this.contentColProps},{default:()=>b}));const _={class:["mb-3",this.stateClass,{"was-validated":this.validatedBoolean}],id:mu((0,i.Vh)(e,"id")).value,disabled:r?this.disabledBoolean:null,role:r?null:"group","aria-invalid":this.computedAriaInvalid,"aria-labelledby":r&&this.isHorizontal?l:null};return this.isHorizontal&&!r?(0,o.h)(rh,_,{default:()=>[s,w]}):(0,o.h)(r?"fieldset":"div",_,this.isHorizontal&&r?[(0,o.h)(rh,null,{default:()=>[s,w]})]:this.isHorizontal||!this.floatingBoolean?[s,w]:[w])}}),Ih=["text","number","email","password","search","url","tel","date","time","range","color"],kh=(0,o.aZ)({props:{...gu,max:{type:[String,Number],required:!1},min:{type:[String,Number],required:!1},step:{type:[String,Number],required:!1},type:{type:String,default:"text",validator:e=>Ih.includes(e)}},emits:["update:modelValue","change","blur","input"],setup(e,{emit:t}){const{input:n,computedId:r,computedAriaInvalid:s,onInput:a,onChange:l,onBlur:u,focus:c,blur:d}=vu(e,t),h=(0,i.iH)(!1),f=(0,o.Fl)((()=>{const t="range"===e.type,n="color"===e.type;return{"form-control-highlighted":h.value,"form-range":t,"form-control":n||!e.plaintext&&!t,"form-control-color":n,"form-control-plaintext":e.plaintext&&!t&&!n,[`form-control-${e.size}`]:!!e.size,"is-valid":!0===e.state,"is-invalid":!1===e.state}})),p=(0,o.Fl)((()=>Ih.includes(e.type)?e.type:"text"));return{computedClasses:f,localType:p,input:n,computedId:r,computedAriaInvalid:s,onInput:a,onChange:l,onBlur:u,focus:c,blur:d,highlight:()=>{!0!==h.value&&(h.value=!0,setTimeout((()=>{h.value=!1}),2e3))}}}}),Th=["id","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"];function Eh(e,t,n,r,i,s){return(0,o.wg)(),(0,o.iD)("input",(0,o.dG)({id:e.computedId,ref:"input",class:e.computedClasses,name:e.name||void 0,form:e.form||void 0,type:e.localType,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete||void 0,readonly:e.readonly||e.plaintext,min:e.min,max:e.max,step:e.step,list:"password"!==e.type?e.list:void 0,"aria-required":e.required?"true":void 0,"aria-invalid":e.computedAriaInvalid},e.$attrs,{onInput:t[0]||(t[0]=t=>e.onInput(t)),onChange:t[1]||(t[1]=t=>e.onChange(t)),onBlur:t[2]||(t[2]=t=>e.onBlur(t))}),null,16,Th)}const Ch=ec(kh,[["render",Eh]]),Dh=["id","disabled","required","name","form","aria-label","aria-labelledby","value","aria-required"],Ah=["for"],xh=(0,o.aZ)({__name:"BFormRadio",props:{ariaLabel:null,ariaLabelledby:null,form:null,id:null,name:null,size:null,autofocus:{default:!1},modelValue:{type:[Boolean,String,Array,Object,Number],default:void 0},plain:{default:!1},button:{default:!1},switch:{default:!1},disabled:{default:!1},buttonVariant:{default:"secondary"},inline:{default:!1},required:{default:!1},state:{default:void 0},value:{type:[String,Boolean,Object,Number],default:!0}},emits:["input","change","update:modelValue"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),l=mu((0,i.Vh)(n,"id"),"form-check"),u=tu((0,i.Vh)(n,"autofocus")),c=tu((0,i.Vh)(n,"plain")),d=tu((0,i.Vh)(n,"button")),h=tu((0,i.Vh)(n,"switch")),f=tu((0,i.Vh)(n,"disabled")),p=tu((0,i.Vh)(n,"inline")),m=tu((0,i.Vh)(n,"required")),g=tu((0,i.Vh)(n,"state")),v=(0,i.iH)(null),y=(0,i.iH)(!1),b=(0,o.Fl)({get:()=>Array.isArray(n.modelValue)?n.modelValue[0]:n.modelValue,set:e=>{const r=!!e&&n.value,i=Array.isArray(n.modelValue)?[r]:r;t("input",i),t("change",i),t("update:modelValue",i)}}),w=(0,o.Fl)((()=>Array.isArray(n.modelValue)?(n.modelValue||[]).find((e=>e===n.value)):JSON.stringify(n.modelValue)===JSON.stringify(n.value))),_=(0,o.Fl)((()=>!El(r.default))),S=(0,i.qj)({plain:(0,i.Vh)(c,"value"),button:(0,i.Vh)(d,"value"),inline:(0,i.Vh)(p,"value"),switch:(0,i.Vh)(h,"value"),size:(0,i.Vh)(n,"size"),state:(0,i.Vh)(g,"value"),buttonVariant:(0,i.Vh)(n,"buttonVariant")}),I=au(S),k=lu(S),T=uu(S);return(0,o.bv)((()=>{u.value&&null!==v.value&&v.value.focus()})),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)((0,i.SU)(I))},[(0,o.wy)((0,o._)("input",(0,o.dG)({id:(0,i.SU)(l)},t.$attrs,{ref_key:"input",ref:v,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.dq)(b)?b.value=e:null),class:(0,i.SU)(k),type:"radio",disabled:(0,i.SU)(f),required:!!e.name&&(0,i.SU)(m),name:e.name,form:e.form,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,value:e.value,"aria-required":!(!e.name||!(0,i.SU)(m))||void 0,onFocus:n[1]||(n[1]=e=>y.value=!0),onBlur:n[2]||(n[2]=e=>y.value=!1)}),null,16,Dh),[[a.G2,(0,i.SU)(b)]]),(0,i.SU)(_)||!1===(0,i.SU)(c)?((0,o.wg)(),(0,o.iD)("label",{key:0,for:(0,i.SU)(l),class:(0,s.C_)([(0,i.SU)(T),{active:(0,i.SU)(w),focus:y.value}])},[(0,o.WI)(t.$slots,"default")],10,Ah)):(0,o.kq)("",!0)],2))}}),Oh=["id"],Nh=["innerHTML"],Ph=["textContent"],Fh=(0,o.aZ)({__name:"BFormRadioGroup",props:{size:null,form:null,id:null,name:null,modelValue:{type:[String,Boolean,Array,Object,Number],default:""},ariaInvalid:{default:void 0},autofocus:{default:!1},buttonVariant:{default:"secondary"},buttons:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},htmlField:{default:"html"},options:{default:()=>[]},plain:{default:!1},required:{default:!1},stacked:{default:!1},state:{default:void 0},textField:{default:"text"},validated:{default:!1},valueField:{default:"value"}},emits:["input","update:modelValue","change"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),a="BFormRadio",l=mu((0,i.Vh)(n,"id"),"radio"),u=mu((0,i.Vh)(n,"name"),"checkbox");tu((0,i.Vh)(n,"autofocus"));const c=tu((0,i.Vh)(n,"buttons")),d=tu((0,i.Vh)(n,"disabled"));tu((0,i.Vh)(n,"plain"));const h=tu((0,i.Vh)(n,"required")),f=tu((0,i.Vh)(n,"stacked")),p=tu((0,i.Vh)(n,"state")),m=tu((0,i.Vh)(n,"validated")),g=(0,o.Fl)({get:()=>n.modelValue,set:e=>{t("input",e),t("update:modelValue",e),t("change",e)}}),v=(0,o.Fl)((()=>(r.first?hu(r.first(),a,d.value):[]).concat(n.options.map((e=>fu(e,n)))).concat(r.default?hu(r.default(),a,d.value):[]).map(((e,t)=>pu(e,t,n,u,l))).map((e=>({...e}))))),y=(0,i.qj)({required:(0,i.Vh)(h,"value"),ariaInvalid:(0,i.Vh)(n,"ariaInvalid"),state:(0,i.Vh)(p,"value"),validated:(0,i.Vh)(m,"value"),buttons:(0,i.Vh)(c,"value"),stacked:(0,i.Vh)(f,"value"),size:(0,i.Vh)(n,"size")}),b=cu(y),w=du(y);return(e,t)=>((0,o.wg)(),(0,o.iD)("div",(0,o.dG)((0,i.SU)(b),{id:(0,i.SU)(l),role:"radiogroup",class:[(0,i.SU)(w),"bv-no-focus-ring"],tabindex:"-1"}),[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(v),((e,n)=>((0,o.wg)(),(0,o.j4)(xh,(0,o.dG)({key:n,modelValue:(0,i.SU)(g),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.dq)(g)?g.value=e:null)},e.props),{default:(0,o.w5)((()=>[e.html?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.html},null,8,Nh)):((0,o.wg)(),(0,o.iD)("span",{key:1,textContent:(0,s.zw)(e.text)},null,8,Ph))])),_:2},1040,["modelValue"])))),128))],16,Oh))}}),Vh=["value","disabled"],Mh=(0,o.aZ)({__name:"BFormSelectOption",props:{value:null,disabled:{default:!1}},setup(e){const t=tu((0,i.Vh)(e,"disabled"));return(n,r)=>((0,o.wg)(),(0,o.iD)("option",{value:e.value,disabled:(0,i.SU)(t)},[(0,o.WI)(n.$slots,"default")],8,Vh))}}),Lh=["label"],Rh=(0,o.aZ)({__name:"BFormSelectOptionGroup",props:{label:null,disabledField:{default:"disabled"},htmlField:{default:"html"},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(e){const t=e,n=(0,o.Fl)((()=>wu(t.options,"BFormSelectOptionGroup",t)));return(t,r)=>((0,o.wg)(),(0,o.iD)("optgroup",{label:e.label},[(0,o.WI)(t.$slots,"first"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(n),((e,n)=>((0,o.wg)(),(0,o.j4)(Mh,(0,o.dG)({key:n,value:e.value,disabled:e.disabled},t.$attrs,{innerHTML:e.html||e.text}),null,16,["value","disabled","innerHTML"])))),128)),(0,o.WI)(t.$slots,"default")],8,Lh))}}),Uh=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],jh=(0,o.aZ)({__name:"BFormSelect",props:{ariaInvalid:{default:void 0},autofocus:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},form:null,htmlField:{default:"html"},id:null,labelField:{default:"label"},multiple:{default:!1},name:null,options:{default:()=>[]},optionsField:{default:"options"},plain:{default:!1},required:{default:!1},selectSize:{default:0},size:null,state:{default:void 0},textField:{default:"text"},valueField:{default:"value"},modelValue:{default:""}},emits:["input","update:modelValue","change"],setup(e,{expose:t,emit:n}){const r=e,s=mu((0,i.Vh)(r,"id"),"input"),l=tu((0,i.Vh)(r,"autofocus")),u=tu((0,i.Vh)(r,"disabled")),c=tu((0,i.Vh)(r,"multiple")),d=tu((0,i.Vh)(r,"plain")),h=tu((0,i.Vh)(r,"required")),f=tu((0,i.Vh)(r,"state")),p=(0,i.iH)(),m=(0,o.Fl)((()=>({"form-control":d.value,[`form-control-${r.size}`]:r.size&&d.value,"form-select":!d.value,[`form-select-${r.size}`]:r.size&&!d.value,"is-valid":!0===f.value,"is-invalid":!1===f.value}))),g=(0,o.Fl)((()=>{if(r.selectSize||d.value)return r.selectSize})),v=(0,o.Fl)((()=>Bl(r.ariaInvalid,f.value))),y=(0,o.Fl)((()=>wu(r.options,"BFormSelect",r))),b=(0,o.Fl)({get(){return r.modelValue},set(e){n("change",e),n("update:modelValue",e),n("input",e)}}),w=()=>{var e;u.value||null==(e=p.value)||e.focus()},_=()=>{var e;u.value||null==(e=p.value)||e.blur()},S=()=>{(0,o.Y3)((()=>{var e;l.value&&(null==(e=p.value)||e.focus())}))};return(0,o.bv)(S),(0,o.dl)(S),t({blur:_,focus:w}),(t,n)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",(0,o.dG)({id:(0,i.SU)(s),ref_key:"input",ref:p},t.$attrs,{"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.dq)(b)?b.value=e:null),class:(0,i.SU)(m),name:e.name,form:e.form||void 0,multiple:(0,i.SU)(c)||void 0,size:(0,i.SU)(g),disabled:(0,i.SU)(u),required:(0,i.SU)(h),"aria-required":!!(0,i.SU)(h)||void 0,"aria-invalid":(0,i.SU)(v)}),[(0,o.WI)(t.$slots,"first"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(y),((e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[Array.isArray(e.options)?((0,o.wg)(),(0,o.j4)(Rh,{key:0,label:e.label,options:e.options},null,8,["label","options"])):((0,o.wg)(),(0,o.j4)(Mh,{key:1,value:e.value,disabled:e.disabled,innerHTML:e.html||e.text},null,8,["value","disabled","innerHTML"]))],64)))),128)),(0,o.WI)(t.$slots,"default")],16,Uh)),[[a.bM,(0,i.SU)(b)]])}}),Bh=["id"],$h=(0,o.aZ)({__name:"BFormTag",props:{id:null,title:null,disabled:{default:!1},noRemove:{default:!1},pill:{default:!1},removeLabel:{default:"Remove tag"},tag:{default:"span"},variant:{default:"secondary"}},emits:["remove"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),a=mu((0,i.Vh)(n,"id")),l=tu((0,i.Vh)(n,"disabled")),u=tu((0,i.Vh)(n,"noRemove")),c=tu((0,i.Vh)(n,"pill")),d=(0,o.Fl)((()=>{var e,t,i;return null!=(i=(null!=(t=null==(e=r.default)?void 0:e.call(r)[0].children)?t:"").toString()||n.title)?i:""})),h=(0,o.Fl)((()=>`${a.value}taglabel__`)),f=(0,o.Fl)((()=>[`bg-${n.variant}`,{"text-dark":["warning","info","light"].includes(n.variant),"rounded-pill":c.value,disabled:l.value}]));return(n,r)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:(0,i.SU)(a),title:(0,i.SU)(d),class:(0,s.C_)(["badge b-form-tag d-inline-flex align-items-center mw-100",(0,i.SU)(f)]),"aria-labelledby":(0,i.SU)(h)},{default:(0,o.w5)((()=>[(0,o._)("span",{id:(0,i.SU)(h),class:"b-form-tag-content flex-grow-1 text-truncate"},[(0,o.WI)(n.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)((0,i.SU)(d)),1)]))],8,Bh),(0,i.SU)(l)||(0,i.SU)(u)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Ku,{key:0,"aria-keyshortcuts":"Delete","aria-label":e.removeLabel,class:"b-form-tag-remove",white:!["warning","info","light"].includes(e.variant),"aria-describedby":(0,i.SU)(h),"aria-controls":e.id,onClick:r[0]||(r[0]=e=>t("remove",(0,i.SU)(d)))},null,8,["aria-label","white","aria-describedby","aria-controls"]))])),_:3},8,["id","title","class","aria-labelledby"]))}}),zh=["id"],qh=["id","for","aria-live"],Hh=["id","aria-live"],Wh=["id"],Yh=["aria-controls"],Gh={role:"group",class:"d-flex"},Kh=["id","disabled","value","type","placeholder","form","required"],Zh=["disabled"],Qh={"aria-live":"polite","aria-atomic":"true"},Jh={key:0,class:"d-block invalid-feedback"},Xh={key:1,class:"form-text text-muted"},ef={key:2,class:"form-text text-muted"},tf=["name","value"],nf=(0,o.aZ)({__name:"BFormTags",props:{addButtonText:{default:"Add"},addButtonVariant:{default:"outline-secondary"},addOnChange:{default:!1},autofocus:{default:!1},disabled:{default:!1},duplicateTagText:{default:"Duplicate tag(s)"},inputAttrs:null,inputClass:null,inputId:null,inputType:{default:"text"},invalidTagText:{default:"Invalid tag(s)"},form:null,limit:null,limitTagsText:{default:"Tag limit reached"},modelValue:{default:()=>[]},name:null,noAddOnEnter:{default:!1},noOuterFocus:{default:!1},noTagRemove:{default:!1},placeholder:{default:"Add tag..."},removeOnDelete:{default:!1},required:{default:!1},separator:null,state:{default:void 0},size:null,tagClass:null,tagPills:{default:!1},tagRemoveLabel:null,tagRemovedLabel:{default:"Tag removed"},tagValidator:{type:Function,default:()=>!0},tagVariant:{default:"secondary"}},emits:["update:modelValue","input","tag-state","focus","focusin","focusout","blur"],setup(e,{emit:t}){const n=e,r=mu(),a=tu((0,i.Vh)(n,"addOnChange")),l=tu((0,i.Vh)(n,"autofocus")),u=tu((0,i.Vh)(n,"disabled")),c=tu((0,i.Vh)(n,"noAddOnEnter")),d=tu((0,i.Vh)(n,"noOuterFocus")),h=tu((0,i.Vh)(n,"noTagRemove")),f=tu((0,i.Vh)(n,"removeOnDelete")),p=tu((0,i.Vh)(n,"required")),m=tu((0,i.Vh)(n,"state")),g=tu((0,i.Vh)(n,"tagPills")),v=(0,i.iH)(null),y=(0,o.Fl)((()=>n.inputId||`${r.value}input__`)),b=(0,i.iH)(n.modelValue),w=(0,i.iH)(""),_=(0,i.iH)(!1),S=(0,i.iH)(!1),I=(0,i.iH)(""),k=(0,i.iH)([]),T=(0,i.iH)([]),E=(0,i.iH)([]),C=(0,o.Fl)((()=>({[`form-control-${n.size}`]:void 0!==n.size,disabled:u.value,focus:S.value,"is-invalid":!1===m.value,"is-valid":!0===m.value}))),D=(0,o.Fl)((()=>b.value.includes(w.value))),A=(0,o.Fl)((()=>""!==w.value&&!n.tagValidator(w.value))),x=(0,o.Fl)((()=>b.value.length===n.limit)),O=(0,o.Fl)((()=>!A.value&&!D.value)),N=(0,o.Fl)((()=>({addButtonText:n.addButtonText,addButtonVariant:n.addButtonVariant,addTag:j,disableAddButton:O.value,disabled:u.value,duplicateTagText:n.duplicateTagText,duplicateTags:E.value,form:n.form,inputAttrs:{...n.inputAttrs,disabled:u.value,form:n.form,id:y,value:w},inputHandlers:{input:L,keydown:U,change:R},inputId:y,inputType:n.inputType,invalidTagText:n.invalidTagText,invalidTags:T.value,isDuplicate:D.value,isInvalid:A.value,isLimitReached:x.value,limitTagsText:n.limitTagsText,limit:n.limit,noTagRemove:h.value,placeholder:n.placeholder,removeTag:B,required:p.value,separator:n.separator,size:n.size,state:m.value,tagClass:n.tagClass,tagPills:g.value,tagRemoveLabel:n.tagRemoveLabel,tagVariant:n.tagVariant,tags:b.value})));(0,o.YP)((()=>n.modelValue),(e=>{b.value=e}));const P=()=>{var e;l.value&&(null==(e=v.value)||e.focus())},F=e=>{u.value?e.target.blur():t("focusin",e)},V=e=>{u.value||d.value||(S.value=!0,t("focus",e))},M=e=>{S.value=!1,t("blur",e)},L=e=>{var r,i;const o="string"==typeof e?e:e.target.value;_.value=!1,(null==(r=n.separator)?void 0:r.includes(o.charAt(0)))&&o.length>0?v.value&&(v.value.value=""):(w.value=o,null!=(i=n.separator)&&i.includes(o.charAt(o.length-1))?j(o.slice(0,o.length-1)):(k.value=n.tagValidator(o)&&!D.value?[o]:[],T.value=n.tagValidator(o)?[]:[o],E.value=D.value?[o]:[],t("tag-state",k.value,T.value,E.value)))},R=e=>{a.value&&(L(e),D.value||j(w.value))},U=e=>{"Enter"!==e.key||c.value?("Backspace"===e.key||"Delete"===e.key)&&f.value&&""===w.value&&_.value&&b.value.length>0?B(b.value[b.value.length-1]):_.value=!0:j(w.value)},j=e=>{var r;if(e=(e||w.value).trim(),""===e||D.value||!n.tagValidator(e)||n.limit&&x.value)return;const i=[...n.modelValue,e];w.value="",_.value=!0,t("update:modelValue",i),t("input",i),null==(r=v.value)||r.focus()},B=e=>{var n;const r=b.value.indexOf(null!=(n=null==e?void 0:e.toString())?n:"");I.value=b.value.splice(r,1).toString(),t("update:modelValue",b.value)};return(0,o.bv)((()=>{P(),n.modelValue.length>0&&(_.value=!0)})),(0,o.dl)((()=>P())),(n,a)=>((0,o.wg)(),(0,o.iD)("div",{id:(0,i.SU)(r),class:(0,s.C_)(["b-form-tags form-control h-auto",(0,i.SU)(C)]),role:"group",tabindex:"-1",onFocusin:F,onFocusout:a[1]||(a[1]=e=>t("focusout",e))},[(0,o._)("output",{id:`${(0,i.SU)(r)}selected_tags__`,class:"visually-hidden",role:"status",for:(0,i.SU)(y),"aria-live":S.value?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"},(0,s.zw)(b.value.join(", ")),9,qh),(0,o._)("div",{id:`${(0,i.SU)(r)}removed_tags__`,role:"status","aria-live":S.value?"assertive":"off","aria-atomic":"true",class:"visually-hidden"}," ("+(0,s.zw)(e.tagRemovedLabel)+") "+(0,s.zw)(I.value),9,Hh),(0,o.WI)(n.$slots,"default",(0,s.vs)((0,o.F4)((0,i.SU)(N))),(()=>[(0,o._)("ul",{id:`${(0,i.SU)(r)}tag_list__`,class:"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.value,((t,r)=>(0,o.WI)(n.$slots,"tag",(0,s.vs)((0,o.dG)({key:r},{tag:t,tagClass:e.tagClass,tagVariant:e.tagVariant,tagPills:(0,i.SU)(g),removeTag:B})),(()=>[(0,o.Wm)($h,{class:(0,s.C_)(e.tagClass),tag:"li",variant:e.tagVariant,pill:e.tagPills,onRemove:B},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(t),1)])),_:2},1032,["class","variant","pill"])])))),128)),(0,o._)("li",{role:"none","aria-live":"off",class:"b-from-tags-field flex-grow-1","aria-controls":`${(0,i.SU)(r)}tag_list__`},[(0,o._)("div",Gh,[(0,o._)("input",(0,o.dG)({id:(0,i.SU)(y),ref_key:"input",ref:v,disabled:(0,i.SU)(u),value:w.value,type:e.inputType,placeholder:e.placeholder,class:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",style:{outline:"currentcolor none 0px","min-width":"5rem"}},e.inputAttrs,{form:e.form,required:(0,i.SU)(p),onInput:L,onChange:R,onKeydown:U,onFocus:V,onBlur:M}),null,16,Kh),(0,i.SU)(O)?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:(0,s.C_)(["btn b-form-tags-button py-0",[`btn-${e.addButtonVariant}`,{"disabled invisible":0===w.value.length},e.inputClass]]),style:{"font-size":"90%"},disabled:(0,i.SU)(u)||0===w.value.length||(0,i.SU)(x),onClick:a[0]||(a[0]=e=>j(w.value))},[(0,o.WI)(n.$slots,"add-button-text",{},(()=>[(0,o.Uk)((0,s.zw)(e.addButtonText),1)]))],10,Zh)):(0,o.kq)("",!0)])],8,Yh)],8,Wh),(0,o._)("div",Qh,[(0,i.SU)(A)?((0,o.wg)(),(0,o.iD)("div",Jh,(0,s.zw)(e.invalidTagText)+": "+(0,s.zw)(w.value),1)):(0,o.kq)("",!0),(0,i.SU)(D)?((0,o.wg)(),(0,o.iD)("small",Xh,(0,s.zw)(e.duplicateTagText)+": "+(0,s.zw)(w.value),1)):(0,o.kq)("",!0),b.value.length===e.limit?((0,o.wg)(),(0,o.iD)("small",ef,"Tag limit reached")):(0,o.kq)("",!0)])])),e.name?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(b.value,((t,n)=>((0,o.wg)(),(0,o.iD)("input",{key:n,type:"hidden",name:e.name,value:t},null,8,tf)))),128)):(0,o.kq)("",!0)],42,zh))}}),rf=(0,o.aZ)({props:{...gu,noResize:{type:[Boolean,String],default:!1},rows:{type:[String,Number],required:!1,default:2},wrap:{type:String,default:"soft"}},emits:["update:modelValue","change","blur","input"],setup(e,{emit:t}){const{input:n,computedId:r,computedAriaInvalid:s,onInput:a,onChange:l,onBlur:u,focus:c,blur:d}=vu(e,t),h=tu((0,i.Vh)(e,"noResize")),f=(0,o.Fl)((()=>({"form-control":!e.plaintext,"form-control-plaintext":e.plaintext,[`form-control-${e.size}`]:!!e.size,"is-valid":!0===e.state,"is-invalid":!1===e.state}))),p=(0,o.Fl)((()=>h.value?{resize:"none"}:void 0));return{input:n,computedId:r,computedAriaInvalid:s,onInput:a,onChange:l,onBlur:u,focus:c,blur:d,computedClasses:f,computedStyles:p}}}),of=["id","name","form","disabled","placeholder","required","autocomplete","readonly","aria-required","aria-invalid","rows","wrap"];function sf(e,t,n,r,i,s){return(0,o.wg)(),(0,o.iD)("textarea",(0,o.dG)({id:e.computedId,ref:"input",class:e.computedClasses,name:e.name||void 0,form:e.form||void 0,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete||void 0,readonly:e.readonly||e.plaintext,"aria-required":e.required?"true":void 0,"aria-invalid":e.computedAriaInvalid,rows:e.rows,style:e.computedStyles,wrap:e.wrap||void 0},e.$attrs,{onInput:t[0]||(t[0]=t=>e.onInput(t)),onChange:t[1]||(t[1]=t=>e.onChange(t)),onBlur:t[2]||(t[2]=t=>e.onBlur(t))}),null,16,of)}const af=ec(rf,[["render",sf]]),lf={key:0,class:"input-group-text"},uf=["innerHTML"],cf={key:1},df={key:0,class:"input-group-text"},hf=["innerHTML"],ff={key:1},pf=(0,o.aZ)({__name:"BInputGroup",props:{append:null,appendHtml:null,id:null,prepend:null,prependHtml:null,size:null,tag:{default:"div"}},setup(e){const t=e,n=(0,o.Fl)((()=>({"input-group-sm":"sm"===t.size,"input-group-lg":"lg"===t.size}))),r=(0,o.Fl)((()=>!!t.append||!!t.appendHtml)),a=(0,o.Fl)((()=>!!t.prepend||!!t.prependHtml));return(t,l)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,class:(0,s.C_)(["input-group",(0,i.SU)(n)]),role:"group"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"prepend",{},(()=>[(0,i.SU)(a)?((0,o.wg)(),(0,o.iD)("span",lf,[e.prependHtml?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.prependHtml},null,8,uf)):((0,o.wg)(),(0,o.iD)("span",cf,(0,s.zw)(e.prepend),1))])):(0,o.kq)("",!0)])),(0,o.WI)(t.$slots,"default"),(0,o.WI)(t.$slots,"append",{},(()=>[(0,i.SU)(r)?((0,o.wg)(),(0,o.iD)("span",df,[e.appendHtml?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.appendHtml},null,8,hf)):((0,o.wg)(),(0,o.iD)("span",ff,(0,s.zw)(e.append),1))])):(0,o.kq)("",!0)]))])),_:3},8,["id","class"]))}}),mf=(0,o.aZ)({__name:"BInputGroupText",props:{tag:{default:"div"},text:null},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"input-group-text"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))])),_:3}))}}),gf=(0,o.aZ)({__name:"BInputGroupAddon",props:{isText:{default:!1}},setup(e){const t=tu((0,i.Vh)(e,"isText"));return(e,n)=>(0,i.SU)(t)?((0,o.wg)(),(0,o.j4)(mf,{key:0},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3})):(0,o.WI)(e.$slots,"default",{key:1})}}),vf=(0,o.aZ)({__name:"BInputGroupAppend",props:{isText:{default:!1}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)(gf,{"is-text":e.isText},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["is-text"]))}}),yf=(0,o.aZ)({__name:"BInputGroupPrepend",props:{isText:{default:!1}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)(gf,{"is-text":e.isText},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["is-text"]))}}),bf=Symbol(),wf=(0,o.aZ)({__name:"BListGroup",props:{flush:{default:!1},horizontal:{type:[Boolean,String],default:!1},numbered:{default:!1},tag:{default:"div"}},setup(e){const t=e,n=tu((0,i.Vh)(t,"flush")),r=tu((0,i.Vh)(t,"numbered")),a=(0,o.Fl)((()=>{const e=!n.value&&t.horizontal;return{"list-group-flush":n.value,"list-group-horizontal":!0===e,[`list-group-horizontal-${e}`]:"string"==typeof e,"list-group-numbered":r.value}})),l=(0,o.Fl)((()=>!0===r.value?"ol":t.tag));return(0,o.JJ)(bf,{numbered:r.value}),(e,t)=>((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(l)),{class:(0,s.C_)(["list-group",(0,i.SU)(a)])},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},8,["class"]))}}),_f=(0,o.aZ)({__name:"BListGroupItem",props:{action:{default:!1},active:{default:!1},button:{default:!1},disabled:{default:!1},href:null,tag:{default:"div"},target:{default:"_self"},to:null,variant:null},setup(e){const t=e,n=(0,o.l1)(),r=(0,o.f3)(bf,null),s=tu((0,i.Vh)(t,"action")),a=tu((0,i.Vh)(t,"active")),l=tu((0,i.Vh)(t,"button")),u=tu((0,i.Vh)(t,"disabled")),c=(0,o.Fl)((()=>!l.value&&(!!t.href||!!t.to))),d=(0,o.Fl)((()=>null!=r&&r.numbered?"li":l.value?"button":c.value?nc:t.tag)),h=(0,o.Fl)((()=>s.value||c.value||l.value||["a","router-link","button","b-link"].includes(t.tag))),f=(0,o.Fl)((()=>({[`list-group-item-${t.variant}`]:void 0!==t.variant,"list-group-item-action":h.value,active:a.value,disabled:u.value}))),p=(0,o.Fl)((()=>{const e={};return l.value&&((!n||!n.type)&&(e.type="button"),u.value&&(e.disabled=!0)),e}));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(d)),(0,o.dG)({class:["list-group-item",(0,i.SU)(f)],"aria-current":!!(0,i.SU)(a)||void 0,"aria-disabled":!!(0,i.SU)(u)||void 0,target:(0,i.SU)(c)?e.target:void 0,href:(0,i.SU)(l)?void 0:e.href,to:(0,i.SU)(l)?void 0:e.to},(0,i.SU)(p)),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},16,["class","aria-current","aria-disabled","target","href","to"]))}}),Sf=["id","aria-labelledby","aria-describedby"],If=["id"],kf={inheritAttrs:!1},Tf=(0,o.aZ)({...kf,__name:"BModal",props:{bodyBgVariant:null,bodyClass:null,bodyTextVariant:null,busy:{default:!1},lazy:{default:!1},buttonSize:{default:"md"},cancelDisabled:{default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{default:!1},contentClass:null,dialogClass:null,footerBgVariant:null,footerBorderVariant:null,footerClass:null,footerTextVariant:null,fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:null,headerBorderVariant:null,headerClass:null,headerCloseLabel:{default:"Close"},headerCloseWhite:{default:!1},headerTextVariant:null,hideBackdrop:{default:!1},hideFooter:{default:!1},hideHeader:{default:!1},hideHeaderClose:{default:!1},id:null,modalClass:null,modelValue:{default:!1},noCloseOnBackdrop:{default:!1},noCloseOnEsc:{default:!1},noFade:{default:!1},noFocus:{default:!1},okDisabled:{default:!1},okOnly:{default:!1},okTitle:{default:"Ok"},okVariant:{default:"primary"},scrollable:{default:!1},show:{default:!1},size:null,title:null,titleClass:null,titleSrOnly:{default:!1},titleTag:{default:"h5"},static:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden","hide-prevented","show-prevented","ok","cancel","close"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),l=mu((0,i.Vh)(n,"id"),"modal"),u=tu((0,i.Vh)(n,"busy")),c=tu((0,i.Vh)(n,"lazy")),d=tu((0,i.Vh)(n,"cancelDisabled")),h=tu((0,i.Vh)(n,"centered")),f=tu((0,i.Vh)(n,"hideBackdrop")),p=tu((0,i.Vh)(n,"hideFooter")),m=tu((0,i.Vh)(n,"hideHeader")),g=tu((0,i.Vh)(n,"hideHeaderClose")),v=tu((0,i.Vh)(n,"modelValue")),y=tu((0,i.Vh)(n,"noCloseOnBackdrop")),b=tu((0,i.Vh)(n,"noCloseOnEsc")),w=tu((0,i.Vh)(n,"noFade")),_=tu((0,i.Vh)(n,"noFocus")),S=tu((0,i.Vh)(n,"okDisabled")),I=tu((0,i.Vh)(n,"okOnly")),k=tu((0,i.Vh)(n,"scrollable")),T=tu((0,i.Vh)(n,"titleSrOnly")),E=tu((0,i.Vh)(n,"static")),C=(0,i.iH)(!1),D=(0,i.iH)(null),A=(0,i.iH)(!1),x=(0,o.Fl)((()=>[n.modalClass,{fade:!w.value,show:C.value}])),O=(0,o.Fl)((()=>!El(r["header-close"]))),N=(0,o.Fl)((()=>[n.dialogClass,{"modal-fullscreen":!0===n.fullscreen,[`modal-fullscreen-${n.fullscreen}-down`]:"string"==typeof n.fullscreen,[`modal-${n.size}`]:void 0!==n.size,"modal-dialog-centered":h.value,"modal-dialog-scrollable":k.value}])),P=(0,o.Fl)((()=>[n.bodyClass,{[`bg-${n.bodyBgVariant}`]:void 0!==n.bodyBgVariant,[`text-${n.bodyTextVariant}`]:void 0!==n.bodyTextVariant}])),F=(0,o.Fl)((()=>[n.headerClass,{[`bg-${n.headerBgVariant}`]:void 0!==n.headerBgVariant,[`border-${n.headerBorderVariant}`]:void 0!==n.headerBorderVariant,[`text-${n.headerTextVariant}`]:void 0!==n.headerTextVariant}])),V=(0,o.Fl)((()=>[n.footerClass,{[`bg-${n.footerBgVariant}`]:void 0!==n.footerBgVariant,[`border-${n.footerBorderVariant}`]:void 0!==n.footerBorderVariant,[`text-${n.footerTextVariant}`]:void 0!==n.footerTextVariant}])),M=(0,o.Fl)((()=>[n.titleClass,{["visually-hidden"]:T.value}])),L=(0,o.Fl)((()=>d.value||u.value)),R=(0,o.Fl)((()=>S.value||u.value)),U=(e,t={})=>new La(e,{cancelable:!1,target:D.value||null,relatedTarget:null,trigger:null,...t,componentId:l.value}),j=(e="")=>{const n=U("hide",{cancelable:""!==e,trigger:e});if("ok"===e&&t(e,n),"cancel"===e&&t(e,n),"close"===e&&t(e,n),t("hide",n),n.defaultPrevented||"backdrop"===e&&y.value||"esc"===e&&b.value)return t("update:modelValue",!0),void t("hide-prevented");t("update:modelValue",!1)},B=()=>{const e=U("show",{cancelable:!0});if(t("show",e),e.defaultPrevented)return t("update:modelValue",!1),void t("show-prevented");t("update:modelValue",!0)},$=()=>B(),z=()=>{C.value=!0,t("shown",U("shown")),!0===c.value&&(A.value=!0)},q=()=>{C.value=!1},H=()=>{t("hidden",U("hidden")),!0===c.value&&(A.value=!1)};return(0,o.YP)((()=>v.value),(e=>{!0===e&&!_.value&&(0,o.Y3)((()=>{null!==D.value&&D.value.focus()}))})),(t,n)=>((0,o.wg)(),(0,o.j4)(o.lR,{to:"body",disabled:(0,i.SU)(E)},[(0,o.Wm)(Yu,{"no-fade":!0,"trans-props":{enterToClass:"show"},onBeforeEnter:$,onAfterEnter:z,onLeave:q,onAfterLeave:H},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",(0,o.dG)({id:(0,i.SU)(l),ref_key:"element",ref:D,class:["modal",(0,i.SU)(x)],role:"dialog","aria-labelledby":`${(0,i.SU)(l)}-label`,"aria-describedby":`${(0,i.SU)(l)}-body`,tabindex:"-1"},t.$attrs,{onKeyup:n[5]||(n[5]=(0,a.D2)((e=>j("esc")),["esc"]))}),[(0,o._)("div",{class:(0,s.C_)(["modal-dialog",(0,i.SU)(N)])},[!(0,i.SU)(c)||(0,i.SU)(c)&&A.value||(0,i.SU)(c)&&!0===(0,i.SU)(v)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["modal-content",e.contentClass])},[(0,i.SU)(m)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["modal-header",(0,i.SU)(F)])},[(0,o.WI)(t.$slots,"header",{},(()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.titleTag),{id:`${(0,i.SU)(l)}-label`,class:(0,s.C_)(["modal-title",(0,i.SU)(M)])},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"title",{},(()=>[(0,o.Uk)((0,s.zw)(e.title),1)]),!0)])),_:3},8,["id","class"])),(0,i.SU)(g)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,i.SU)(O)?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:n[0]||(n[0]=e=>j("close"))},[(0,o.WI)(t.$slots,"header-close",{},void 0,!0)])):((0,o.wg)(),(0,o.j4)(Ku,{key:1,"aria-label":e.headerCloseLabel,white:e.headerCloseWhite,onClick:n[1]||(n[1]=e=>j("close"))},null,8,["aria-label","white"]))],64))]),!0)],2)),(0,o._)("div",{id:`${(0,i.SU)(l)}-body`,class:(0,s.C_)(["modal-body",(0,i.SU)(P)])},[(0,o.WI)(t.$slots,"default",{},void 0,!0)],10,If),(0,i.SU)(p)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,s.C_)(["modal-footer",(0,i.SU)(V)])},[(0,o.WI)(t.$slots,"footer",{},(()=>[(0,o.WI)(t.$slots,"cancel",{},(()=>[(0,i.SU)(I)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(oc,{key:0,type:"button",class:"btn",disabled:(0,i.SU)(L),size:e.buttonSize,variant:e.cancelVariant,onClick:n[2]||(n[2]=e=>j("cancel"))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.cancelTitle),1)])),_:1},8,["disabled","size","variant"]))]),!0),(0,o.WI)(t.$slots,"ok",{},(()=>[(0,o.Wm)(oc,{type:"button",class:"btn",disabled:(0,i.SU)(R),size:e.buttonSize,variant:e.okVariant,onClick:n[3]||(n[3]=e=>j("ok"))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.okTitle),1)])),_:1},8,["disabled","size","variant"])]),!0)]),!0)],2))],2)):(0,o.kq)("",!0)],2),(0,i.SU)(f)?(0,o.kq)("",!0):(0,o.WI)(t.$slots,"backdrop",{key:0},(()=>[(0,o._)("div",{class:"modal-backdrop fade show",onClick:n[4]||(n[4]=e=>j("backdrop"))})]),!0)],16,Sf),[[a.F8,(0,i.SU)(v)]])])),_:3})],8,["disabled"]))}}),Ef=ec(Tf,[["__scopeId","data-v-116ecd66"]]),Cf=(0,o.aZ)({__name:"BNav",props:{align:null,cardHeader:{default:!1},fill:{default:!1},justified:{default:!1},pills:{default:!1},small:{default:!1},tabs:{default:!1},tag:{default:"ul"},vertical:{default:!1}},setup(e){const t=e,n=tu((0,i.Vh)(t,"cardHeader")),r=tu((0,i.Vh)(t,"fill")),a=tu((0,i.Vh)(t,"justified")),l=tu((0,i.Vh)(t,"pills")),u=tu((0,i.Vh)(t,"small")),c=tu((0,i.Vh)(t,"tabs")),d=tu((0,i.Vh)(t,"vertical")),h=Va((0,i.Vh)(t,"align")),f=(0,o.Fl)((()=>({"nav-tabs":c.value,"nav-pills":l.value&&!c.value,"card-header-tabs":!d.value&&n.value&&c.value,"card-header-pills":!d.value&&n.value&&l.value&&!c.value,"flex-column":d.value,"nav-fill":!d.value&&r.value,"nav-justified":!d.value&&a.value,[h.value]:!d.value&&void 0!==t.align,small:u.value})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)(["nav",(0,i.SU)(f)])},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["class"]))}}),Df=(0,o.aZ)({__name:"BNavForm",props:{role:null,id:null,floating:{default:!1},novalidate:{default:!1},validated:{default:!1}},emits:["submit"],setup(e,{emit:t}){const n=e,r=(0,o.Fl)((()=>({floating:n.floating,role:n.role,id:n.id,novalidate:n.novalidate,validated:n.validated}))),s=e=>t("submit",e);return(e,t)=>((0,o.wg)(),(0,o.j4)(Jd,(0,o.dG)((0,i.SU)(r),{class:"d-flex",onSubmit:(0,a.iM)(s,["prevent"])}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["onSubmit"]))}}),Af=(0,o.aZ)({components:{BLink:nc},props:{...Gl(Ju,["event","routerTag"])},setup(e){return{disabledBoolean:tu((0,i.Vh)(e,"disabled"))}}}),xf={class:"nav-item"};function Of(e,t,n,r,i,s){const a=(0,o.up)("b-link");return(0,o.wg)(),(0,o.iD)("li",xf,[(0,o.Wm)(a,(0,o.dG)({class:"nav-link"},e.$props,{"active-class":"active",tabindex:e.disabledBoolean?-1:void 0,"aria-disabled":!!e.disabledBoolean||void 0}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["tabindex","aria-disabled"])])}const Nf=ec(Af,[["render",Of]]),Pf={class:"nav-item dropdown"},Ff=(0,o.aZ)({__name:"BNavItemDropdown",props:{id:null,text:null,toggleClass:null,size:null,offset:null,autoClose:{type:[Boolean,String],default:!0},dark:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropup:{type:Boolean,default:!1},right:{type:Boolean,default:!1},left:{type:[Boolean,String],default:!1},split:{type:Boolean,default:!1},splitVariant:null,noCaret:{type:Boolean,default:!1},variant:{default:"link"}},setup(e){const t=e;return(e,n)=>((0,o.wg)(),(0,o.iD)("li",Pf,[(0,o.Wm)(Cd,(0,o.dG)(t,{"is-nav":""}),(0,o.Nv)({_:2},[(0,o.Ko)(e.$slots,((t,n,r)=>({name:n,fn:(0,o.w5)((t=>[(0,o.WI)(e.$slots,n,(0,s.vs)((0,o.F4)(t||{})))]))})))]),1040)]))}}),Vf={class:"navbar-text"},Mf=(0,o.aZ)({__name:"BNavText",props:{text:null},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("li",Vf,[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.text),1)]))]))}}),Lf=(0,o.aZ)({__name:"BNavbar",props:{fixed:null,print:{default:!1},sticky:null,tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},dark:{default:!1},variant:null,container:{type:[String,Boolean],default:"fluid"}},setup(e){const t=e,n=tu((0,i.Vh)(t,"print")),r=tu((0,i.Vh)(t,"dark")),a=(0,o.Fl)((()=>"nav"===t.tag?void 0:"navigation")),l=(0,o.Fl)((()=>"string"==typeof t.toggleable?`navbar-expand-${t.toggleable}`:!1===t.toggleable?"navbar-expand":void 0)),u=(0,o.Fl)((()=>!0===t.container?"container":"container-fluid")),c=(0,o.Fl)((()=>({"d-print":n.value,[`sticky-${t.sticky}`]:void 0!==t.sticky,"navbar-dark":r.value,[`bg-${t.variant}`]:void 0!==t.variant,[`fixed-${t.fixed}`]:void 0!==t.fixed,[`${l.value}`]:void 0!==l.value})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)(["navbar",(0,i.SU)(c)]),role:(0,i.SU)(a)},{default:(0,o.w5)((()=>[!1!==e.container?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)((0,i.SU)(u))},[(0,o.WI)(t.$slots,"default")],2)):(0,o.WI)(t.$slots,"default",{key:1})])),_:3},8,["class","role"]))}}),Rf=Gl(Ju,["event","routerTag"]),Uf=(0,o.aZ)({components:{BLink:nc},props:{tag:{type:String,default:"div"},...Rf},setup(e){const t=(0,o.Fl)((()=>eu(e))),n=(0,o.Fl)((()=>t.value?nc:e.tag));return{computedLinkProps:(0,o.Fl)((()=>t.value?Jl(e,Rf):{})),computedTag:n}}});function jf(e,t,n,r,i,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.computedTag),(0,o.dG)({class:"navbar-brand"},e.computedLinkProps),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16)}const Bf=ec(Uf,[["render",jf]]),$f=(0,o.aZ)({__name:"BNavbarNav",props:{align:null,fill:{default:!1},justified:{default:!1},small:{default:!1},tag:{default:"ul"}},setup(e){const t=e,n=tu((0,i.Vh)(t,"fill")),r=tu((0,i.Vh)(t,"justified")),a=tu((0,i.Vh)(t,"small")),l=Va((0,i.Vh)(t,"align")),u=(0,o.Fl)((()=>({"nav-fill":n.value,"nav-justified":r.value,[l.value]:void 0!==t.align,small:a.value})));return(e,t)=>((0,o.wg)(),(0,o.iD)("ul",{class:(0,s.C_)(["navbar-nav",(0,i.SU)(u)])},[(0,o.WI)(e.$slots,"default")],2))}}),zf=(0,o._)("span",{class:"navbar-toggler-icon"},null,-1),qf=(0,o.aZ)({__name:"BNavbarToggle",props:{disabled:{default:!1},label:{default:"Toggle navigation"},target:null},emits:["click"],setup(e,{emit:t}){const n=e,r=tu((0,i.Vh)(n,"disabled")),s=(0,o.Fl)((()=>({disabled:r.value,"aria-label":n.label}))),a=(0,o.Fl)((()=>({disabled:r.value}))),l=e=>{r.value||t("click",e)};return(t,n)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",(0,o.dG)({class:["navbar-toggler",(0,i.SU)(a)],type:"button"},(0,i.SU)(s),{onClick:l}),[(0,o.WI)(t.$slots,"default",{},(()=>[zf]))],16)),[[(0,i.SU)(Ou),(0,i.SU)(r)?void 0:e.target]])}}),Hf=["data-bs-backdrop","data-bs-scroll"],Wf={key:0,class:"offcanvas-header"},Yf={id:"offcanvasLabel",class:"offcanvas-title"},Gf={class:"offcanvas-body"},Kf={key:1},Zf=(0,o.aZ)({__name:"BOffcanvas",props:{dismissLabel:{default:"Close"},modelValue:{default:!1},bodyScrolling:{default:!1},backdrop:{default:!0},placement:{default:"start"},title:null,noHeaderClose:{default:!1},noHeader:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(e,{emit:t}){const n=e,r=tu((0,i.Vh)(n,"modelValue")),a=tu((0,i.Vh)(n,"bodyScrolling")),l=tu((0,i.Vh)(n,"backdrop")),u=tu((0,i.Vh)(n,"noHeaderClose")),c=tu((0,i.Vh)(n,"noHeader")),d=(0,o.Rr)(),h=(0,i.iH)(),f=(0,i.iH)(),p=(0,o.Fl)((()=>!El(d.footer))),m=(0,o.Fl)((()=>[`offcanvas-${n.placement}`])),g=()=>{t("show"),t("update:modelValue",!0)},v=()=>{t("hide"),t("update:modelValue",!1)};return(0,o.YP)((()=>r.value),(e=>{var t,n;e?null==(t=f.value)||t.show(h.value):null==(n=f.value)||n.hide()})),su(h,"shown.bs.offcanvas",(()=>t("shown"))),su(h,"hidden.bs.offcanvas",(()=>t("hidden"))),su(h,"show.bs.offcanvas",(()=>{g()})),su(h,"hide.bs.offcanvas",(()=>{v()})),(0,o.bv)((()=>{var e;f.value=new si(h.value),r.value&&(null==(e=f.value)||e.show(h.value))})),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{ref_key:"element",ref:h,class:(0,s.C_)(["offcanvas",(0,i.SU)(m)]),tabindex:"-1","aria-labelledby":"offcanvasLabel","data-bs-backdrop":(0,i.SU)(l),"data-bs-scroll":(0,i.SU)(a)},[(0,i.SU)(c)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Wf,[(0,o.WI)(t.$slots,"header",(0,s.vs)((0,o.F4)({visible:(0,i.SU)(r),placement:e.placement,hide:v})),(()=>[(0,o._)("h5",Yf,[(0,o.WI)(t.$slots,"title",{},(()=>[(0,o.Uk)((0,s.zw)(e.title),1)]))]),(0,i.SU)(u)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Ku,{key:0,class:"text-reset","data-bs-dismiss":"offcanvas","aria-label":e.dismissLabel},null,8,["aria-label"]))]))])),(0,o._)("div",Gf,[(0,o.WI)(t.$slots,"default")]),(0,i.SU)(p)?((0,o.wg)(),(0,o.iD)("div",Kf,[(0,o.WI)(t.$slots,"footer",(0,s.vs)((0,o.F4)({visible:(0,i.SU)(r),placement:e.placement,hide:v})))])):(0,o.kq)("",!0)],10,Hf))}}),Qf=(0,o.aZ)({__name:"BOverlay",props:{bgColor:null,blur:{default:"2px"},fixed:{default:!1},noCenter:{default:!1},noFade:{default:!1},noWrap:{default:!1},opacity:{default:.85},overlayTag:{default:"div"},rounded:{type:[Boolean,String],default:!1},show:{default:!1},spinnerSmall:{default:!1},spinnerType:{default:"border"},spinnerVariant:null,variant:{default:"light"},wrapTag:{default:"div"},zIndex:{default:10}},emits:["click","hidden","shown"],setup(e,{emit:t}){const n=e,r={top:0,left:0,bottom:0,right:0},a=tu((0,i.Vh)(n,"fixed")),l=tu((0,i.Vh)(n,"noCenter")),u=tu((0,i.Vh)(n,"noWrap")),c=tu((0,i.Vh)(n,"show")),d=tu((0,i.Vh)(n,"spinnerSmall")),h=(0,o.Fl)((()=>!0===n.rounded||""===n.rounded?"rounded":!1===n.rounded?"":`rounded-${n.rounded}`)),f=(0,o.Fl)((()=>n.variant&&!n.bgColor?`bg-${n.variant}`:"")),p=(0,o.Fl)((()=>c.value?"true":null)),m=(0,o.Fl)((()=>({type:n.spinnerType||void 0,variant:n.spinnerVariant||void 0,small:d.value}))),g=(0,o.Fl)((()=>({...r,zIndex:n.zIndex||10}))),v=(0,o.Fl)((()=>["b-overlay",{"position-absolute":!u.value||!a.value,"position-fixed":u.value&&a.value}])),y=(0,o.Fl)((()=>[f.value,h.value])),b=(0,o.Fl)((()=>({...r,opacity:n.opacity,backgroundColor:n.bgColor||void 0,backdropFilter:blur?`blur(${blur})`:void 0}))),w=(0,o.Fl)((()=>l.value?r:{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}));return(n,r)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.wrapTag),{class:"b-overlay-wrap position-relative","aria-busy":(0,i.SU)(p)},{default:(0,o.w5)((()=>[(0,o.WI)(n.$slots,"default"),(0,o.Wm)(Yu,{"no-fade":e.noFade,"trans-props":{enterToClass:"show"},name:"fade",onOnAfterEnter:r[1]||(r[1]=e=>t("shown")),onOnAfterLeave:r[2]||(r[2]=e=>t("hidden"))},{default:(0,o.w5)((()=>[(0,i.SU)(c)?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.overlayTag),{key:0,class:(0,s.C_)((0,i.SU)(v)),style:(0,s.j5)((0,i.SU)(g)),onClick:r[0]||(r[0]=e=>t("click",e))},{default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,s.C_)(["position-absolute",(0,i.SU)(y)]),style:(0,s.j5)((0,i.SU)(b))},null,6),(0,o._)("div",{class:"position-absolute",style:(0,s.j5)((0,i.SU)(w))},[(0,o.WI)(n.$slots,"overlay",(0,s.vs)((0,o.F4)((0,i.SU)(m))),(()=>[(0,o.Wm)(Qu,(0,s.vs)((0,o.F4)((0,i.SU)(m))),null,16)]))],4)])),_:3},8,["class","style"])):(0,o.kq)("",!0)])),_:3},8,["no-fade"])])),_:3},8,["aria-busy"]))}}),Jf=5,Xf=20,ep=0,tp=3,np="ellipsis-text",rp="first-text",ip="last-text",op="next-text",sp="page",ap="prev-text",lp=e=>Math.max(Hl(e)||Xf,1),up=e=>Math.max(Hl(e)||ep,0),cp=(e,t)=>{const n=Hl(e)||1;return n>t?t:n<1?1:n},dp=(0,o.aZ)({name:"BPagination",props:{align:{type:String,default:"start"},ariaControls:{type:String,required:!1},ariaLabel:{type:String,default:"Pagination"},disabled:{type:[Boolean,String],default:!1},ellipsisClass:{type:[Array,String],default:()=>[]},ellipsisText:{type:String,default:"…"},firstClass:{type:[Array,String],default:()=>[]},firstNumber:{type:[Boolean,String],default:!1},firstText:{type:String,default:"«"},hideEllipsis:{type:[Boolean,String],default:!1},hideGotoEndButtons:{type:[Boolean,String],default:!1},labelFirstPage:{type:String,default:"Go to first page"},labelLastPage:{type:String,default:"Go to last page"},labelNextPage:{type:String,default:"Go to next page"},labelPage:{type:String,default:"Go to page"},labelPrevPage:{type:String,default:"Go to previous page"},lastClass:{type:[Array,String],default:()=>[]},lastNumber:{type:[Boolean,String],default:!1},lastText:{type:String,default:"»"},limit:{type:Number,default:Jf},modelValue:{type:Number,default:1},nextClass:{type:[Array,String],default:()=>[]},nextText:{type:String,default:"›"},pageClass:{type:[Array,String],default:()=>[]},perPage:{type:Number,default:Xf},pills:{type:[Boolean,String],default:!1},prevClass:{type:[Array,String],default:()=>[]},prevText:{type:String,default:"‹"},size:{type:String,required:!1},totalRows:{type:Number,default:ep}},emits:["update:modelValue","page-click"],setup(e,{emit:t,slots:n}){const r=tu((0,i.Vh)(e,"disabled")),s=tu((0,i.Vh)(e,"firstNumber")),a=tu((0,i.Vh)(e,"hideEllipsis")),l=tu((0,i.Vh)(e,"hideGotoEndButtons")),u=tu((0,i.Vh)(e,"lastNumber")),c=tu((0,i.Vh)(e,"pills")),d=(0,o.Fl)((()=>"fill"===e.align?"start":e.align)),h=Va((0,i.Vh)(d,"value")),f=(0,o.Fl)((()=>Math.ceil(up(e.totalRows)/lp(e.perPage)))),p=(0,o.Fl)((()=>{let t;return t=f.value-e.modelValue+2<e.limit&&e.limit>tp?f.value-g.value+1:e.modelValue-Math.floor(g.value/2),t<1?t=1:t>f.value-g.value&&(t=f.value-g.value+1),e.limit<=tp&&u.value&&f.value===t+g.value-1&&(t=Math.max(t-1,1)),t})),m=(0,o.Fl)((()=>{const t=f.value-e.modelValue;let n=!1;return t+2<e.limit&&e.limit>tp?e.limit>tp&&(n=!0):e.limit>tp&&(n=!(a.value&&!s.value)),p.value<=1&&(n=!1),n&&s.value&&p.value<4&&(n=!1),n})),g=(0,o.Fl)((()=>{let t=e.limit;return f.value<=e.limit?t=f.value:e.modelValue<e.limit-1&&e.limit>tp?((!a.value||u.value)&&(t=e.limit-(s.value?0:1)),t=Math.min(t,e.limit)):f.value-e.modelValue+2<e.limit&&e.limit>tp?(!a.value||s.value)&&(t=e.limit-(u.value?0:1)):e.limit>tp&&(t=e.limit-(a.value?0:2)),t})),v=(0,o.Fl)((()=>{const t=f.value-g.value;let n=!1;e.modelValue<e.limit-1&&e.limit>tp?(!a.value||u.value)&&(n=!0):e.limit>tp&&(n=!(a.value&&!u.value)),p.value>t&&(n=!1);const r=p.value+g.value-1;return n&&u.value&&r>f.value-3&&(n=!1),n})),y=(0,i.qj)({pageSize:lp(e.perPage),totalRows:up(e.totalRows),numberOfPages:f.value}),b=(n,r)=>{if(r===e.modelValue)return;const{target:i}=n,o=new Ma("page-click",{cancelable:!0,target:i});t("page-click",o,r),!o.defaultPrevented&&t("update:modelValue",r)},w=(0,o.Fl)((()=>e.size?`pagination-${e.size}`:"")),_=(0,o.Fl)((()=>c.value?"b-pagination-pills":""));(0,o.YP)((()=>e.modelValue),(n=>{const r=cp(n,f.value);r!==e.modelValue&&t("update:modelValue",r)})),(0,o.YP)(y,((n,r)=>{null!=n&&(r.pageSize!==n.pageSize&&r.totalRows===n.totalRows||r.numberOfPages!==n.numberOfPages&&e.modelValue>r.numberOfPages)&&t("update:modelValue",1)}));const S=(0,o.Fl)((()=>{const e=[];for(let t=0;t<g.value;t++)e.push({number:p.value+t,classes:null});return e}));return()=>{const t=[],i=S.value.map((e=>e.number)),a=t=>t===e.modelValue,c=e.modelValue<1,d="fill"===e.align,p=(t,i,s,l,u,h)=>{const p=r.value||a(h)||c||t<1||t>f.value,m=t<1?1:t>f.value?f.value:t,g={disabled:p,page:m,index:m-1},v=ql(s,g,n)||l||"";return(0,o.h)("li",{class:["page-item",{disabled:p,"flex-fill":d,"d-flex":d&&!p},u]},(0,o.h)(p?"span":"button",{class:["page-link",{"flex-grow-1":!p&&d}],"aria-label":i,"aria-controls":e.ariaControls||null,"aria-disabled":p?"true":null,role:"menuitem",type:p?null:"button",tabindex:p?null:"-1",onClick:e=>{p||b(e,m)}},v))},g=t=>(0,o.h)("li",{class:["page-item","disabled","bv-d-xs-down-none",d?"flex-fill":"",e.ellipsisClass],role:"separator",key:"ellipsis-"+(t?"last":"first")},[(0,o.h)("span",{class:["page-link"]},ql(np,{},n)||e.ellipsisText||"...")]),y=(t,i)=>{const s=a(t.number)&&!c,l=r.value?null:s||c&&0===i?"0":"-1",u={active:s,disabled:r.value,page:t.number,index:t.number-1,content:t.number},h=ql(sp,u,n)||t.number,f=(0,o.h)(r.value?"span":"button",{class:["page-link",{"flex-grow-1":!r.value&&d}],"aria-controls":e.ariaControls||null,"aria-disabled":r.value?"true":null,"aria-label":e.labelPage?`${e.labelPage} ${t.number}`:null,role:"menuitemradio",type:r.value?null:"button",tabindex:l,onClick:e=>{r.value||b(e,t.number)}},h);return(0,o.h)("li",{class:["page-item",{disabled:r.value,active:s,"flex-fill":d,"d-flex":d&&!r.value},e.pageClass],role:"presentation",key:`page-${t.number}`},f)};if(!l.value&&!s.value){const n=p(1,e.labelFirstPage,rp,e.firstText,e.firstClass,1);t.push(n)}const I=p(e.modelValue-1,e.labelFirstPage,ap,e.prevText,e.prevClass,1);t.push(I),s.value&&1!==i[0]&&t.push(y({number:1},0)),m.value&&t.push(g(!1)),S.value.forEach(((e,n)=>{const r=m.value&&s.value&&1!==i[0]?1:0;t.push(y(e,n+r))})),v.value&&t.push(g(!0)),u.value&&i[i.length-1]!==f.value&&t.push(y({number:f.value},-1));const k=p(e.modelValue+1,e.labelNextPage,op,e.nextText,e.nextClass,f.value);if(t.push(k),!u.value&&!l.value){const n=p(f.value,e.labelLastPage,ip,e.lastText,e.lastClass,f.value);t.push(n)}return(0,o.h)("ul",{class:["pagination",w.value,h.value,_.value],role:"menubar","aria-disabled":r.value,"aria-label":e.ariaLabel||null},t)}}}),hp=(0,o.aZ)({__name:"BPlaceholder",props:{tag:{default:"span"},width:null,cols:null,variant:null,size:null,animation:null},setup(e){const t=e,n=(0,o.Fl)((()=>void 0===t.width?void 0:"number"==typeof t.width?t.width.toString():t.width.includes("%")?t.width.replaceAll("%",""):t.width)),r=(0,o.Fl)((()=>void 0===t.cols?void 0:"number"==typeof t.cols?t.cols.toString():t.cols)),a=(0,o.Fl)((()=>({[`col-${r.value}`]:void 0!==r.value&&void 0===n.value,[`bg-${t.variant}`]:void 0!==t.variant,[`placeholder-${t.size}`]:void 0!==t.size,[`placeholder-${t.animation}`]:void 0!==t.animation}))),l=(0,o.Fl)((()=>void 0===n.value?void 0:`width: ${n.value}%;`));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)(["placeholder",(0,i.SU)(a)]),style:(0,s.j5)((0,i.SU)(l))},null,8,["class","style"]))}}),fp=(0,o.aZ)({__name:"BPlaceholderButton",props:{tag:{default:"div"},width:null,cols:null,variant:{default:"primary"},animation:null},setup(e){const t=e,n=(0,o.Fl)((()=>["btn",`btn-${t.variant}`,"disabled"])),r=(0,o.Fl)((()=>({animation:t.animation,width:t.width,cols:t.cols,tag:t.tag})));return(e,t)=>((0,o.wg)(),(0,o.j4)(hp,(0,o.dG)({class:(0,i.SU)(n)},(0,i.SU)(r)),null,16,["class"]))}}),pp=(0,o.aZ)({__name:"BPlaceholderCard",props:{noHeader:{default:!1},headerWidth:{default:100},headerVariant:null,headerAnimation:null,headerSize:null,noFooter:{default:!1},footerWidth:{default:100},footerVariant:null,footerAnimation:null,footerSize:null,animation:null,size:null,variant:null,noButton:{default:!1},imgBottom:{default:!1},imgSrc:null,imgBlankColor:{default:"#868e96"},imgHeight:{default:100},noImg:{default:!1}},setup(e){const t=e,n=tu((0,i.Vh)(t,"noButton")),r=tu((0,i.Vh)(t,"noHeader")),a=tu((0,i.Vh)(t,"noFooter")),l=tu((0,i.Vh)(t,"noImg")),u=(0,o.Fl)((()=>({width:t.headerWidth,variant:t.headerVariant,animation:t.headerAnimation,size:t.headerSize}))),c=(0,o.Fl)((()=>({width:t.footerWidth,animation:t.footerAnimation,size:n.value?t.footerSize:void 0,variant:t.footerVariant}))),d=(0,o.Fl)((()=>({blank:!t.imgSrc,blankColor:t.imgBlankColor,height:t.imgSrc?void 0:t.imgHeight,src:t.imgSrc,top:!t.imgBottom,bottom:t.imgBottom})));return(t,h)=>((0,o.wg)(),(0,o.j4)(Rc,{"img-bottom":e.imgBottom},(0,o.Nv)({default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Wm)(hp,{cols:"7"}),(0,o.Wm)(hp,{cols:"4"}),(0,o.Wm)(hp,{cols:"4"}),(0,o.Wm)(hp,{cols:"6"}),(0,o.Wm)(hp,{cols:"8"})]))])),_:2},[(0,i.SU)(l)?void 0:{name:"img",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"img",{},(()=>[(0,o.Wm)(xc,(0,s.vs)((0,o.F4)((0,i.SU)(d))),null,16)]))])),key:"0"},(0,i.SU)(r)?void 0:{name:"header",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"header",{},(()=>[(0,o.Wm)(hp,(0,s.vs)((0,o.F4)((0,i.SU)(u))),null,16)]))])),key:"1"},(0,i.SU)(a)?void 0:{name:"footer",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"footer",{},(()=>[(0,i.SU)(n)?((0,o.wg)(),(0,o.j4)(hp,(0,s.vs)((0,o.dG)({key:1},(0,i.SU)(c))),null,16)):((0,o.wg)(),(0,o.j4)(fp,(0,s.vs)((0,o.dG)({key:0},(0,i.SU)(c))),null,16))]))])),key:"2"}]),1032,["img-bottom"]))}}),mp=(0,o.aZ)({__name:"BTableSimple",props:{bordered:{default:!1},borderless:{default:!1},borderVariant:null,captionTop:{default:!1},dark:{default:!1},hover:{default:!1},responsive:{type:[Boolean,String],default:!1},stacked:{type:[Boolean,String],default:!1},striped:{default:!1},small:{default:!1},tableClass:null,tableVariant:null,stickyHeader:{default:!1}},setup(e){const t=e,n=tu((0,i.Vh)(t,"captionTop")),r=tu((0,i.Vh)(t,"borderless")),a=tu((0,i.Vh)(t,"bordered")),l=tu((0,i.Vh)(t,"dark")),u=tu((0,i.Vh)(t,"hover")),c=tu((0,i.Vh)(t,"small")),d=tu((0,i.Vh)(t,"striped")),h=tu((0,i.Vh)(t,"stickyHeader")),f=(0,o.Fl)((()=>["table","b-table",{"table-bordered":a.value,"table-borderless":r.value,[`border-${t.borderVariant}`]:void 0!==t.borderVariant,"caption-top":n.value,"table-dark":l.value,"table-hover":u.value,"b-table-stacked":"boolean"==typeof t.stacked&&t.stacked,[`b-table-stacked-${t.stacked}`]:"string"==typeof t.stacked,"table-striped":d.value,"table-sm":c.value,[`table-${t.tableVariant}`]:void 0!==t.tableVariant},t.tableClass])),p=(0,o.Fl)((()=>[{"table-responsive":!0===t.responsive,[`table-responsive-${t.responsive}`]:"string"==typeof t.responsive,"b-table-sticky-header":h.value}]));return(t,n)=>e.responsive?((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,s.C_)((0,i.SU)(p))},[(0,o._)("table",{role:"table",class:(0,s.C_)((0,i.SU)(f))},[(0,o.WI)(t.$slots,"default")],2)],2)):((0,o.wg)(),(0,o.iD)("table",{key:0,role:"table",class:(0,s.C_)((0,i.SU)(f))},[(0,o.WI)(t.$slots,"default")],2))}}),gp=(0,o.aZ)({__name:"BPlaceholderTable",props:{rows:{default:3},columns:{default:5},cellWidth:{default:100},size:null,animation:null,variant:null,headerColumns:null,hideHeader:{default:!1},headerCellWidth:{default:100},headerSize:null,headerAnimation:null,headerVariant:null,footerColumns:null,showFooter:{default:!1},footerCellWidth:{default:100},footerSize:null,footerAnimation:null,footerVariant:null},setup(e){const t=e,n=(0,o.Fl)((()=>"string"==typeof t.columns?Wl(t.columns,5):t.columns)),r=(0,o.Fl)((()=>"string"==typeof t.rows?Wl(t.rows,3):t.rows)),a=(0,o.Fl)((()=>void 0===t.headerColumns?n.value:"string"==typeof t.headerColumns?Wl(t.headerColumns,n.value):t.headerColumns)),l=(0,o.Fl)((()=>void 0===t.footerColumns?n.value:"string"==typeof t.footerColumns?Wl(t.footerColumns,n.value):t.footerColumns)),u=(0,o.Fl)((()=>({size:t.size,variant:t.variant,animation:t.animation,width:t.cellWidth}))),c=(0,o.Fl)((()=>({size:t.headerSize,variant:t.headerVariant,animation:t.headerAnimation,width:t.headerCellWidth}))),d=(0,o.Fl)((()=>({size:t.footerSize,variant:t.footerVariant,animation:t.footerAnimation,width:t.footerCellWidth}))),h=tu((0,i.Vh)(t,"hideHeader")),f=tu((0,i.Vh)(t,"showFooter"));return(e,t)=>((0,o.wg)(),(0,o.j4)(mp,null,{default:(0,o.w5)((()=>[(0,i.SU)(h)?(0,o.kq)("",!0):(0,o.WI)(e.$slots,"thead",{key:0},(()=>[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(a),((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},[(0,o.Wm)(hp,(0,s.vs)((0,o.F4)((0,i.SU)(c))),null,16)])))),128))])])])),(0,o.WI)(e.$slots,"default",{},(()=>[(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(r),((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(n),((e,t)=>((0,o.wg)(),(0,o.iD)("td",{key:t},[(0,o.Wm)(hp,(0,s.vs)((0,o.F4)((0,i.SU)(u))),null,16)])))),128))])))),128))])])),(0,i.SU)(f)?(0,o.WI)(e.$slots,"tfoot",{key:1},(()=>[(0,o._)("tfoot",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(l),((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},[(0,o.Wm)(hp,(0,s.vs)((0,o.F4)((0,i.SU)(d))),null,16)])))),128))])])])):(0,o.kq)("",!0)])),_:3}))}}),vp=(0,o.aZ)({__name:"BPlaceholderWrapper",props:{loading:{default:!1}},setup(e){const t=tu((0,i.Vh)(e,"loading"));return(e,n)=>(0,i.SU)(t)?(0,o.WI)(e.$slots,"loading",{key:0}):(0,o.WI)(e.$slots,"default",{key:1})}}),yp=(0,o.aZ)({props:{container:{type:[String,Object],default:"body"},content:{type:String},id:{type:String},customClass:{type:String,default:""},noninteractive:{type:[Boolean,String],default:!1},placement:{type:String,default:"right"},target:{type:[String,Object],default:void 0},title:{type:String},delay:{type:[Number,Object],default:0},triggers:{type:String,default:"click"},show:{type:[Boolean,String],default:!1},variant:{type:String,default:void 0},html:{type:[Boolean,String],default:!0},sanitize:{type:[Boolean,String],default:!1},offset:{type:String,default:"0"}},emits:["show","shown","hide","hidden","inserted"],setup(e,{emit:t,slots:n}){tu((0,i.Vh)(e,"noninteractive"));const r=tu((0,i.Vh)(e,"show")),s=tu((0,i.Vh)(e,"html")),a=tu((0,i.Vh)(e,"sanitize")),l=(0,i.iH)(),u=(0,i.iH)(),c=(0,i.iH)(),d=(0,i.iH)(),h=(0,i.iH)(),f=(0,o.Fl)((()=>({[`b-popover-${e.variant}`]:void 0!==e.variant}))),p=e=>"string"==typeof e||e instanceof HTMLElement?e:typeof e<"u"?e.$el:void 0,m=e=>{if(e){if("string"==typeof e){const t=document.getElementById(e);return t||void 0}return e}},g=[{event:"show.bs.popover",handler:()=>t("show")},{event:"shown.bs.popover",handler:()=>t("shown")},{event:"hide.bs.popover",handler:()=>t("hide")},{event:"hidden.bs.popover",handler:()=>t("hidden")},{event:"inserted.bs.popover",handler:()=>t("inserted")}],v=e=>{for(const t of g)e.addEventListener(t.event,t.handler)},y=e=>{for(const t of g)e.removeEventListener(t.event,t.handler)},b=t=>{u.value=m(p(t)),u.value&&(v(u.value),c.value=new Ki(u.value,{customClass:e.customClass,container:p(e.container),trigger:e.triggers,placement:e.placement,title:e.title||n.title?d.value:"",content:h.value,html:s.value,delay:e.delay,sanitize:a.value,offset:e.offset}))};return(0,o.YP)((()=>e.target),(e=>{var t;null==(t=c.value)||t.dispose(),u.value instanceof HTMLElement&&y(u.value),b(e)})),(0,o.YP)((()=>r.value),((e,t)=>{var n,r;e!==t&&(e?null==(n=c.value)||n.show():null==(r=c.value)||r.hide())})),(0,o.bv)((()=>{var t,n,i;(0,o.Y3)((()=>{b(e.target)})),null==(n=null==(t=l.value)?void 0:t.parentNode)||n.removeChild(l.value),r.value&&(null==(i=c.value)||i.show())})),(0,o.Jd)((()=>{var e;null==(e=c.value)||e.dispose(),u.value instanceof HTMLElement&&y(u.value)})),{element:l,titleRef:d,contentRef:h,computedClasses:f}}}),bp=["id"],wp={ref:"titleRef"},_p={ref:"contentRef"};function Sp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("div",{id:e.id,ref:"element",class:(0,s.C_)(["popover b-popover",e.computedClasses]),role:"tooltip",tabindex:"-1"},[(0,o._)("div",wp,[(0,o.WI)(e.$slots,"title",{},(()=>[(0,o.Uk)((0,s.zw)(e.title),1)]))],512),(0,o._)("div",_p,[(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)(e.content),1)]))],512)],10,bp)}const Ip=ec(yp,[["render",Sp]]),kp=["aria-valuenow","aria-valuemax"],Tp=(0,o.aZ)({__name:"BProgressBar",props:{animated:{default:!1},label:null,labelHtml:null,max:null,precision:{default:0},showProgress:{default:!1},showValue:{default:!1},striped:{default:!1},value:{default:0},variant:null},setup(e){const t=e,n=(0,o.f3)(Ep),r=tu((0,i.Vh)(t,"animated")),a=tu((0,i.Vh)(t,"showProgress")),l=tu((0,i.Vh)(t,"showValue")),u=tu((0,i.Vh)(t,"striped")),c=(0,o.Fl)((()=>({"progress-bar-animated":r.value||(null==n?void 0:n.animated),"progress-bar-striped":u.value||(null==n?void 0:n.striped)||r.value||(null==n?void 0:n.animated),[`bg-${t.variant}`]:void 0!==t.variant}))),d=(0,o.Fl)((()=>"number"==typeof t.precision?t.precision:Number.parseFloat(t.precision))),h=(0,o.Fl)((()=>"number"==typeof t.value?t.value:Number.parseFloat(t.value))),f=(0,o.Fl)((()=>"number"==typeof t.max?t.max:void 0===t.max?void 0:Number.parseFloat(t.max))),p=(0,o.Fl)((()=>void 0!==t.labelHtml?t.labelHtml:l.value||(null==n?void 0:n.showValue)?h.value.toFixed(d.value):a.value||(null==n?void 0:n.showProgress)?(100*h.value/(f.value||100)).toFixed(d.value):void 0!==t.label?t.label:"")),m=(0,o.Fl)((()=>null!=n&&n.max?100*h.value/("number"==typeof n.max?n.max:Number.parseInt(n.max))+"%":t.max?100*h.value/("number"==typeof t.max?t.max:Number.parseInt(t.max))+"%":"string"==typeof t.value?t.value:`${t.value}%`));return(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(["progress-bar",(0,i.SU)(c)]),role:"progressbar","aria-valuenow":e.value,"aria-valuemin":"0","aria-valuemax":e.max,style:(0,s.j5)({width:(0,i.SU)(m)})},[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,s.zw)((0,i.SU)(p)),1)]))],14,kp))}}),Ep=Symbol(),Cp=(0,o.aZ)({__name:"BProgress",props:{variant:null,max:null,height:null,animated:{default:!1},precision:{default:0},showProgress:{default:!1},showValue:{default:!1},striped:{default:!1},value:{default:0}},setup(e){const t=e,n=tu((0,i.Vh)(t,"animated")),r=tu((0,i.Vh)(t,"showProgress")),a=tu((0,i.Vh)(t,"showValue")),l=tu((0,i.Vh)(t,"striped")),u=(0,o.Fl)((()=>({animated:t.animated,max:t.max,precision:t.precision,showProgress:t.showProgress,showValue:t.showValue,striped:t.striped,value:t.value,variant:t.variant})));return(0,o.JJ)(Ep,{animated:n.value,max:t.max,showProgress:r.value,showValue:a.value,striped:l.value}),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"progress",style:(0,s.j5)({height:e.height})},[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Wm)(Tp,(0,s.vs)((0,o.F4)((0,i.SU)(u))),null,16)]))],4))}}),Dp=Rl("cols",[""],{type:[String,Number],default:null}),Ap=(0,o.aZ)({name:"BRow",props:{tag:{type:String,default:"div"},gutterX:{type:String,default:null},gutterY:{type:String,default:null},noGutters:{type:[Boolean,String],default:!1},alignV:{type:String,default:null},alignH:{type:String,default:null},alignContent:{type:String,default:null},...Dp},setup(e){const t=tu((0,i.Vh)(e,"noGutters")),n=Va((0,i.Vh)(e,"alignH")),r=(0,o.Fl)((()=>Ul(e,Dp,"cols","row-cols")));return{computedClasses:(0,o.Fl)((()=>[r.value,{[`gx-${e.gutterX}`]:null!==e.gutterX,[`gy-${e.gutterY}`]:null!==e.gutterY,"g-0":t.value,[`align-items-${e.alignV}`]:null!==e.alignV,[n.value]:null!==e.alignH,[`align-content-${e.alignContent}`]:null!==e.alignContent}]))}}});function xp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,s.C_)(["row",e.computedClasses])},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},8,["class"])}const Op=ec(Ap,[["render",xp]]),Np=(0,o.aZ)({__name:"BSkeleton",props:{height:null,width:null,size:null,animation:{default:"wave"},type:{default:"text"},variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>[`b-skeleton-${t.type}`,{[`b-skeleton-animate-${t.animation}`]:"boolean"!=typeof t.animation&&t.animation,[`bg-${t.variant}`]:void 0!==t.variant}])),r=(0,o.Fl)((()=>({width:t.size||t.width,height:t.size||t.height})));return(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(["b-skeleton",(0,i.SU)(n)]),style:(0,s.j5)((0,i.SU)(r))},null,6))}}),Pp=(0,o.aZ)({__name:"BSkeletonIcon",props:{animation:{default:"wave"}},setup(e){const t=e,n=(0,o.Fl)((()=>[`b-skeleton-animate-${t.animation}`]));return(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(["b-skeleton-icon-wrapper position-relative d-inline-block overflow-hidden",(0,i.SU)(n)])},[(0,o.WI)(e.$slots,"default")],2))}}),Fp={key:0},Vp={key:1},Mp=(0,o.aZ)({__name:"BSkeletonTable",props:{animation:{default:"wave"},columns:{default:5},hideHeader:{default:!1},rows:{default:3},showFooter:{default:!1},tableProps:null},setup(e){const t=e,n=tu((0,i.Vh)(t,"hideHeader")),r=tu((0,i.Vh)(t,"showFooter"));return(t,a)=>((0,o.wg)(),(0,o.j4)(mp,(0,s.vs)((0,o.F4)(e.tableProps)),{default:(0,o.w5)((()=>[(0,i.SU)(n)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("thead",Fp,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},[(0,o.Wm)(Np)])))),128))])])),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.rows,((t,n)=>((0,o.wg)(),(0,o.iD)("tr",{key:n},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,((e,t)=>((0,o.wg)(),(0,o.iD)("td",{key:t},[(0,o.Wm)(Np,{width:"75%"})])))),128))])))),128))]),(0,i.SU)(r)?((0,o.wg)(),(0,o.iD)("tfoot",Vp,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},[(0,o.Wm)(Np)])))),128))])])):(0,o.kq)("",!0)])),_:1},16))}}),Lp=(0,o.aZ)({__name:"BSkeletonWrapper",props:{loading:{default:!1}},setup(e){const t=tu((0,i.Vh)(e,"loading"));return(e,n)=>(0,i.SU)(t)?(0,o.WI)(e.$slots,"loading",{key:0}):(0,o.WI)(e.$slots,"default",{key:1})}}),Rp=["ar","az","ckb","fa","he","ks","lrc","mzn","ps","sd","te","ug","ur","yi"].map((e=>e.toLowerCase())),Up=e=>{const t=Za(e).toLowerCase().replace(Ka,"").split("-"),n=t.slice(0,2).join("-"),r=t[0];return Rp.includes(n)||Rp.includes(r)},jp=e=>al?Ra(e)?e:{capture:!!e||!1}:!!(Ra(e)?e.capture:e),Bp=(e,t,n,r)=>{e&&e.addEventListener&&e.addEventListener(t,n,jp(r))},$p=(e,t,n,r)=>{e&&e.removeEventListener&&e.removeEventListener(t,n,r)},zp=(e,t)=>{(e?Bp:$p)(...t)},qp=(e,{preventDefault:t=!0,propagation:n=!0,immediatePropagation:r=!1}={})=>{t&&e.preventDefault(),n&&e.stopPropagation(),r&&e.stopImmediatePropagation()},Hp="ArrowDown",Wp="End",Yp="Home",Gp="PageDown",Kp="PageUp",Zp="ArrowUp",Qp=1,Jp=100,Xp=1,em=500,tm=100,nm=10,rm=4,im=[Zp,Hp,Yp,Wp,Kp,Gp],om=(0,o.aZ)({props:{ariaControls:{type:String,required:!1},ariaLabel:{type:String,required:!1},labelIncrement:{type:String,default:"Increment"},labelDecrement:{type:String,default:"Decrement"},modelValue:{type:Number,default:null},name:{type:String,default:"BFormSpinbutton"},disabled:{type:[Boolean,String],default:!1},placeholder:{type:String,required:!1},locale:{type:String,default:"locale"},form:{type:String,required:!1},inline:{type:Boolean,default:!1},size:{type:String,required:!1},formatterFn:{type:Function},readonly:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},repeatDelay:{type:[String,Number],default:em},repeatInterval:{type:[String,Number],default:tm},repeatStepMultiplier:{type:[String,Number],default:rm},repeatThreshold:{type:[String,Number],default:nm},required:{type:[Boolean,String],default:!1},step:{type:[String,Number],default:Xp},min:{type:[String,Number],default:Qp},max:{type:[String,Number],default:Jp},wrap:{type:Boolean,default:!1},state:{type:[Boolean,String],default:null}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=(0,i.iH)(!1),r=(0,o.Fl)((()=>1)),s=()=>{t("change",l.value)},a=(0,i.iH)(null),l=(0,o.Fl)({get(){return Ba(e.modelValue)?a.value:e.modelValue},set(n){Ba(e.modelValue)?a.value=n:t("update:modelValue",n)}});let u,c,d=!1;const h=(0,o.Fl)((()=>Yl(e.step,Xp))),f=(0,o.Fl)((()=>Yl(e.min,Qp))),p=(0,o.Fl)((()=>{const t=Yl(e.max,Jp),n=h.value,r=f.value;return Math.floor((t-r)/n)*n+r})),m=(0,o.Fl)((()=>{const t=Hl(e.repeatDelay,0);return t>0?t:em})),g=(0,o.Fl)((()=>{const t=Hl(e.repeatInterval,0);return t>0?t:tm})),v=(0,o.Fl)((()=>Math.max(Hl(e.repeatThreshold,nm),1))),y=(0,o.Fl)((()=>Math.max(Hl(e.repeatStepMultiplier,rm),1))),b=(0,o.Fl)((()=>{const e=h.value;return Math.floor(e)===e?0:(e.toString().split(".")[1]||"").length})),w=(0,o.Fl)((()=>Math.pow(10,b.value||0))),_=(0,o.Fl)((()=>{const{value:e}=l;return null===e?"":e.toFixed(b.value)})),S=(0,o.Fl)((()=>{const t=[e.locale];return new Intl.NumberFormat(t).resolvedOptions().locale})),I=(0,o.Fl)((()=>Up(S.value))),k=()=>{const e=b.value;return new Intl.NumberFormat(S.value,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:e,maximumFractionDigits:e,notation:"standard"}).format},T=(0,o.Fl)((()=>e.formatterFn?e.formatterFn:k())),E=(0,o.Fl)((()=>({role:"group",lang:S.value,tabindex:e.disabled?null:"-1",title:e.ariaLabel}))),C=(0,o.Fl)((()=>!Ba(e.modelValue)||!Ba(a.value))),D=(0,o.Fl)((()=>({dir:I.value,spinId:r.value,tabindex:e.disabled?null:"0",role:"spinbutton","aria-live":"off","aria-label":e.ariaLabel||null,"aria-controls":e.ariaControls||null,"aria-invalid":!1===e.state||!C.value&&e.required?"true":null,"aria-required":e.required?"true":null,"aria-valuemin":f.value,"aria-valuemax":p.value,"aria-valuenow":Ba(l.value)?null:l.value,"aria-valuetext":Ba(l.value)?null:T.value(l.value)}))),A=t=>{let{value:n}=l;if(!e.disabled&&!Ba(n)){const r=h.value*t,i=f.value,o=p.value,s=w.value,{wrap:a}=e;n=Math.round((n-i)/r)*r+i+r,n=Math.round(n*s)/s,l.value=n>o?a?i:o:n<i?a?o:i:n}},x=(e=1)=>{Ba(l.value)?l.value=f.value:A(1*e)},O=(t=1)=>{Ba(l.value)?l.value=e.wrap?p.value:f.value:A(-1*t)},N=t=>{const{code:n,altKey:r,ctrlKey:i,metaKey:o}=t;if(!(e.disabled||e.readonly||r||i||o)&&im.includes(n)){if(qp(t,{propagation:!1}),d)return;R(),[Zp,Hp].includes(n)?(d=!0,n===Zp?F(t,x):n===Hp&&F(t,O)):n===Kp?x(y.value):n===Gp?O(y.value):n===Yp?l.value=f.value:n===Wp&&(l.value=p.value)}},P=t=>{const{code:n,altKey:r,ctrlKey:i,metaKey:o}=t;e.disabled||e.readonly||r||i||o||im.includes(n)&&(qp(t,{propagation:!1}),R(),d=!1,s())},F=(t,n)=>{const{type:r}=t||{};if(!e.disabled&&!e.readonly){if(V(t)&&"mousedown"===r&&t.button)return;R(),n(1);const e=v.value,i=y.value,o=m.value,s=g.value;u=setTimeout((()=>{let t=0;c=setInterval((()=>{n(t<e?1:i),t++}),s)}),o)}};function V(e){return"mouseup"===e.type||"mousedown"===e.type}const M=e=>{V(e)&&"mouseup"===e.type&&e.button||(qp(e,{propagation:!1}),R(),L(!1),s())},L=e=>{try{zp(e,[document.body,"mouseup",M,!1]),zp(e,[document.body,"touchend",M,!1])}catch{return 0}},R=()=>{clearTimeout(u),clearInterval(c),u=void 0,c=void 0},U=(t,i,s,a,l,u,c)=>{const d=(0,o.h)(s,{props:{scale:n.value?1.5:1.25},attrs:{"aria-hidden":"true"}}),h={hasFocus:n.value},f=n=>{!e.disabled&&!e.readonly&&(qp(n,{propagation:!1}),L(!0),F(n,t))};return(0,o.h)("button",{class:[{"py-0":!e.vertical},"btn","btn-sm","border-0","rounded-0"],tabindex:"-1",type:"button",disabled:e.disabled||e.readonly||u,"aria-disabled":e.disabled||e.readonly||u?"true":null,"aria-controls":r.value,"aria-label":i||null,"aria-keyshortcuts":l||null,onmousedown:f,ontouchstart:f},[ql(c,h)||d])};return()=>{const t=U(x,e.labelIncrement,(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus",viewBox:"0 0 16 16"},(0,o.h)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})),"inc","ArrowUp",!1,"increment"),r=U(O,e.labelDecrement,(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},(0,o.h)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})),"dec","ArrowDown",!1,"decrement"),i=[];e.name&&!e.disabled&&i.push((0,o.h)("input",{type:"hidden",name:e.name,form:e.form||null,value:_.value,key:"hidden"}));const s=(0,o.h)("output",{class:[{"d-flex":e.vertical},{"align-self-center":!e.vertical},{"align-items-center":e.vertical},{"border-top":e.vertical},{"border-bottom":e.vertical},{"border-start":!e.vertical},{"border-end":!e.vertical},"flex-grow-1"],...D.value,key:"output"},[(0,o.h)("bdi",C.value?T.value(l.value):e.placeholder||"")]);return(0,o.h)("div",{class:["b-form-spinbutton form-control",{disabled:e.disabled},{readonly:e.readonly},{focus:n},{"d-inline-flex":e.inline||e.vertical},{"d-flex":!e.inline&&!e.vertical},{"align-items-stretch":!e.vertical},{"flex-column":e.vertical},e.size?`form-control-${e.size}`:null],...E.value,onkeydown:N,onkeyup:P},e.vertical?[t,i,s,r]:[r,i,s,t])}}}),sm=["TD","TH","TR"],am=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(","),lm=e=>{if(!e||!e.target)return!1;const t=e.target;if("disabled"in t&&t.disabled||-1!==sm.indexOf(t.tagName))return!1;if(Ll(".dropdown-menu",t))return!0;const n="LABEL"===t.tagName?t:Ll("label",t);if(n){const e=Al(n,"for"),t=e?xl(e):Cl("input, select, textarea",n);if(t&&!t.disabled)return!0}return Vl(t,am)},um=()=>{const e=(e,t)=>{const n=[];return null!=e&&e.length||!(null==t?void 0:t.length)?(Array.isArray(e)&&e.forEach((e=>{"string"==typeof e?n.push({key:e,label:Qa(e)}):Ra(e)&&e.key&&"string"==typeof e.key&&n.push({...e})})),n):(Object.keys(t[0]).forEach((e=>n.push({key:e,label:Qa(e)}))),n)},t=(0,i.iH)([]),n=(e,n,r,i)=>(t.value=Kl(n),"isFilterableTable"in i&&!0===i.isFilterableTable.value&&r.filter&&(t.value=s(t.value,r.filter,r.filterable)),"isSortable"in i&&!0===i.isSortable.value&&(t.value=o(e,t.value,{key:r.sortBy,desc:i.sortDescBoolean.value},r.sortCompare)),t.value),r=(0,i.iH)(void 0),o=(e,t,n,r)=>{if(!n||!n.key)return t;const i=n.key;return t.sort(((e,t)=>{if(void 0!==r)return r(e,t,n.key,n.desc);const o=e=>"object"==typeof e?JSON.stringify(e):e;return o(e[i])>o(t[i])?n.desc?-1:1:o(t[i])>o(e[i])?n.desc?1:-1:0}))},s=(e,t,n)=>e.filter((e=>Object.entries(e).filter((e=>{const[r,i]=e;return!(!i||"_"===r[0]||n.length>0&&!n.includes(r))&&("object"==typeof i?JSON.stringify(Object.values(i)):"string"==typeof i?i:i.toString()).toLowerCase().includes(t.toLowerCase())})).length>0));return{normaliseFields:e,mapItems:n,internalItems:t,updateInternalItems:async e=>{try{return t.value=await Zl(e),t.value}catch{return}},filterEvent:r,notifyFilteredItems:()=>{r.value&&r.value(t.value)},formatItem:(e,t)=>{const n=e[t.key];return t.formatter&&"function"==typeof t.formatter?t.formatter(n,t.key,e):e[t.key]}}},cm=["title","abbr","onClick"],dm={class:"d-inline-flex flex-nowrap align-items-center gap-1"},hm={key:1},fm=["onClick","onDblclick","onMouseenter","onMouseleave"],pm={key:0,class:"b-table-stacked-label"},mm=["colspan"],gm=["colspan"],vm={class:"d-flex align-items-center justify-content-center gap-2"},ym=(0,o._)("strong",null,"Loading...",-1),bm={key:1,class:"b-table-empty-slot"},wm=["colspan"],_m={key:0},Sm=["title","abbr","onClick"],Im={key:1},km={key:2},Tm={key:3},Em=(0,o.aZ)({__name:"BTable",props:{align:null,caption:null,captionTop:{default:!1},borderless:{default:!1},bordered:{default:!1},borderVariant:null,dark:{default:!1},fields:{default:()=>[]},footClone:{default:!1},hover:{default:!1},items:{default:()=>[]},provider:null,sortCompare:null,noProvider:null,noProviderPaging:null,noProviderSorting:null,noProviderFiltering:null,responsive:{type:[Boolean,String],default:!1},small:{default:!1},striped:{default:!1},stacked:{type:[Boolean,String],default:!1},labelStacked:{type:Boolean,default:!1},variant:null,sortBy:null,sortDesc:{default:!1},sortInternal:{default:!0},selectable:{default:!1},stickySelect:{default:!1},selectHead:{type:[Boolean,String],default:!0},selectMode:{default:"single"},selectionVariant:{default:"primary"},stickyHeader:{default:!1},busy:{default:!1},showEmpty:{default:!1},perPage:null,currentPage:{default:1},filter:null,filterable:null,emptyText:{default:"There are no records to show"},emptyFilteredText:{default:"There are no records matching your request"}},emits:["headClicked","rowClicked","rowDblClicked","rowHovered","rowUnhovered","rowSelected","rowUnselected","selection","update:busy","update:sortBy","update:sortDesc","sorted","filtered"],setup(e,{expose:t,emit:n}){const r=e,a=(0,o.Rr)(),l=um(),u=tu((0,i.Vh)(r,"footClone")),c=tu((0,i.Vh)(r,"sortDesc")),d=tu((0,i.Vh)(r,"sortInternal")),h=tu((0,i.Vh)(r,"selectable")),f=tu((0,i.Vh)(r,"stickySelect")),p=tu((0,i.Vh)(r,"labelStacked")),m=tu((0,i.Vh)(r,"busy")),g=tu((0,i.Vh)(r,"showEmpty")),v=tu((0,i.Vh)(r,"noProviderPaging")),y=tu((0,i.Vh)(r,"noProviderSorting")),b=tu((0,i.Vh)(r,"noProviderFiltering")),w=(0,i.iH)(m.value);l.filterEvent.value=async e=>{if(D.value)return void await $();const t=await Zl(e);n("filtered",t)};const _=(0,i.iH)(new Set([])),S=(0,o.Fl)((()=>_.value.size>0)),I=(0,o.Fl)((()=>({[`align-${r.align}`]:void 0!==r.align,"b-table-selectable":h.value,[`b-table-select-${r.selectMode}`]:h.value,"b-table-selecting user-select-none":h.value&&S.value,"b-table-busy":w.value,"b-table-sortable":x.value,"b-table-sort-desc":x.value&&!0===c.value,"b-table-sort-asc":x.value&&!1===c.value}))),k=(0,o.Fl)((()=>({bordered:r.bordered,borderless:r.borderless,borderVariant:r.borderVariant,captionTop:r.captionTop,dark:r.dark,hover:r.hover,responsive:r.responsive,striped:r.striped,stacked:r.stacked,small:r.small,tableClass:I.value,tableVariant:r.variant,stickyHeader:r.stickyHeader}))),T=(0,o.Fl)((()=>l.normaliseFields(r.fields,r.items))),E=(0,o.Fl)((()=>T.value.length+(h.value?1:0))),C=(0,o.Fl)((()=>void 0!==r.filter&&""!==r.filter)),D=(0,o.Fl)((()=>void 0!==r.provider)),A=(0,o.Fl)((()=>h.value&&(!!r.selectHead||void 0!==a.selectHead))),x=(0,o.Fl)((()=>r.fields.filter((e=>"string"!=typeof e&&e.sortable)).length>0)),O=(0,o.Fl)((()=>x.value&&!0===d.value)),N=(0,o.Fl)((()=>{const e=D.value?l.internalItems.value:O.value?l.mapItems(r.fields,r.items,r,{isSortable:x,isFilterableTable:C,sortDescBoolean:c}):r.items;if(void 0!==r.perPage){const t=(r.currentPage-1)*r.perPage;return e.splice(t,r.perPage)}return e})),P=e=>"string"==typeof e?Ja(e):void 0!==e.label?e.label:"string"==typeof e.key?Ja(e.key):e.key,F=(e,t,r=!1)=>{const i="string"==typeof e?e:e.key;n("headClicked",i,e,t,r),U(e)},V=(e,t,r)=>{n("rowClicked",e,t,r),B(e,t,r.shiftKey)},M=(e,t,r)=>n("rowDblClicked",e,t,r),L=(e,t,r)=>n("rowHovered",e,t,r),R=(e,t,r)=>n("rowUnhovered",e,t,r),U=e=>{if(!x.value)return;const t="string"==typeof e?e:e.key,i="string"!=typeof e&&e.sortable;if(!0===x.value&&!0===i){const e=!c.value;t!==r.sortBy&&n("update:sortBy",t),n("update:sortDesc",e),n("sorted",t,e)}},j=()=>{!h.value||n("selection",Array.from(_.value))},B=(e,t,i=!1)=>{if(h.value){if(_.value.has(e))_.value.delete(e),n("rowUnselected",e);else if("single"===r.selectMode&&_.value.size>0&&(_.value.forEach((e=>n("rowUnselected",e))),_.value.clear()),"range"===r.selectMode&&_.value.size>0&&i){const e=Array.from(_.value).pop(),r=N.value.findIndex((t=>t===e)),i=Math.min(r,t),o=Math.max(r,t);N.value.slice(i,o+1).forEach((e=>{_.value.has(e)||(_.value.add(e),n("rowSelected",e))}))}else _.value.add(e),n("rowSelected",e);j()}},$=async()=>{if(!D.value||!r.provider||w.value)return;w.value=!0;const e=new Proxy({currentPage:r.currentPage,filter:r.filter,sortBy:r.sortBy,sortDesc:r.sortDesc,perPage:r.perPage},{get(e,t){return t in e?e[t]:void 0},set(){return console.error("BTable provider context is a read-only object."),!0}}),t=r.provider(e,l.updateInternalItems);if(void 0!==t){if(t instanceof Promise)try{const e=await t;return Array.isArray(e)?await l.updateInternalItems(e):void 0}finally{w.value&&(w.value=!1)}try{return await l.updateInternalItems(t)}finally{w.value&&(w.value=!1)}}},z=e=>{e._showDetails=!e._showDetails},q=e=>[e.class,e.thClass,e.variant?`table-${e.variant}`:void 0,{"b-table-sortable-column":x.value&&e.sortable,"b-table-sticky-column":e.stickyColumn}],H=(e,t)=>[e.class,e.tdClass,e.variant?`table-${e.variant}`:void 0,(null==t?void 0:t._cellVariants)&&(null==t?void 0:t._cellVariants[e.key])?`table-${null==t?void 0:t._cellVariants[e.key]}`:void 0,{"b-table-sticky-column":e.stickyColumn}],W=e=>[e._rowVariant?`table-${e._rowVariant}`:null,e._rowVariant?`table-${e._rowVariant}`:null,h.value&&_.value.has(e)?`selected table-${r.selectionVariant}`:null],Y=()=>{if(!h.value)return;const e=_.value.size>0?Array.from(_.value):[];_.value=new Set([...N.value]),_.value.forEach((t=>{e.includes(t)||n("rowSelected",t)})),j()},G=()=>{!h.value||(_.value.forEach((e=>{n("rowUnselected",e)})),_.value=new Set([]),j())},K=e=>{if(!h.value)return;const t=N.value[e];!t||_.value.has(t)||(_.value.add(t),n("rowSelected",t),j())},Z=e=>{if(!h.value)return;const t=N.value[e];!t||!_.value.has(t)||(_.value.delete(t),n("rowUnselected",t),j())},Q=async(e,t,n)=>{if(t===n)return;const i=e=>r.noProvider&&r.noProvider.includes(e),o=!["currentPage","perPage"].includes(e),s=["currentPage","perPage"].includes(e)&&(i("paging")||!0===v.value),a=["filter"].includes(e)&&(i("filtering")||!0===b.value),u=["sortBy","sortDesc"].includes(e)&&(i("sorting")||!0===y.value);s||a||u||(await $(),o&&l.notifyFilteredItems())};return(0,o.YP)((()=>r.filter),((e,t)=>{e===t||D.value||e||Zl(r.items).then((e=>n("filtered",e)))})),(0,o.YP)((()=>w.value),(()=>w.value!==m.value&&n("update:busy",w.value))),(0,o.YP)((()=>m.value),(()=>w.value!==m.value&&(w.value=m.value))),(0,o.YP)((()=>r.filter),((e,t)=>Q("filter",e,t))),(0,o.YP)((()=>r.currentPage),((e,t)=>Q("currentPage",e,t))),(0,o.YP)((()=>r.perPage),((e,t)=>Q("perPage",e,t))),(0,o.YP)((()=>r.sortBy),((e,t)=>Q("sortBy",e,t))),(0,o.YP)((()=>r.sortDesc),((e,t)=>Q("sortDesc",e,t))),(0,o.bv)((()=>{D.value&&$()})),t({selectAllRows:Y,clearSelected:G,selectRow:K,unselectRow:Z}),(t,n)=>((0,o.wg)(),(0,o.j4)(mp,(0,s.vs)((0,o.F4)((0,i.SU)(k))),{default:(0,o.w5)((()=>{var n;return[(0,o._)("thead",null,[t.$slots["thead-top"]?(0,o.WI)(t.$slots,"thead-top",{key:0}):(0,o.kq)("",!0),(0,o._)("tr",null,[(0,i.SU)(A)?((0,o.wg)(),(0,o.iD)("th",{key:0,class:(0,s.C_)(["b-table-selection-column",{"b-table-sticky-column":(0,i.SU)(f)}])},[(0,o.WI)(t.$slots,"select-head",{},(()=>[(0,o.Uk)((0,s.zw)("boolean"==typeof e.selectHead?"Selected":e.selectHead),1)]))],2)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(T),(n=>((0,o.wg)(),(0,o.iD)("th",(0,o.dG)({key:n.key,scope:"col",class:q(n),title:n.headerTitle,abbr:n.headerAbbr,style:n.thStyle},n.thAttr,{onClick:e=>F(n,e)}),[(0,o._)("div",dm,[(0,o.WI)(t.$slots,"sort-icon",{field:n,sortBy:e.sortBy,selected:n.key===e.sortBy,isDesc:(0,i.SU)(c),direction:(0,i.SU)(c)?"desc":"asc"},(()=>[(0,i.SU)(x)&&n.sortable?((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,s.C_)(["b-table-sort-icon",{sorted:n.key===e.sortBy,["sorted-"+((0,i.SU)(c)?"desc":"asc")]:n.key===e.sortBy}])},null,2)):(0,o.kq)("",!0)])),(0,o._)("div",null,[t.$slots["head("+n.key+")"]||t.$slots["head()"]?(0,o.WI)(t.$slots,t.$slots["head("+n.key+")"]?"head("+n.key+")":"head()",{key:0,label:n.label}):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,s.zw)(P(n)),1)],64))])])],16,cm)))),128))]),t.$slots["thead-sub"]?((0,o.wg)(),(0,o.iD)("tr",hm,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(T),(e=>((0,o.wg)(),(0,o.iD)("td",{key:e.key,scope:"col",class:(0,s.C_)([e.class,e.thClass,e.variant?`table-${e.variant}`:""])},[t.$slots["thead-sub"]?(0,o.WI)(t.$slots,"thead-sub",(0,o.dG)({key:0,items:(0,i.SU)(T)},e)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,s.zw)(e.label),1)],64))],2)))),128))])):(0,o.kq)("",!0)]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(N),((n,r)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:r},[(0,o._)("tr",{class:(0,s.C_)(W(n)),onClick:e=>!(0,i.SU)(lm)(e)&&V(n,r,e),onDblclick:e=>!(0,i.SU)(lm)(e)&&M(n,r,e),onMouseenter:e=>!(0,i.SU)(lm)(e)&&L(n,r,e),onMouseleave:e=>!(0,i.SU)(lm)(e)&&R(n,r,e)},[(0,i.SU)(A)?((0,o.wg)(),(0,o.iD)("td",{key:0,class:(0,s.C_)(["b-table-selection-column",{"b-table-sticky-column":(0,i.SU)(f)}])},[(0,o.WI)(t.$slots,"select-cell",{},(()=>[(0,o._)("span",{class:(0,s.C_)(_.value.has(n)?"text-primary":"")},"🗹",2)]))],2)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(T),(a=>((0,o.wg)(),(0,o.iD)("td",(0,o.dG)({key:a.key},a.tdAttr,{class:H(a,n)}),[e.stacked&&(0,i.SU)(p)?((0,o.wg)(),(0,o.iD)("label",pm,(0,s.zw)(P(a)),1)):(0,o.kq)("",!0),t.$slots["cell("+a.key+")"]||t.$slots["cell()"]?(0,o.WI)(t.$slots,t.$slots["cell("+a.key+")"]?"cell("+a.key+")":"cell()",{key:1,value:n[a.key],index:r,item:n,field:a,items:e.items,toggleDetails:()=>z(n),detailsShowing:n._showDetails}):((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Uk)((0,s.zw)((0,i.SU)(l).formatItem(n,a)),1)],64))],16)))),128))],42,fm),!0===n._showDetails&&t.$slots["row-details"]?((0,o.wg)(),(0,o.iD)("tr",{key:0,class:(0,s.C_)(W(n))},[(0,o._)("td",{colspan:(0,i.SU)(E)},[(0,o.WI)(t.$slots,"row-details",{item:n,toggleDetails:()=>z(n)})],8,mm)],2)):(0,o.kq)("",!0)],64)))),128)),w.value?((0,o.wg)(),(0,o.iD)("tr",{key:0,class:(0,s.C_)(["b-table-busy-slot",{"b-table-static-busy":0==(0,i.SU)(N).length}])},[(0,o._)("td",{colspan:(0,i.SU)(E)},[(0,o.WI)(t.$slots,"table-busy",{},(()=>[(0,o._)("div",vm,[(0,o.Wm)(Qu,{class:"align-middle"}),ym])]))],8,gm)],2)):(0,o.kq)("",!0),(0,i.SU)(g)&&0===(0,i.SU)(N).length?((0,o.wg)(),(0,o.iD)("tr",bm,[(0,o._)("td",{colspan:(0,i.SU)(E)},[(0,o.WI)(t.$slots,"empty",{items:(0,i.SU)(N),filtered:(0,i.SU)(C)},(()=>[(0,o.Uk)((0,s.zw)((0,i.SU)(C)?e.emptyFilteredText:e.emptyText),1)]))],8,wm)])):(0,o.kq)("",!0)]),(0,i.SU)(u)?((0,o.wg)(),(0,o.iD)("tfoot",_m,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(T),(e=>((0,o.wg)(),(0,o.iD)("th",(0,o.dG)({key:e.key},e.thAttr,{scope:"col",class:[e.class,e.thClass,e.variant?`table-${e.variant}`:""],title:e.headerTitle,abbr:e.headerAbbr,style:e.thStyle,onClick:t=>F(e,t,!0)}),(0,s.zw)(e.label),17,Sm)))),128))])])):t.$slots["custom-foot"]?((0,o.wg)(),(0,o.iD)("tfoot",Im,[(0,o.WI)(t.$slots,"custom-foot",{fields:(0,i.SU)(T),items:e.items,columns:null==(n=(0,i.SU)(T))?void 0:n.length})])):(0,o.kq)("",!0),t.$slots["table-caption"]?((0,o.wg)(),(0,o.iD)("caption",km,[(0,o.WI)(t.$slots,"table-caption")])):e.caption?((0,o.wg)(),(0,o.iD)("caption",Tm,(0,s.zw)(e.caption),1)):(0,o.kq)("",!0)]})),_:3},16))}}),Cm=(0,o.aZ)({__name:"BTbody",props:{variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`thead-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,o.wg)(),(0,o.iD)("tbody",{role:"rowgroup",class:(0,s.C_)((0,i.SU)(n))},[(0,o.WI)(e.$slots,"default")],2))}}),Dm=["scope","colspan","rowspan","data-label"],Am={key:0},xm=(0,o.aZ)({__name:"BTd",props:{colspan:null,rowspan:null,stackedHeading:null,stickyColumn:{default:!1},variant:null},setup(e){const t=e,n=tu((0,i.Vh)(t,"stickyColumn")),r=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant,"b-table-sticky-column":n.value,"table-b-table-default":n.value&&void 0===t.variant}))),a=(0,o.Fl)((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col"));return(t,n)=>((0,o.wg)(),(0,o.iD)("td",{role:"cell",scope:(0,i.SU)(a),class:(0,s.C_)((0,i.SU)(r)),colspan:e.colspan,rowspan:e.rowspan,"data-label":e.stackedHeading},[e.stackedHeading?((0,o.wg)(),(0,o.iD)("div",Am,[(0,o.WI)(t.$slots,"default")])):(0,o.WI)(t.$slots,"default",{key:1})],10,Dm))}}),Om=(0,o.aZ)({__name:"BTfoot",props:{variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,o.wg)(),(0,o.iD)("tfoot",{role:"rowgroup",class:(0,s.C_)((0,i.SU)(n))},[(0,o.WI)(e.$slots,"default")],2))}}),Nm=["scope","colspan","rowspan","data-label"],Pm={key:0},Fm=(0,o.aZ)({__name:"BTh",props:{colspan:null,rowspan:null,stackedHeading:null,stickyColumn:{default:!1},variant:null},setup(e){const t=e,n=tu((0,i.Vh)(t,"stickyColumn")),r=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant,"b-table-sticky-column":n.value,"table-b-table-default":n.value&&void 0===t.variant}))),a=(0,o.Fl)((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col"));return(t,n)=>((0,o.wg)(),(0,o.iD)("th",{role:"columnheader",scope:(0,i.SU)(a),class:(0,s.C_)((0,i.SU)(r)),colspan:e.colspan,rowspan:e.rowspan,"data-label":e.stackedHeading},[void 0!==e.stackedHeading?((0,o.wg)(),(0,o.iD)("div",Pm,[(0,o.WI)(t.$slots,"default")])):(0,o.WI)(t.$slots,"default",{key:1})],10,Nm))}}),Vm=(0,o.aZ)({__name:"BThead",props:{variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,o.wg)(),(0,o.iD)("thead",{role:"rowgroup",class:(0,s.C_)((0,i.SU)(n))},[(0,o.WI)(e.$slots,"default")],2))}}),Mm=(0,o.aZ)({__name:"BTr",props:{variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,o.wg)(),(0,o.iD)("tr",{role:"row",class:(0,s.C_)((0,i.SU)(n))},[(0,o.WI)(e.$slots,"default")],2))}}),Lm=["id","data-bs-target","aria-controls","aria-selected","onClick"],Rm=Symbol(),Um=(0,o.aZ)({__name:"BTabs",props:{activeNavItemClass:null,activeTabClass:null,align:null,card:{default:!1},contentClass:null,end:{default:!1},fill:{default:!1},id:null,justified:{default:!1},lazy:{default:!1},navClass:null,navWrapperClass:null,noFade:{default:!1},noNavStyle:{default:!1},pills:{default:!1},small:{default:!1},tag:{default:"div"},vertical:{default:!1},modelValue:{default:-1}},emits:["update:modelValue","activate-tab","click"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),l=tu((0,i.Vh)(n,"card")),u=tu((0,i.Vh)(n,"end")),c=tu((0,i.Vh)(n,"fill")),d=tu((0,i.Vh)(n,"justified")),h=tu((0,i.Vh)(n,"lazy")),f=tu((0,i.Vh)(n,"noFade")),p=tu((0,i.Vh)(n,"noNavStyle")),m=tu((0,i.Vh)(n,"pills")),g=tu((0,i.Vh)(n,"small")),v=tu((0,i.Vh)(n,"vertical")),y=(0,i.iH)(n.modelValue),b=(0,i.iH)(""),w=(0,o.Fl)({get:()=>y.value,set:e=>{y.value=e,_.value.length>0&&e>=0&&e<_.value.length?b.value=_.value[e].buttonId:b.value="",t("update:modelValue",e)}}),_=(0,o.Fl)((()=>{let e=[];return r.default&&(e=D(r).map(((e,t)=>{e.props||(e.props={});const i=e.props["button-id"]||jl("tab"),o=e.props.id||jl(),s=w.value>-1?t===w.value:""===e.props.active,a=e.props["title-item-class"],l=e.props["title-link-attributes"];return{buttonId:i,contentId:o,active:s,disabled:""===e.props.disabled||!0===e.props.disabled,navItemClasses:[{active:s,disabled:""===e.props.disabled||!0===e.props.disabled},s&&n.activeNavItemClass?n.activeNavItemClass:null,e.props["title-link-class"]],tabClasses:[{fade:!f.value},s&&n.activeTabClass?n.activeTabClass:null],target:`#${o}`,title:e.props.title,titleItemClass:a,titleLinkAttributes:l,onClick:e.props.onClick,tab:e,tabComponent:()=>D(r)[t]}}))),e})),S=(0,o.Fl)((()=>!((null==_?void 0:_.value)&&_.value.length>0))),I=(0,o.Fl)((()=>({"d-flex":v.value,"align-items-start":v.value}))),k=Va((0,i.Vh)(n,"align")),T=(0,o.Fl)((()=>({"nav-pills":m.value,"flex-column me-3":v.value,[k.value]:void 0!==n.align,"nav-fill":c.value,"card-header-tabs":l.value,"nav-justified":d.value,"nav-tabs":!p.value&&!m.value,small:g.value}))),E=e=>{let r=!1;if(void 0!==e&&e>-1&&e<_.value.length&&!_.value[e].disabled&&(w.value<0||_.value[e].buttonId!==b.value)){const n=new Ma("activate-tab",{cancelable:!0});t("activate-tab",e,w.value,n),n.defaultPrevented||(w.value=e,r=!0)}return!r&&n.modelValue!==w.value&&t("update:modelValue",w.value),r},C=(e,t)=>{var n;E(t),t>=0&&!_.value[t].disabled&&(null==(n=_.value[t])?void 0:n.onClick)&&"function"==typeof _.value[t].onClick&&_.value[t].onClick(e)},D=e=>e&&e.default?e.default().reduce(((e,t)=>("symbol"==typeof t.type?e=e.concat(t.children):e.push(t),e)),[]).filter((e=>{var t;return"BTab"===(null==(t=e.type)?void 0:t.__name)})):[];return E(y.value),(0,o.YP)((()=>n.modelValue),((e,t)=>{if(e===t)return;if(e=Math.max(e,-1),t=Math.max(t,-1),_.value.length<=0)return void(w.value=-1);const n=e>t;let r=e;const i=_.value.length-1;for(;r>=0&&r<=i&&_.value[r].disabled;)r+=n?1:-1;r<0?E(0):r>=_.value.length?E(_.value.length-1):E(r)})),(0,o.YP)((()=>_.value),(()=>{let e=_.value.map((e=>e.active&&!e.disabled)).lastIndexOf(!0);e<0&&(w.value>=_.value.length?e=_.value.map((e=>!e.disabled)).lastIndexOf(!0):_.value[w.value]&&!_.value[w.value].disabled&&(e=w.value)),e<0&&(e=_.value.map((e=>!e.disabled)).indexOf(!0)),_.value.forEach(((t,n)=>t.active=n===e)),E(e)})),(0,o.bv)((()=>{if(w.value<0&&_.value.length>0&&!_.value.some((e=>e.active))){const e=_.value.map((e=>!e.disabled)).indexOf(!0);E(e>=0?e:-1)}})),(0,o.JJ)(Rm,{lazy:h.value,card:l.value}),(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,class:(0,s.C_)(["tabs",(0,i.SU)(I)])},{default:(0,o.w5)((()=>[(0,i.SU)(u)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["tab-content",e.contentClass])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(_),(({tabComponent:e,contentId:t,tabClasses:n,active:r},i)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e()),{id:t,key:i,class:(0,s.C_)(n),active:r},null,8,["id","class","active"])))),128)),(0,i.SU)(S)?((0,o.wg)(),(0,o.iD)("div",{key:"bv-empty-tab",class:(0,s.C_)(["tab-pane active",{"card-body":(0,i.SU)(l)}])},[(0,o.WI)(t.$slots,"empty")],2)):(0,o.kq)("",!0)],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,s.C_)([e.navWrapperClass,{"card-header":(0,i.SU)(l),"ms-auto":e.vertical&&(0,i.SU)(u)}])},[(0,o._)("ul",{class:(0,s.C_)(["nav",[(0,i.SU)(T),e.navClass]]),role:"tablist"},[(0,o.WI)(t.$slots,"tabs-start"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(_),(({tab:e,buttonId:t,contentId:n,navItemClasses:r,active:i,target:l},u)=>((0,o.wg)(),(0,o.iD)("li",{key:u,class:(0,s.C_)(["nav-item",e.props["title-item-class"]])},[(0,o._)("button",(0,o.dG)({id:t,class:["nav-link",r],"data-bs-toggle":"tab","data-bs-target":l,role:"tab","aria-controls":n,"aria-selected":i},e.props["title-link-attributes"],{onClick:(0,a.iM)((e=>C(e,u)),["stop","prevent"])}),[e.children&&e.children.title?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.children.title),{key:0})):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,s.zw)(e.props.title),1)],64))],16,Lm)],2)))),128)),(0,o.WI)(t.$slots,"tabs-end")],2)],2),(0,i.SU)(u)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,s.C_)(["tab-content",e.contentClass])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(_),(({tabComponent:e,contentId:t,tabClasses:n,active:r},i)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e()),{id:t,key:i,class:(0,s.C_)(n),active:r},null,8,["id","class","active"])))),128)),(0,i.SU)(S)?((0,o.wg)(),(0,o.iD)("div",{key:"bv-empty-tab",class:(0,s.C_)(["tab-pane active",{"card-body":(0,i.SU)(l)}])},[(0,o.WI)(t.$slots,"empty")],2)):(0,o.kq)("",!0)],2))])),_:3},8,["id","class"]))}}),jm=(0,o.aZ)({__name:"BTab",props:{id:null,title:null,active:{default:!1},buttonId:{default:void 0},disabled:{default:!1},lazy:{default:void 0},lazyOnce:{default:void 0},noBody:{type:[Boolean,String],default:!1},tag:{default:"div"},titleItemClass:null,titleLinkAttributes:{default:void 0},titleLinkClass:null},setup(e){const t=e,n=(0,o.f3)(Rm,null),r=tu((0,i.Vh)(t,"active")),a=tu((0,i.Vh)(t,"disabled")),l=tu((0,i.Vh)(t,void 0!==t.lazyOnce?"lazyOnce":"lazy")),u=(0,i.iH)(!1),c=(0,o.Fl)((()=>!(!(null==n?void 0:n.lazy)&&!l.value))),d=(0,o.Fl)((()=>void 0!==t.lazyOnce)),h=(0,o.Fl)((()=>r.value&&!a.value)),f=(0,o.Fl)((()=>{const e=c.value&&d.value&&u.value;return h.value||!c.value||e})),p=(0,o.Fl)((()=>({active:r.value,show:r.value,"card-body":(null==n?void 0:n.card)&&!1===t.noBody})));return(0,o.YP)((()=>f.value),(e=>{e&&!u.value&&(u.value=!0)})),(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,class:(0,s.C_)(["tab-pane",(0,i.SU)(p)]),role:"tabpanel","aria-labelledby":"profile-tab"},{default:(0,o.w5)((()=>[(0,i.SU)(f)?(0,o.WI)(t.$slots,"default",{key:0}):(0,o.kq)("",!0)])),_:3},8,["id","class"]))}}),Bm=Object.freeze(Object.defineProperty({__proto__:null,BAccordion:ku,BAccordionItem:Wu,BAlert:ac,BAvatar:pc,BAvatarGroup:uc,BBadge:yc,BBreadcrumb:Tc,BBreadcrumbItem:Sc,BButton:oc,BButtonGroup:Ec,BButtonToolbar:Dc,BCloseButton:Ku,BCard:Rc,BCardBody:Mc,BCardFooter:Lc,BCardGroup:Uc,BCardHeader:Pc,BCardImg:xc,BCardSubtitle:Vc,BCardText:jc,BCardTitle:Fc,BCarousel:Jc,BCarouselSlide:id,BCol:cd,BCollapse:Tu,BContainer:kd,BDropdown:Cd,BDropdownDivider:Ad,BDropdownForm:Fd,BDropdownGroup:Rd,BDropdownHeader:$d,BDropdownItem:qd,BDropdownItemButton:Yd,BDropdownText:Zd,BForm:Jd,BFormFloatingLabel:th,BFormInvalidFeedback:nh,BFormRow:rh,BFormText:ih,BFormValidFeedback:oh,BFormCheckbox:uh,BFormCheckboxGroup:fh,BFormGroup:Sh,BFormInput:Ch,BFormRadio:xh,BFormRadioGroup:Fh,BFormSelect:jh,BFormSelectOption:Mh,BFormSelectOptionGroup:Rh,BFormTag:$h,BFormTags:nf,BFormTextarea:af,BImg:Ac,BInputGroup:pf,BInputGroupAddon:gf,BInputGroupAppend:vf,BInputGroupPrepend:yf,BInputGroupText:mf,BLink:nc,BListGroup:wf,BListGroupItem:_f,BModal:Ef,BNav:Cf,BNavForm:Df,BNavItem:Nf,BNavItemDropdown:Ff,BNavText:Mf,BNavbar:Lf,BNavbarBrand:Bf,BNavbarNav:$f,BNavbarToggle:qf,BOffcanvas:Zf,BOverlay:Qf,BPagination:dp,BPlaceholder:hp,BPlaceholderButton:fp,BPlaceholderCard:pp,BPlaceholderTable:gp,BPlaceholderWrapper:vp,BPopover:Ip,BProgress:Cp,BProgressBar:Tp,BRow:Op,BSkeleton:Np,BSkeletonIcon:Pp,BSkeletonTable:Mp,BSkeletonWrapper:Lp,BSpinner:Qu,BFormSpinButton:om,BTable:Em,BTableSimple:mp,BTbody:Cm,BTd:xm,BTfoot:Om,BTh:Fm,BThead:Vm,BTr:Mm,BTab:jm,BTabs:Um,BToastContainer:Id,BTransition:Yu,BToast:Sd,BToaster:Id,BToastPlugin:bd},Symbol.toStringTag,{value:"Module"})),$m=Object.freeze(Object.defineProperty({__proto__:null,vBColorMode:Cu,vBPopover:Du,vBToggle:Ou,vBTooltip:Mu,vBVisible:Bu},Symbol.toStringTag,{value:"Module"})),zm=(Symbol.toStringTag,Symbol.toStringTag,Symbol.toStringTag,{install(e,t={}){Object.entries(Bm).forEach((([t,n])=>{e.component(t,n)})),Object.entries($m).forEach((([t,n])=>{e.directive(t,n)})),iu(e)}})},2954:function(e,t,n){n.r(t),n.d(t,{ErrorMessage:function(){return lt},Field:function(){return Ge},FieldArray:function(){return st},FieldContextKey:function(){return S},Form:function(){return rt},FormContextKey:function(){return _},IS_ABSENT:function(){return I},cleanupNonNestedPath:function(){return B},configure:function(){return be},defineRule:function(){return g},isNotNestedPath:function(){return O},normalizeRules:function(){return ue},useField:function(){return Re},useFieldArray:function(){return it},useFieldError:function(){return kt},useFieldValue:function(){return _t},useForm:function(){return Je},useFormErrors:function(){return It},useFormValues:function(){return St},useIsFieldDirty:function(){return ct},useIsFieldTouched:function(){return dt},useIsFieldValid:function(){return ht},useIsFormDirty:function(){return gt},useIsFormTouched:function(){return vt},useIsFormValid:function(){return yt},useIsSubmitting:function(){return ft},useIsValidating:function(){return pt},useResetForm:function(){return ut},useSetFieldError:function(){return Et},useSetFieldTouched:function(){return Ct},useSetFieldValue:function(){return Dt},useSetFormErrors:function(){return At},useSetFormTouched:function(){return xt},useSetFormValues:function(){return Ot},useSubmitCount:function(){return wt},useSubmitForm:function(){return Tt},useValidateField:function(){return mt},useValidateForm:function(){return bt},validate:function(){return we},validateObject:function(){return Ae}});var r=n(6252),i=n(2262);
/**
  * vee-validate v4.12.4
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */
function o(e){return"function"===typeof e}function s(e){return null===e||void 0===e}const a=e=>null!==e&&!!e&&"object"===typeof e&&!Array.isArray(e);function l(e){return Number(e)>=0}function u(e){const t=parseFloat(e);return isNaN(t)?e:t}function c(e){return"object"===typeof e&&null!==e}function d(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function h(e){if(!c(e)||"[object Object]"!==d(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(e,t){return Object.keys(t).forEach((n=>{if(h(t[n])&&h(e[n]))return e[n]||(e[n]={}),void f(e[n],t[n]);e[n]=t[n]})),e}function p(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++)l(t[r])?n+=`[${t[r]}]`:n+=`.${t[r]}`;return n}const m={};function g(e,t){y(e,t),m[e]=t}function v(e){return m[e]}function y(e,t){if(!o(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function b(e,t,n){"object"===typeof n.value&&(n.value=w(n.value)),n.enumerable&&!n.get&&!n.set&&n.configurable&&n.writable&&"__proto__"!==t?e[t]=n.value:Object.defineProperty(e,t,n)}function w(e){if("object"!==typeof e)return e;var t,n,r,i=0,o=Object.prototype.toString.call(e);if("[object Object]"===o?r=Object.create(e.__proto__||null):"[object Array]"===o?r=Array(e.length):"[object Set]"===o?(r=new Set,e.forEach((function(e){r.add(w(e))}))):"[object Map]"===o?(r=new Map,e.forEach((function(e,t){r.set(w(t),w(e))}))):"[object Date]"===o?r=new Date(+e):"[object RegExp]"===o?r=new RegExp(e.source,e.flags):"[object DataView]"===o?r=new e.constructor(w(e.buffer)):"[object ArrayBuffer]"===o?r=e.slice(0):"Array]"===o.slice(-6)&&(r=new e.constructor(e)),r){for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)b(r,n[i],Object.getOwnPropertyDescriptor(e,n[i]));for(i=0,n=Object.getOwnPropertyNames(e);i<n.length;i++)Object.hasOwnProperty.call(r,t=n[i])&&r[t]===e[t]||b(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}const _=Symbol("vee-validate-form"),S=Symbol("vee-validate-field-instance"),I=Symbol("Default empty value"),k="undefined"!==typeof window;function T(e){return o(e)&&!!e.__locatorRef}function E(e){return!!e&&o(e.parse)&&"VVTypedSchema"===e.__type}function C(e){return!!e&&o(e.validate)}function D(e){return"checkbox"===e||"radio"===e}function A(e){return a(e)||Array.isArray(e)}function x(e){return Array.isArray(e)?0===e.length:a(e)&&0===Object.keys(e).length}function O(e){return/^\[.+\]$/i.test(e)}function N(e){return P(e)&&e.multiple}function P(e){return"SELECT"===e.tagName}function F(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return"select"===e&&"multiple"in t&&n}function V(e,t){return!F(e,t)&&"file"!==t.type&&!D(t.type)}function M(e){return L(e)&&e.target&&"submit"in e.target}function L(e){return!!e&&(!!("undefined"!==typeof Event&&o(Event)&&e instanceof Event)||!(!e||!e.srcElement))}function R(e,t){return t in e&&e[t]!==I}function U(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!==r--;)if(!U(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!U(r[1],t.get(r[0])))return!1;return!0}if(j(e)&&j(t))return e.size===t.size&&(e.name===t.name&&(e.lastModified===t.lastModified&&e.type===t.type));if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(i=Object.keys(e),n=i.length,r=n;0!==r--;){var o=i[r];if(!U(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function j(e){return!!k&&e instanceof File}function B(e){return O(e)?e.replace(/\[|\]/gi,""):e}function $(e,t,n){if(!e)return n;if(O(t))return e[B(t)];const r=(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>A(e)&&t in e?e[t]:n),e);return r}function z(e,t,n){if(O(t))return void(e[B(t)]=n);const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let o=0;o<r.length;o++){if(o===r.length-1)return void(i[r[o]]=n);r[o]in i&&!s(i[r[o]])||(i[r[o]]=l(r[o+1])?[]:{}),i=i[r[o]]}}function q(e,t){Array.isArray(e)&&l(t)?e.splice(Number(t),1):a(e)&&delete e[t]}function H(e,t){if(O(t))return void delete e[B(t)];const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let o=0;o<n.length;o++){if(o===n.length-1){q(r,n[o]);break}if(!(n[o]in r)||s(r[n[o]]))break;r=r[n[o]]}const i=n.map(((t,r)=>$(e,n.slice(0,r).join("."))));for(let o=i.length-1;o>=0;o--)x(i[o])&&(0!==o?q(i[o-1],n[o-1]):q(e,n[0]))}function W(e){return Object.keys(e)}function Y(e,t=void 0){const n=(0,r.FN)();return(null===n||void 0===n?void 0:n.provides[e])||(0,r.f3)(e,t)}function G(e,t,n){if(Array.isArray(e)){const n=[...e],r=n.findIndex((e=>U(e,t)));return r>=0?n.splice(r,1):n.push(t),n}return U(e,t)?n:t}function K(e,t){let n,r;return function(...i){const o=this;return n||(n=!0,setTimeout((()=>n=!1),t),r=e.apply(o,i)),r}}function Z(e,t=0){let n=null,r=[];return function(...i){return n&&clearTimeout(n),n=setTimeout((()=>{const t=e(...i);r.forEach((e=>e(t))),r=[]}),t),new Promise((e=>r.push(e)))}}function Q(e,t){return a(t)&&t.number?u(e):e}function J(e,t){let n;return async function(...r){const i=e(...r);n=i;const o=await i;return i!==n?o:(n=void 0,t(o,r))}}function X({get:e,set:t}){const n=(0,i.iH)(w(e()));return(0,r.YP)(e,(e=>{U(e,n.value)||(n.value=w(e))}),{deep:!0}),(0,r.YP)(n,(n=>{U(n,e())||t(w(n))}),{deep:!0}),n}function ee(e){return Array.isArray(e)?e:e?[e]:[]}function te(e){const t=Y(_),n=e?(0,r.Fl)((()=>null===t||void 0===t?void 0:t.getPathState((0,i.Tn)(e)))):void 0,o=e?void 0:(0,r.f3)(S);return o||null===n||void 0===n||n.value,n||o}function ne(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function re(e){let t=null,n=[];return function(...i){const o=(0,r.Y3)((()=>{if(t!==o)return;const r=e(...i);n.forEach((e=>e(r))),n=[],t=null}));return t=o,new Promise((e=>n.push(e)))}}function ie(e,t,n){return t.slots.default?"string"!==typeof e&&e?{default:()=>{var e,r;return null===(r=(e=t.slots).default)||void 0===r?void 0:r.call(e,n())}}:t.slots.default(n()):t.slots.default}function oe(e){if(se(e))return e._value}function se(e){return"_value"in e}function ae(e){return"number"===e.type||"range"===e.type?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function le(e){if(!L(e))return e;const t=e.target;if(D(t.type)&&se(t))return oe(t);if("file"===t.type&&t.files){const e=Array.from(t.files);return t.multiple?e:e[0]}if(N(t))return Array.from(t.options).filter((e=>e.selected&&!e.disabled)).map(oe);if(P(t)){const e=Array.from(t.options).find((e=>e.selected));return e?oe(e):t.value}return ae(t)}function ue(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?a(e)&&e._$$isNormalized?e:a(e)?Object.keys(e).reduce(((t,n)=>{const r=ce(e[n]);return!1!==e[n]&&(t[n]=de(r)),t}),t):"string"!==typeof e?t:e.split("|").reduce(((e,t)=>{const n=he(t);return n.name?(e[n.name]=de(n.params),e):e}),t):t}function ce(e){return!0===e?[]:Array.isArray(e)||a(e)?e:[e]}function de(e){const t=e=>"string"===typeof e&&"@"===e[0]?fe(e.slice(1)):e;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce(((n,r)=>(n[r]=t(e[r]),n)),{})}const he=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function fe(e){const t=t=>{const n=$(t,e)||t[e];return n};return t.__locatorRef=e,t}function pe(e){return Array.isArray(e)?e.filter(T):W(e).filter((t=>T(e[t]))).map((t=>e[t]))}const me={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let ge=Object.assign({},me);const ve=()=>ge,ye=e=>{ge=Object.assign(Object.assign({},ge),e)},be=ye;async function we(e,t,n={}){const r=null===n||void 0===n?void 0:n.bails,i={name:(null===n||void 0===n?void 0:n.name)||"{field}",rules:t,label:null===n||void 0===n?void 0:n.label,bails:null===r||void 0===r||r,formData:(null===n||void 0===n?void 0:n.values)||{}},o=await _e(i,e),s=o.errors;return{errors:s,valid:!s.length}}async function _e(e,t){if(E(e.rules)||C(e.rules))return ke(t,e.rules);if(o(e.rules)||Array.isArray(e.rules)){const n={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},r=Array.isArray(e.rules)?e.rules:[e.rules],i=r.length,o=[];for(let s=0;s<i;s++){const i=r[s],a=await i(t,n),l="string"!==typeof a&&!Array.isArray(a)&&a;if(!l){if(Array.isArray(a))o.push(...a);else{const e="string"===typeof a?a:Ee(n);o.push(e)}if(e.bails)return{errors:o}}}return{errors:o}}const n=Object.assign(Object.assign({},e),{rules:ue(e.rules)}),r=[],i=Object.keys(n.rules),s=i.length;for(let o=0;o<s;o++){const s=i[o],a=await Te(n,t,{name:s,params:n.rules[s]});if(a.error&&(r.push(a.error),e.bails))return{errors:r}}return{errors:r}}function Se(e){return!!e&&"ValidationError"===e.name}function Ie(e){const t={__type:"VVTypedSchema",async parse(t){var n;try{const n=await e.validate(t,{abortEarly:!1});return{output:n,errors:[]}}catch(r){if(!Se(r))throw r;if(!(null===(n=r.inner)||void 0===n?void 0:n.length)&&r.errors.length)return{errors:[{path:r.path,errors:r.errors}]};const e=r.inner.reduce(((e,t)=>{const n=t.path||"";return e[n]||(e[n]={errors:[],path:n}),e[n].errors.push(...t.errors),e}),{});return{errors:Object.values(e)}}}};return t}async function ke(e,t){const n=E(t)?t:Ie(t),r=await n.parse(e),i=[];for(const o of r.errors)o.errors.length&&i.push(...o.errors);return{errors:i}}async function Te(e,t,n){const r=v(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=Ce(n.params,e.formData),o={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},s=await r(t,i,o);return"string"===typeof s?{error:s}:{error:s?void 0:Ee(o)}}function Ee(e){const t=ve().generateMessage;return t?t(e):"Field is invalid"}function Ce(e,t){const n=e=>T(e)?e(t):e;return Array.isArray(e)?e.map(n):Object.keys(e).reduce(((t,r)=>(t[r]=n(e[r]),t)),{})}async function De(e,t){const n=E(e)?e:Ie(e),r=await n.parse(w(t)),i={},o={};for(const s of r.errors){const e=s.errors,t=(s.path||"").replace(/\["(\d+)"\]/g,((e,t)=>`[${t}]`));i[t]={valid:!e.length,errors:e},e.length&&(o[t]=e[0])}return{valid:!r.errors.length,results:i,errors:o,values:r.value}}async function Ae(e,t,n){const r=W(e),i=r.map((async r=>{var i,o,s;const a=null===(i=null===n||void 0===n?void 0:n.names)||void 0===i?void 0:i[r],l=await we($(t,r),e[r],{name:(null===a||void 0===a?void 0:a.name)||r,label:null===a||void 0===a?void 0:a.label,values:t,bails:null===(s=null===(o=null===n||void 0===n?void 0:n.bailsMap)||void 0===o?void 0:o[r])||void 0===s||s});return Object.assign(Object.assign({},l),{path:r})}));let o=!0;const s=await Promise.all(i),a={},l={};for(const u of s)a[u.path]={valid:u.valid,errors:u.errors},u.valid||(o=!1,l[u.path]=u.errors[0]);return{valid:o,results:a,errors:l}}let xe=0;function Oe(e,t){const{value:n,initialValue:o,setInitialValue:s}=Ne(e,t.modelValue,t.form);if(!t.form){const{errors:c,setErrors:d}=Ve(),h=xe>=Number.MAX_SAFE_INTEGER?0:++xe,f=Fe(n,o,c,t.schema);function p(e){var t;"value"in e&&(n.value=e.value),"errors"in e&&d(e.errors),"touched"in e&&(f.touched=null!==(t=e.touched)&&void 0!==t?t:f.touched),"initialValue"in e&&s(e.initialValue)}return{id:h,path:e,value:n,initialValue:o,meta:f,flags:{pendingUnmount:{[h]:!1},pendingReset:!1},errors:c,setState:p}}const a=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),l=(0,r.Fl)((()=>a.errors));function u(r){var o,a,l;"value"in r&&(n.value=r.value),"errors"in r&&(null===(o=t.form)||void 0===o||o.setFieldError((0,i.SU)(e),r.errors)),"touched"in r&&(null===(a=t.form)||void 0===a||a.setFieldTouched((0,i.SU)(e),null!==(l=r.touched)&&void 0!==l&&l)),"initialValue"in r&&s(r.initialValue)}return{id:Array.isArray(a.id)?a.id[a.id.length-1]:a.id,path:e,value:n,errors:l,meta:a,initialValue:o,flags:a.__flags,setState:u}}function Ne(e,t,n){const o=(0,i.iH)((0,i.SU)(t));function s(){return n?$(n.initialValues.value,(0,i.SU)(e),(0,i.SU)(o)):(0,i.SU)(o)}function a(t){n?n.setFieldInitialValue((0,i.SU)(e),t,!0):o.value=t}const l=(0,r.Fl)(s);if(!n){const e=(0,i.iH)(s());return{value:e,initialValue:l,setInitialValue:a}}const u=Pe(t,n,l,e);n.stageInitialValue((0,i.SU)(e),u,!0);const c=(0,r.Fl)({get(){return $(n.values,(0,i.SU)(e))},set(t){n.setFieldValue((0,i.SU)(e),t,!1)}});return{value:c,initialValue:l,setInitialValue:a}}function Pe(e,t,n,r){return(0,i.dq)(e)?(0,i.SU)(e):void 0!==e?e:$(t.values,(0,i.SU)(r),(0,i.SU)(n))}function Fe(e,t,n,o){var s,a;const l=null!==(a=null===(s=null===o||void 0===o?void 0:o.describe)||void 0===s?void 0:s.call(o).required)&&void 0!==a&&a,u=(0,i.qj)({touched:!1,pending:!1,valid:!0,required:l,validated:!!(0,i.SU)(n).length,initialValue:(0,r.Fl)((()=>(0,i.SU)(t))),dirty:(0,r.Fl)((()=>!U((0,i.SU)(e),(0,i.SU)(t))))});return(0,r.YP)(n,(e=>{u.valid=!e.length}),{immediate:!0,flush:"sync"}),u}function Ve(){const e=(0,i.iH)([]);return{errors:e,setErrors:t=>{e.value=ee(t)}}}let Me;K((()=>{setTimeout((async()=>{await(0,r.Y3)(),null===Me||void 0===Me||Me.sendInspectorState(Le),null===Me||void 0===Me||Me.sendInspectorTree(Le)}),100)}),100);const Le="vee-validate-inspector";function Re(e,t,n){return D(null===n||void 0===n?void 0:n.type)?Be(e,t,n):Ue(e,t,n)}function Ue(e,t,n){const{initialValue:s,validateOnMount:a,bails:l,type:u,checkedValue:c,label:d,validateOnValueUpdate:h,uncheckedValue:f,controlled:m,keepValueOnUnmount:g,syncVModel:v,form:y}=je(n),b=m?Y(_):void 0,I=y||b,k=(0,r.Fl)((()=>p((0,i.Tn)(e)))),T=(0,r.Fl)((()=>{const e=(0,i.Tn)(null===I||void 0===I?void 0:I.schema);if(e)return;const n=(0,i.SU)(t);return C(n)||E(n)||o(n)||Array.isArray(n)?n:ue(n)})),{id:D,value:A,initialValue:x,meta:O,setState:N,errors:P,flags:F}=Oe(k,{modelValue:s,form:I,bails:l,label:d,type:u,validate:T.value?B:void 0,schema:E(t)?t:void 0}),V=(0,r.Fl)((()=>P.value[0]));v&&$e({value:A,prop:v,handleChange:z,shouldValidate:()=>h&&!F.pendingReset});const M=(e,t=!1)=>{O.touched=!0,t&&R()};async function L(e){var t,n;if(null===I||void 0===I?void 0:I.validateSchema){const{results:n}=await I.validateSchema(e);return null!==(t=n[(0,i.Tn)(k)])&&void 0!==t?t:{valid:!0,errors:[]}}return T.value?we(A.value,T.value,{name:(0,i.Tn)(k),label:(0,i.Tn)(d),values:null!==(n=null===I||void 0===I?void 0:I.values)&&void 0!==n?n:{},bails:l}):{valid:!0,errors:[]}}const R=J((async()=>(O.pending=!0,O.validated=!0,L("validated-only"))),(e=>(F.pendingUnmount[X.id]||(N({errors:e.errors}),O.pending=!1,O.valid=e.valid),e))),j=J((async()=>L("silent")),(e=>(O.valid=e.valid,e)));function B(e){return"silent"===(null===e||void 0===e?void 0:e.mode)?j():R()}function z(e,t=!0){const n=le(e);G(n,t)}function q(e){O.touched=e}function H(e){var t;const n=e&&"value"in e?e.value:x.value;N({value:w(n),initialValue:w(n),touched:null!==(t=null===e||void 0===e?void 0:e.touched)&&void 0!==t&&t,errors:(null===e||void 0===e?void 0:e.errors)||[]}),O.pending=!1,O.validated=!1,j()}(0,r.bv)((()=>{if(a)return R();I&&I.validateSchema||j()}));const W=(0,r.FN)();function G(e,t=!0){A.value=W&&v?Q(e,W.props.modelModifiers):e;const n=t?R:j;n()}function K(e){N({errors:Array.isArray(e)?e:[e]})}const Z=(0,r.Fl)({get(){return A.value},set(e){G(e,h)}}),X={id:D,name:k,label:d,value:Z,meta:O,errors:P,errorMessage:V,type:u,checkedValue:c,uncheckedValue:f,bails:l,keepValueOnUnmount:g,resetField:H,handleReset:()=>H(),validate:B,handleChange:z,handleBlur:M,setState:N,setTouched:q,setErrors:K,setValue:G};if((0,r.JJ)(S,X),(0,i.dq)(t)&&"function"!==typeof(0,i.SU)(t)&&(0,r.YP)(t,((e,t)=>{U(e,t)||(O.validated?R():j())}),{deep:!0}),!I)return X;const ee=(0,r.Fl)((()=>{const e=T.value;return!e||o(e)||C(e)||E(e)||Array.isArray(e)?{}:Object.keys(e).reduce(((t,n)=>{const r=pe(e[n]).map((e=>e.__locatorRef)).reduce(((e,t)=>{const n=$(I.values,t)||I.values[t];return void 0!==n&&(e[t]=n),e}),{});return Object.assign(t,r),t}),{})}));return(0,r.YP)(ee,((e,t)=>{if(!Object.keys(e).length)return;const n=!U(e,t);n&&(O.validated?R():j())})),(0,r.Jd)((()=>{var e;const t=null!==(e=(0,i.Tn)(X.keepValueOnUnmount))&&void 0!==e?e:(0,i.Tn)(I.keepValuesOnUnmount),n=(0,i.Tn)(k);if(t||!I||F.pendingUnmount[X.id])return void(null===I||void 0===I||I.removePathState(n,D));F.pendingUnmount[X.id]=!0;const r=I.getPathState(n),o=Array.isArray(null===r||void 0===r?void 0:r.id)&&(null===r||void 0===r?void 0:r.multiple)?null===r||void 0===r?void 0:r.id.includes(X.id):(null===r||void 0===r?void 0:r.id)===X.id;if(o){if((null===r||void 0===r?void 0:r.multiple)&&Array.isArray(r.value)){const e=r.value.findIndex((e=>U(e,(0,i.Tn)(X.checkedValue))));if(e>-1){const t=[...r.value];t.splice(e,1),I.setFieldValue(n,t)}Array.isArray(r.id)&&r.id.splice(r.id.indexOf(X.id),1)}else I.unsetPathValue((0,i.Tn)(k));I.removePathState(n,D)}})),X}function je(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(null===e||void 0===e?void 0:e.syncVModel),i="string"===typeof(null===e||void 0===e?void 0:e.syncVModel)?e.syncVModel:(null===e||void 0===e?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?ze((0,r.FN)(),i):null===e||void 0===e?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(null===e||void 0===e?void 0:e.modelPropName)||(null===e||void 0===e?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:null===a||void 0===a||a,checkedValue:s,syncVModel:l})}function Be(e,t,n){const o=(null===n||void 0===n?void 0:n.standalone)?void 0:Y(_),s=null===n||void 0===n?void 0:n.checkedValue,a=null===n||void 0===n?void 0:n.uncheckedValue;function l(t){const l=t.handleChange,u=(0,r.Fl)((()=>{const e=(0,i.Tn)(t.value),n=(0,i.Tn)(s);return Array.isArray(e)?e.findIndex((e=>U(e,n)))>=0:U(n,e)}));function c(r,c=!0){var d,h;if(u.value===(null===(d=null===r||void 0===r?void 0:r.target)||void 0===d?void 0:d.checked))return void(c&&t.validate());const f=(0,i.Tn)(e),p=null===o||void 0===o?void 0:o.getPathState(f),m=le(r);let g=null!==(h=(0,i.Tn)(s))&&void 0!==h?h:m;o&&(null===p||void 0===p?void 0:p.multiple)&&"checkbox"===p.type?g=G($(o.values,f)||[],g,void 0):"checkbox"===(null===n||void 0===n?void 0:n.type)&&(g=G((0,i.Tn)(t.value),g,(0,i.Tn)(a))),l(g,c)}return Object.assign(Object.assign({},t),{checked:u,checkedValue:s,uncheckedValue:a,handleChange:c})}return l(Ue(e,t,n))}function $e({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=(0,r.FN)();if(!o||!e)return void 0;const s="string"===typeof e?e:"modelValue",a=`update:${s}`;s in o.props&&((0,r.YP)(t,(e=>{U(e,ze(o,s))||o.emit(a,e)})),(0,r.YP)((()=>ze(o,s)),(e=>{if(e===I&&void 0===t.value)return;const r=e===I?void 0:e;U(r,t.value)||n(r,i())})))}function ze(e,t){if(e)return e.props[t]}const qe=(0,r.aZ)({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>ve().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:I},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=(0,i.Vh)(e,"rules"),s=(0,i.Vh)(e,"name"),a=(0,i.Vh)(e,"label"),l=(0,i.Vh)(e,"uncheckedValue"),u=(0,i.Vh)(e,"keepValue"),{errors:c,value:d,errorMessage:h,validate:f,handleChange:p,handleBlur:m,setTouched:g,resetField:v,handleReset:y,meta:b,checked:w,setErrors:_}=Re(s,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Ye(e,t),checkedValue:t.attrs.value,uncheckedValue:l,label:a,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),S=function(e,t=!0){p(e,t)},I=(0,r.Fl)((()=>{const{validateOnInput:n,validateOnChange:r,validateOnBlur:i,validateOnModelUpdate:s}=We(e);function a(e){m(e,i),o(t.attrs.onBlur)&&t.attrs.onBlur(e)}function l(e){S(e,n),o(t.attrs.onInput)&&t.attrs.onInput(e)}function u(e){S(e,r),o(t.attrs.onChange)&&t.attrs.onChange(e)}const c={name:e.name,onBlur:a,onInput:l,onChange:u,"onUpdate:modelValue":e=>S(e,s)};return c})),k=(0,r.Fl)((()=>{const n=Object.assign({},I.value);D(t.attrs.type)&&w&&(n.checked=w.value);const r=He(e,t);return V(r,t.attrs)&&(n.value=d.value),n})),T=(0,r.Fl)((()=>Object.assign(Object.assign({},I.value),{modelValue:d.value})));function E(){return{field:k.value,componentField:T.value,value:d.value,meta:b,errors:c.value,errorMessage:h.value,validate:f,resetField:v,handleChange:S,handleInput:e=>S(e,!1),handleReset:y,handleBlur:I.value.onBlur,setTouched:g,setErrors:_}}return t.expose({value:d,meta:b,errors:c,errorMessage:h,setErrors:_,setTouched:g,reset:v,validate:f,handleChange:p}),()=>{const n=(0,r.LL)(He(e,t)),i=ie(n,t,E);return n?(0,r.h)(n,Object.assign(Object.assign({},t.attrs),k.value),i):i}}});function He(e,t){let n=e.as||"";return e.as||t.slots.default||(n="input"),n}function We(e){var t,n,r,i;const{validateOnInput:o,validateOnChange:s,validateOnBlur:a,validateOnModelUpdate:l}=ve();return{validateOnInput:null!==(t=e.validateOnInput)&&void 0!==t?t:o,validateOnChange:null!==(n=e.validateOnChange)&&void 0!==n?n:s,validateOnBlur:null!==(r=e.validateOnBlur)&&void 0!==r?r:a,validateOnModelUpdate:null!==(i=e.validateOnModelUpdate)&&void 0!==i?i:l}}function Ye(e,t){return D(t.attrs.type)?R(e,"modelValue")?e.modelValue:void 0:R(e,"modelValue")?e.modelValue:t.attrs.value}const Ge=qe;let Ke=0;const Ze=["bails","fieldsCount","id","multiple","type","validate"];function Qe(e){const t=Object.assign({},(0,i.Tn)((null===e||void 0===e?void 0:e.initialValues)||{})),n=(0,i.SU)(null===e||void 0===e?void 0:e.validationSchema);return n&&E(n)&&o(n.cast)?w(n.cast(t)||{}):w(t)}function Je(e){var t;const n=Ke++;let s=0;const a=(0,i.iH)(!1),l=(0,i.iH)(!1),u=(0,i.iH)(0),c=[],d=(0,i.qj)(Qe(e)),h=(0,i.iH)([]),m=(0,i.iH)({}),g=(0,i.iH)({}),v=re((()=>{g.value=h.value.reduce(((e,t)=>(e[p((0,i.Tn)(t.path))]=t,e)),{})}));function y(e,t){const n=Y(e);if(n){if("string"===typeof e){const t=p(e);m.value[t]&&delete m.value[t]}n.errors=ee(t),n.valid=!n.errors.length}else"string"===typeof e&&(m.value[p(e)]=ee(t))}function b(e){W(e).forEach((t=>{y(t,e[t])}))}(null===e||void 0===e?void 0:e.initialErrors)&&b(e.initialErrors);const S=(0,r.Fl)((()=>{const e=h.value.reduce(((e,t)=>(t.errors.length&&(e[t.path]=t.errors),e)),{});return Object.assign(Object.assign({},m.value),e)})),I=(0,r.Fl)((()=>W(S.value).reduce(((e,t)=>{const n=S.value[t];return(null===n||void 0===n?void 0:n.length)&&(e[t]=n[0]),e}),{}))),k=(0,r.Fl)((()=>h.value.reduce(((e,t)=>(e[t.path]={name:t.path||"",label:t.label||""},e)),{}))),T=(0,r.Fl)((()=>h.value.reduce(((e,t)=>{var n;return e[t.path]=null===(n=t.bails)||void 0===n||n,e}),{}))),D=Object.assign({},(null===e||void 0===e?void 0:e.initialErrors)||{}),A=null!==(t=null===e||void 0===e?void 0:e.keepValuesOnUnmount)&&void 0!==t&&t,{initialValues:x,originalInitialValues:O,setInitialValues:N}=et(h,d,e),P=Xe(h,d,O,I),F=(0,r.Fl)((()=>h.value.reduce(((e,t)=>{const n=$(d,t.path);return z(e,t.path,n),e}),{}))),V=null===e||void 0===e?void 0:e.validationSchema;function L(e,t){var n,o;const a=(0,r.Fl)((()=>$(x.value,(0,i.Tn)(e)))),l=g.value[(0,i.Tn)(e)],u="checkbox"===(null===t||void 0===t?void 0:t.type)||"radio"===(null===t||void 0===t?void 0:t.type);if(l&&u){l.multiple=!0;const e=s++;return Array.isArray(l.id)?l.id.push(e):l.id=[l.id,e],l.fieldsCount++,l.__flags.pendingUnmount[e]=!1,l}const c=(0,r.Fl)((()=>$(d,(0,i.Tn)(e)))),f=(0,i.Tn)(e),p=Q.findIndex((e=>e===f));-1!==p&&Q.splice(p,1);const m=(0,r.Fl)((()=>{var n,r,o,s,a,l;return E(V)?null!==(o=null===(r=(n=V).describe)||void 0===r?void 0:r.call(n,(0,i.Tn)(e)).required)&&void 0!==o&&o:!!E(null===t||void 0===t?void 0:t.schema)&&(null!==(l=null===(a=(s=null===t||void 0===t?void 0:t.schema).describe)||void 0===a?void 0:a.call(s).required)&&void 0!==l&&l)})),y=s++,b=(0,i.qj)({id:y,path:e,touched:!1,pending:!1,valid:!0,validated:!!(null===(n=D[f])||void 0===n?void 0:n.length),required:m,initialValue:a,errors:(0,i.XI)([]),bails:null!==(o=null===t||void 0===t?void 0:t.bails)&&void 0!==o&&o,label:null===t||void 0===t?void 0:t.label,type:(null===t||void 0===t?void 0:t.type)||"default",value:c,multiple:!1,__flags:{pendingUnmount:{[y]:!1},pendingReset:!1},fieldsCount:1,validate:null===t||void 0===t?void 0:t.validate,dirty:(0,r.Fl)((()=>!U((0,i.SU)(c),(0,i.SU)(a))))});return h.value.push(b),g.value[f]=b,v(),I.value[f]&&!D[f]&&(0,r.Y3)((()=>{Ie(f,{mode:"silent"})})),(0,i.dq)(e)&&(0,r.YP)(e,(e=>{v();const t=w(c.value);g.value[e]=b,(0,r.Y3)((()=>{z(d,e,t)}))})),b}const R=Z(Ce,5),j=Z(Ce,5),B=J((async e=>await("silent"===e?R():j())),((e,[t])=>{const n=W(ue.errorBag.value),r=[...new Set([...W(e.results),...h.value.map((e=>e.path)),...n])].sort(),o=r.reduce(((n,r)=>{var o;const s=r,a=Y(s)||G(s),l=(null===(o=e.results[s])||void 0===o?void 0:o.errors)||[],u=(0,i.Tn)(null===a||void 0===a?void 0:a.path)||s,c=tt({errors:l,valid:!l.length},n.results[u]);return n.results[u]=c,c.valid||(n.errors[u]=c.errors[0]),a&&m.value[u]&&delete m.value[u],a?(a.valid=c.valid,"silent"===t?n:"validated-only"!==t||a.validated?(y(a,c.errors),n):n):(y(u,l),n)}),{valid:e.valid,results:{},errors:{}});return e.values&&(o.values=e.values),o}));function q(e){h.value.forEach(e)}function Y(e){const t="string"===typeof e?p(e):e,n="string"===typeof t?g.value[t]:t;return n}function G(e){const t=h.value.filter((t=>e.startsWith(t.path)));return t.reduce(((e,t)=>e?t.path.length>e.path.length?t:e:t),void 0)}let K,Q=[];function X(e){return Q.push(e),K||(K=(0,r.Y3)((()=>{const e=[...Q].sort().reverse();e.forEach((e=>{H(d,e)})),Q=[],K=null}))),K}function te(e){return function(t,n){return function(r){return r instanceof Event&&(r.preventDefault(),r.stopPropagation()),q((e=>e.touched=!0)),a.value=!0,u.value++,Se().then((i=>{const o=w(d);if(i.valid&&"function"===typeof t){const n=w(F.value);let s=e?n:o;return i.values&&(s=i.values),t(s,{evt:r,controlledValues:n,setErrors:b,setFieldError:y,setTouched:be,setFieldTouched:pe,setValues:he,setFieldValue:ce,resetForm:_e,resetField:we})}i.valid||"function"!==typeof n||n({values:o,evt:r,errors:i.errors,results:i.results})})).then((e=>(a.value=!1,e)),(e=>{throw a.value=!1,e}))}}}const ie=te(!1),oe=ie;function se(e,t){const n=h.value.findIndex((t=>t.path===e)),i=h.value[n];if(-1!==n&&i){if((0,r.Y3)((()=>{Ie(e,{mode:"silent",warn:!1})})),i.multiple&&i.fieldsCount&&i.fieldsCount--,Array.isArray(i.id)){const e=i.id.indexOf(t);e>=0&&i.id.splice(e,1),delete i.__flags.pendingUnmount[t]}(!i.multiple||i.fieldsCount<=0)&&(h.value.splice(n,1),ke(e),v(),delete g.value[e])}}function ae(e){W(g.value).forEach((t=>{t.startsWith(e)&&delete g.value[t]})),h.value=h.value.filter((t=>!t.path.startsWith(e))),(0,r.Y3)((()=>{v()}))}oe.withControlled=te(!0);const ue={formId:n,values:d,controlledValues:F,errorBag:S,errors:I,schema:V,submitCount:u,meta:P,isSubmitting:a,isValidating:l,fieldArrays:c,keepValuesOnUnmount:A,validateSchema:(0,i.SU)(V)?B:void 0,validate:Se,setFieldError:y,validateField:Ie,setFieldValue:ce,setValues:he,setErrors:b,setFieldTouched:pe,setTouched:be,resetForm:_e,resetField:we,handleSubmit:oe,useFieldModel:Ne,defineInputBinds:Pe,defineComponentBinds:Fe,defineField:Oe,stageInitialValue:Te,unsetInitialValue:ke,setFieldInitialValue:Ee,createPathState:L,getPathState:Y,unsetPathValue:X,removePathState:se,initialValues:x,getAllPathStates:()=>h.value,destroyPath:ae,isFieldTouched:me,isFieldDirty:ge,isFieldValid:ye};function ce(e,t,n=!0){const r=w(t),i="string"===typeof e?e:e.path,o=Y(i);o||L(i),z(d,i,r),n&&Ie(i)}function de(e,t=!0){W(d).forEach((e=>{delete d[e]})),W(e).forEach((t=>{ce(t,e[t],!1)})),t&&Se()}function he(e,t=!0){f(d,e),c.forEach((e=>e&&e.reset())),t&&Se()}function fe(e,t){const n=Y((0,i.Tn)(e))||L(e);return(0,r.Fl)({get(){return n.value},set(n){var r;const o=(0,i.Tn)(e);ce(o,n,null!==(r=(0,i.Tn)(t))&&void 0!==r&&r)}})}function pe(e,t){const n=Y(e);n&&(n.touched=t)}function me(e){const t=Y(e);return t?t.touched:h.value.filter((t=>t.path.startsWith(e))).some((e=>e.touched))}function ge(e){const t=Y(e);return t?t.dirty:h.value.filter((t=>t.path.startsWith(e))).some((e=>e.dirty))}function ye(e){const t=Y(e);return t?t.valid:h.value.filter((t=>t.path.startsWith(e))).every((e=>e.valid))}function be(e){"boolean"!==typeof e?W(e).forEach((t=>{pe(t,!!e[t])})):q((t=>{t.touched=e}))}function we(e,t){var n;const i=t&&"value"in t?t.value:$(x.value,e),o=Y(e);o&&(o.__flags.pendingReset=!0),Ee(e,w(i),!0),ce(e,i,!1),pe(e,null!==(n=null===t||void 0===t?void 0:t.touched)&&void 0!==n&&n),y(e,(null===t||void 0===t?void 0:t.errors)||[]),(0,r.Y3)((()=>{o&&(o.__flags.pendingReset=!1)}))}function _e(e,t){let n=w((null===e||void 0===e?void 0:e.values)?e.values:O.value);n=(null===t||void 0===t?void 0:t.force)?n:f(O.value,n),n=E(V)&&o(V.cast)?V.cast(n):n,N(n),q((t=>{var r;t.__flags.pendingReset=!0,t.validated=!1,t.touched=(null===(r=null===e||void 0===e?void 0:e.touched)||void 0===r?void 0:r[t.path])||!1,ce(t.path,$(n,t.path),!1),y(t.path,void 0)})),(null===t||void 0===t?void 0:t.force)?de(n,!1):he(n,!1),b((null===e||void 0===e?void 0:e.errors)||{}),u.value=(null===e||void 0===e?void 0:e.submitCount)||0,(0,r.Y3)((()=>{Se({mode:"silent"}),q((e=>{e.__flags.pendingReset=!1}))}))}async function Se(e){const t=(null===e||void 0===e?void 0:e.mode)||"force";if("force"===t&&q((e=>e.validated=!0)),ue.validateSchema)return ue.validateSchema(t);l.value=!0;const n=await Promise.all(h.value.map((t=>t.validate?t.validate(e).then((e=>({key:t.path,valid:e.valid,errors:e.errors}))):Promise.resolve({key:t.path,valid:!0,errors:[]}))));l.value=!1;const r={},i={};for(const o of n)r[o.key]={valid:o.valid,errors:o.errors},o.errors.length&&(i[o.key]=o.errors[0]);return{valid:n.every((e=>e.valid)),results:r,errors:i}}async function Ie(e,t){var n;const r=Y(e);if(r&&"silent"!==(null===t||void 0===t?void 0:t.mode)&&(r.validated=!0),V){const{results:n}=await B((null===t||void 0===t?void 0:t.mode)||"validated-only");return n[e]||{errors:[],valid:!0}}if(null===r||void 0===r?void 0:r.validate)return r.validate(t);!r&&(n=null===t||void 0===t?void 0:t.warn);return Promise.resolve({errors:[],valid:!0})}function ke(e){H(x.value,e)}function Te(t,n,r=!1){Ee(t,n),z(d,t,n),r&&!(null===e||void 0===e?void 0:e.initialValues)&&z(O.value,t,w(n))}function Ee(e,t,n=!1){z(x.value,e,w(t)),n&&z(O.value,e,w(t))}async function Ce(){const e=(0,i.SU)(V);if(!e)return{valid:!0,results:{},errors:{}};l.value=!0;const t=C(e)||E(e)?await De(e,d):await Ae(e,d,{names:k.value,bailsMap:T.value});return l.value=!1,t}const xe=oe(((e,{evt:t})=>{M(t)&&t.target.submit()}));function Oe(e,t){const n=o(t)||null===t||void 0===t?void 0:t.label,s=Y((0,i.Tn)(e))||L(e,{label:n}),a=()=>o(t)?t(ne(s,Ze)):t||{};function l(){var e;s.touched=!0;const t=null!==(e=a().validateOnBlur)&&void 0!==e?e:ve().validateOnBlur;t&&Ie(s.path)}function u(){var e;const t=null!==(e=a().validateOnInput)&&void 0!==e?e:ve().validateOnInput;t&&(0,r.Y3)((()=>{Ie(s.path)}))}function c(){var e;const t=null!==(e=a().validateOnChange)&&void 0!==e?e:ve().validateOnChange;t&&(0,r.Y3)((()=>{Ie(s.path)}))}const d=(0,r.Fl)((()=>{const e={onChange:c,onInput:u,onBlur:l};return o(t)?Object.assign(Object.assign({},e),t(ne(s,Ze)).props||{}):(null===t||void 0===t?void 0:t.props)?Object.assign(Object.assign({},e),t.props(ne(s,Ze))):e})),h=fe(e,(()=>{var e,t,n;return null===(n=null!==(e=a().validateOnModelUpdate)&&void 0!==e?e:null===(t=ve())||void 0===t?void 0:t.validateOnModelUpdate)||void 0===n||n}));return[h,d]}function Ne(e){return Array.isArray(e)?e.map((e=>fe(e,!0))):fe(e)}function Pe(e,t){const[n,o]=Oe(e,t);function s(e){o.value.onBlur(e)}function a(t){const n=le(t);ce((0,i.Tn)(e),n,!1),o.value.onInput(t)}function l(t){const n=le(t);ce((0,i.Tn)(e),n,!1),o.value.onChange(t)}return(0,r.Fl)((()=>Object.assign(Object.assign({},o.value),{onBlur:s,onInput:a,onChange:l,value:n.value})))}function Fe(e,t){const[n,s]=Oe(e,t),a=Y((0,i.Tn)(e));function l(e){n.value=e}return(0,r.Fl)((()=>{const e=o(t)?t(ne(a,Ze)):t||{};return Object.assign({[e.model||"modelValue"]:n.value,[`onUpdate:${e.model||"modelValue"}`]:l},s.value)}))}return(0,r.bv)((()=>{(null===e||void 0===e?void 0:e.initialErrors)&&b(e.initialErrors),(null===e||void 0===e?void 0:e.initialTouched)&&be(e.initialTouched),(null===e||void 0===e?void 0:e.validateOnMount)?Se():ue.validateSchema&&ue.validateSchema("silent")})),(0,i.dq)(V)&&(0,r.YP)(V,(()=>{var e;null===(e=ue.validateSchema)||void 0===e||e.call(ue,"validated-only")})),(0,r.JJ)(_,ue),Object.assign(Object.assign({},ue),{values:(0,i.OT)(d),handleReset:()=>_e(),submitForm:xe})}function Xe(e,t,n,o){const s={touched:"some",pending:"some",valid:"every"},a=(0,r.Fl)((()=>!U(t,(0,i.SU)(n))));function l(){const t=e.value;return W(s).reduce(((e,n)=>{const r=s[n];return e[n]=t[r]((e=>e[n])),e}),{})}const u=(0,i.qj)(l());return(0,r.m0)((()=>{const e=l();u.touched=e.touched,u.valid=e.valid,u.pending=e.pending})),(0,r.Fl)((()=>Object.assign(Object.assign({initialValues:(0,i.SU)(n)},u),{valid:u.valid&&!W(o.value).length,dirty:a.value})))}function et(e,t,n){const r=Qe(n),o=(0,i.iH)(r),s=(0,i.iH)(w(r));function a(n,r=!1){o.value=f(w(o.value)||{},w(n)),s.value=f(w(s.value)||{},w(n)),r&&e.value.forEach((e=>{const n=e.touched;if(n)return;const r=$(o.value,e.path);z(t,e.path,w(r))}))}return{initialValues:o,originalInitialValues:s,setInitialValues:a}}function tt(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const nt=(0,r.aZ)({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=(0,i.Vh)(e,"validationSchema"),o=(0,i.Vh)(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:u,isSubmitting:c,isValidating:d,submitCount:h,controlledValues:f,validate:p,validateField:m,handleReset:g,resetForm:v,handleSubmit:y,setErrors:b,setFieldError:_,setFieldValue:S,setValues:I,setFieldTouched:k,setTouched:T,resetField:E}=Je({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),C=y(((e,{evt:t})=>{M(t)&&t.target.submit()}),e.onInvalidSubmit),D=e.onSubmit?y(e.onSubmit,e.onInvalidSubmit):C;function A(e){L(e)&&e.preventDefault(),g(),"function"===typeof t.attrs.onReset&&t.attrs.onReset()}function x(t,n){const r="function"!==typeof t||n?n:t;return y(r,e.onInvalidSubmit)(t)}function O(){return w(l)}function N(){return w(u.value)}function P(){return w(s.value)}function F(){return{meta:u.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:c.value,isValidating:d.value,submitCount:h.value,controlledValues:f.value,validate:p,validateField:m,handleSubmit:x,handleReset:g,submitForm:C,setErrors:b,setFieldError:_,setFieldValue:S,setValues:I,setFieldTouched:k,setTouched:T,resetForm:v,resetField:E,getValues:O,getMeta:N,getErrors:P}}return t.expose({setFieldError:_,setErrors:b,setFieldValue:S,setValues:I,setFieldTouched:k,setTouched:T,resetForm:v,validate:p,validateField:m,resetField:E,getValues:O,getMeta:N,getErrors:P,values:l,meta:u,errors:s}),function(){const n="form"===e.as?e.as:e.as?(0,r.LL)(e.as):null,i=ie(n,t,F);if(!n)return i;const o="form"===n?{novalidate:!0}:{};return(0,r.h)(n,Object.assign(Object.assign(Object.assign({},o),t.attrs),{onSubmit:D,onReset:A}),i)}}}),rt=nt;function it(e){const t=Y(_,void 0),n=(0,i.iH)([]),o=()=>{},a={fields:n,remove:o,push:o,swap:o,insert:o,update:o,replace:o,prepend:o,move:o};if(!t)return a;if(!(0,i.SU)(e))return a;const l=t.fieldArrays.find((t=>(0,i.SU)(t.path)===(0,i.SU)(e)));if(l)return l;let u=0;function c(){return $(null===t||void 0===t?void 0:t.values,(0,i.Tn)(e),[])||[]}function d(){const e=c();Array.isArray(e)&&(n.value=e.map(((e,t)=>f(e,t,n.value))),h())}function h(){const e=n.value.length;for(let t=0;t<e;t++){const r=n.value[t];r.isFirst=0===t,r.isLast=t===e-1}}function f(r,o,a){if(a&&!s(o)&&a[o])return a[o];const l=u++,c={key:l,value:X({get(){const o=$(null===t||void 0===t?void 0:t.values,(0,i.Tn)(e),[])||[],s=n.value.findIndex((e=>e.key===l));return-1===s?r:o[s]},set(e){const t=n.value.findIndex((e=>e.key===l));-1!==t&&S(t,e)}}),isFirst:!1,isLast:!1};return c}function p(){h(),null===t||void 0===t||t.validate({mode:"silent"})}function m(r){const o=(0,i.Tn)(e),s=$(null===t||void 0===t?void 0:t.values,o);if(!s||!Array.isArray(s))return;const a=[...s];a.splice(r,1);const l=o+`[${r}]`;t.destroyPath(l),t.unsetInitialValue(l),z(t.values,o,a),n.value.splice(r,1),p()}function g(r){const o=w(r),a=(0,i.Tn)(e),l=$(null===t||void 0===t?void 0:t.values,a),u=s(l)?[]:l;if(!Array.isArray(u))return;const c=[...u];c.push(o),t.stageInitialValue(a+`[${c.length-1}]`,o),z(t.values,a,c),n.value.push(f(o)),p()}function v(r,o){const s=(0,i.Tn)(e),a=$(null===t||void 0===t?void 0:t.values,s);if(!Array.isArray(a)||!(r in a)||!(o in a))return;const l=[...a],u=[...n.value],c=l[r];l[r]=l[o],l[o]=c;const d=u[r];u[r]=u[o],u[o]=d,z(t.values,s,l),n.value=u,h()}function y(r,o){const s=w(o),a=(0,i.Tn)(e),l=$(null===t||void 0===t?void 0:t.values,a);if(!Array.isArray(l)||l.length<r)return;const u=[...l],c=[...n.value];u.splice(r,0,s),c.splice(r,0,f(s)),z(t.values,a,u),n.value=c,p()}function b(n){const r=(0,i.Tn)(e);t.stageInitialValue(r,n),z(t.values,r,n),d(),p()}function S(n,r){const o=(0,i.Tn)(e),s=$(null===t||void 0===t?void 0:t.values,o);!Array.isArray(s)||s.length-1<n||(z(t.values,`${o}[${n}]`,r),null===t||void 0===t||t.validate({mode:"validated-only"}))}function I(r){const o=w(r),a=(0,i.Tn)(e),l=$(null===t||void 0===t?void 0:t.values,a),u=s(l)?[]:l;if(!Array.isArray(u))return;const c=[o,...u];z(t.values,a,c),t.stageInitialValue(a+"[0]",o),n.value.unshift(f(o)),p()}function k(r,o){const a=(0,i.Tn)(e),l=$(null===t||void 0===t?void 0:t.values,a),u=s(l)?[]:[...l];if(!Array.isArray(l)||!(r in l)||!(o in l))return;const c=[...n.value],d=c[r];c.splice(r,1),c.splice(o,0,d);const h=u[r];u.splice(r,1),u.splice(o,0,h),z(t.values,a,u),n.value=c,p()}d();const T={fields:n,remove:m,push:g,swap:v,insert:y,update:S,replace:b,prepend:I,move:k};return t.fieldArrays.push(Object.assign({path:e,reset:d},T)),(0,r.Jd)((()=>{const n=t.fieldArrays.findIndex((t=>(0,i.Tn)(t.path)===(0,i.Tn)(e)));n>=0&&t.fieldArrays.splice(n,1)})),(0,r.YP)(c,(e=>{const t=n.value.map((e=>e.value));U(e,t)||d()})),T}const ot=(0,r.aZ)({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:i,insert:o,replace:s,update:a,prepend:l,move:u,fields:c}=it((()=>e.name));function d(){return{fields:c.value,push:n,remove:r,swap:i,insert:o,update:a,replace:s,prepend:l,move:u}}return t.expose({push:n,remove:r,swap:i,insert:o,update:a,replace:s,prepend:l,move:u}),()=>{const e=ie(void 0,t,d);return e}}}),st=ot,at=(0,r.aZ)({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=(0,r.f3)(_,void 0),i=(0,r.Fl)((()=>null===n||void 0===n?void 0:n.errors.value[e.name]));function o(){return{message:i.value}}return()=>{if(!i.value)return;const n=e.as?(0,r.LL)(e.as):e.as,s=ie(n,t,o),a=Object.assign({role:"alert"},t.attrs);return n||!Array.isArray(s)&&s||!(null===s||void 0===s?void 0:s.length)?!Array.isArray(s)&&s||(null===s||void 0===s?void 0:s.length)?(0,r.h)(n,a,s):(0,r.h)(n||"span",a,i.value):s}}}),lt=at;function ut(){const e=Y(_);return function(t){if(e)return e.resetForm(t)}}function ct(e){const t=te(e);return(0,r.Fl)((()=>{var e,n;return!!t&&(null!==(n="meta"in t?t.meta.dirty:null===(e=null===t||void 0===t?void 0:t.value)||void 0===e?void 0:e.dirty)&&void 0!==n&&n)}))}function dt(e){const t=te(e);return(0,r.Fl)((()=>{var e,n;return!!t&&(null!==(n="meta"in t?t.meta.touched:null===(e=null===t||void 0===t?void 0:t.value)||void 0===e?void 0:e.touched)&&void 0!==n&&n)}))}function ht(e){const t=te(e);return(0,r.Fl)((()=>{var e,n;return!!t&&(null!==(n="meta"in t?t.meta.valid:null===(e=null===t||void 0===t?void 0:t.value)||void 0===e?void 0:e.valid)&&void 0!==n&&n)}))}function ft(){const e=Y(_);return(0,r.Fl)((()=>{var t;return null!==(t=null===e||void 0===e?void 0:e.isSubmitting.value)&&void 0!==t&&t}))}function pt(){const e=Y(_);return(0,r.Fl)((()=>{var t;return null!==(t=null===e||void 0===e?void 0:e.isValidating.value)&&void 0!==t&&t}))}function mt(e){const t=Y(_),n=e?void 0:(0,r.f3)(S);return function(){return n?n.validate():t&&e?null===t||void 0===t?void 0:t.validateField((0,i.Tn)(e)):Promise.resolve({errors:[],valid:!0})}}function gt(){const e=Y(_);return(0,r.Fl)((()=>{var t;return null!==(t=null===e||void 0===e?void 0:e.meta.value.dirty)&&void 0!==t&&t}))}function vt(){const e=Y(_);return(0,r.Fl)((()=>{var t;return null!==(t=null===e||void 0===e?void 0:e.meta.value.touched)&&void 0!==t&&t}))}function yt(){const e=Y(_);return(0,r.Fl)((()=>{var t;return null!==(t=null===e||void 0===e?void 0:e.meta.value.valid)&&void 0!==t&&t}))}function bt(){const e=Y(_);return function(){return e?e.validate():Promise.resolve({results:{},errors:{},valid:!0})}}function wt(){const e=Y(_);return(0,r.Fl)((()=>{var t;return null!==(t=null===e||void 0===e?void 0:e.submitCount.value)&&void 0!==t?t:0}))}function _t(e){const t=Y(_),n=e?void 0:(0,r.f3)(S);return(0,r.Fl)((()=>e?$(null===t||void 0===t?void 0:t.values,(0,i.Tn)(e)):(0,i.Tn)(null===n||void 0===n?void 0:n.value)))}function St(){const e=Y(_);return(0,r.Fl)((()=>(null===e||void 0===e?void 0:e.values)||{}))}function It(){const e=Y(_);return(0,r.Fl)((()=>(null===e||void 0===e?void 0:e.errors.value)||{}))}function kt(e){const t=Y(_),n=e?void 0:(0,r.f3)(S);return(0,r.Fl)((()=>e?null===t||void 0===t?void 0:t.errors.value[(0,i.Tn)(e)]:null===n||void 0===n?void 0:n.errorMessage.value))}function Tt(e){const t=Y(_),n=t?t.handleSubmit(e):void 0;return function(e){if(n)return n(e)}}function Et(e){const t=Y(_),n=e?void 0:(0,r.f3)(S);return function(r){e&&t?t.setFieldError((0,i.Tn)(e),r):n&&n.setErrors(r||[])}}function Ct(e){const t=Y(_),n=e?void 0:(0,r.f3)(S);return function(r){e&&t?t.setFieldTouched((0,i.Tn)(e),r):n&&n.setTouched(r)}}function Dt(e){const t=Y(_),n=e?void 0:(0,r.f3)(S);return function(r,o=!0){e&&t?t.setFieldValue((0,i.Tn)(e),r,o):n&&n.setValue(r,o)}}function At(){const e=Y(_);function t(t){e&&e.setErrors(t)}return t}function xt(){const e=Y(_);function t(t){e&&e.setTouched(t)}return t}function Ot(){const e=Y(_);function t(t,n=!0){e&&e.setValues(t,n)}return t}},3744:function(e,t){t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},894:function(e,t,n){n.d(t,{MT:function(){return q}});var r=n(6252),i=n(2262),o=n(5689),s="store";function a(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function l(e){return null!==e&&"object"===typeof e}function u(e){return e&&"function"===typeof e.then}function c(e,t){return function(){return e(t)}}function d(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function h(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;p(e,n,[],e._modules.root,!0),f(e,n,t)}function f(e,t,n){var o=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var l=e._wrappedGetters,u={},d={},h=(0,i.B)(!0);h.run((function(){a(l,(function(t,n){u[n]=c(t,e),d[n]=(0,r.Fl)((function(){return u[n]()})),Object.defineProperty(e.getters,n,{get:function(){return d[n].value},enumerable:!0})}))})),e._state=(0,i.qj)({data:t}),e._scope=h,e.strict&&w(e),o&&n&&e._withCommit((function(){o.data=null})),s&&s.stop()}function p(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=_(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){a[l]=r.state}))}var u=r.context=m(e,s,n);r.forEachMutation((function(t,n){var r=s+n;v(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,i=t.handler||t;y(e,r,i,u)})),r.forEachGetter((function(t,n){var r=s+n;b(e,r,t,u)})),r.forEachChild((function(r,o){p(e,t,n.concat(o),r,i)}))}function m(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=S(n,r,i),s=o.payload,a=o.options,l=o.type;return a&&a.root||(l=t+l),e.dispatch(l,s)},commit:r?e.commit:function(n,r,i){var o=S(n,r,i),s=o.payload,a=o.options,l=o.type;a&&a.root||(l=t+l),e.commit(l,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return g(e,t)}},state:{get:function(){return _(e.state,n)}}}),i}function g(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function v(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function y(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return u(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function b(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function w(e){(0,r.YP)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function _(e,t){return t.reduce((function(e,t){return e[t]}),e)}function S(e,t,n){return l(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var I="vuex bindings",k="vuex:mutations",T="vuex:actions",E="vuex",C=0;function D(e,t){(0,o.F1)({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[I]},(function(n){n.addTimelineLayer({id:k,label:"Vuex Mutations",color:A}),n.addTimelineLayer({id:T,label:"Vuex Actions",color:A}),n.addInspector({id:E,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===E)if(n.filter){var r=[];V(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[F(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===E){var r=n.nodeId;g(t,r),n.state=M(R(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===E){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(E),n.sendInspectorState(E),n.addTimelineEvent({layerId:k,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=C++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:T,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:T,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var A=8702998,x=6710886,O=16777215,N={label:"namespaced",textColor:O,backgroundColor:x};function P(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function F(e,t){return{id:t||"root",label:P(t),tags:e.namespaced?[N]:[],children:Object.keys(e._children).map((function(n){return F(e._children[n],t+n+"/")}))}}function V(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[N]:[]}),Object.keys(t._children).forEach((function(i){V(e,t._children[i],n,r+i+"/")}))}function M(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var o=L(t);i.getters=Object.keys(o).map((function(e){return{key:e.endsWith("/")?P(e):e,editable:!1,value:U((function(){return o[e]}))}}))}return i}function L(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[o]=U((function(){return e[n]}))}else t[n]=U((function(){return e[n]}))})),t}function R(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var o=e[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?o:o._children}),"root"===t?e:e.root._children)}function U(e){try{return e()}catch(t){return t}}var j=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},B={namespaced:{configurable:!0}};B.namespaced.get=function(){return!!this._rawModule.namespaced},j.prototype.addChild=function(e,t){this._children[e]=t},j.prototype.removeChild=function(e){delete this._children[e]},j.prototype.getChild=function(e){return this._children[e]},j.prototype.hasChild=function(e){return e in this._children},j.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},j.prototype.forEachChild=function(e){a(this._children,e)},j.prototype.forEachGetter=function(e){this._rawModule.getters&&a(this._rawModule.getters,e)},j.prototype.forEachAction=function(e){this._rawModule.actions&&a(this._rawModule.actions,e)},j.prototype.forEachMutation=function(e){this._rawModule.mutations&&a(this._rawModule.mutations,e)},Object.defineProperties(j.prototype,B);var $=function(e){this.register([],e,!1)};function z(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;z(e.concat(r),t.getChild(r),n.modules[r])}}$.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},$.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},$.prototype.update=function(e){z([],this.root,e)},$.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new j(t,n);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&a(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},$.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},$.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function q(e){return new H(e)}var H=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new $(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,s=this,a=s.dispatch,l=s.commit;this.dispatch=function(e,t){return a.call(o,e,t)},this.commit=function(e,t,n){return l.call(o,e,t,n)},this.strict=r;var u=this._modules.root.state;p(this,u,[],this._modules.root),f(this,u),n.forEach((function(e){return e(t)}))},W={state:{configurable:!0}};H.prototype.install=function(e,t){e.provide(t||s,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&D(e,this)},W.state.get=function(){return this._state.data},W.state.set=function(e){0},H.prototype.commit=function(e,t,n){var r=this,i=S(e,t,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},H.prototype.dispatch=function(e,t){var n=this,r=S(e,t),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(u){0}var l=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(u){0}t(e)}))}))}},H.prototype.subscribe=function(e,t){return d(e,this._subscribers,t)},H.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return d(n,this._actionSubscribers,t)},H.prototype.watch=function(e,t,n){var i=this;return(0,r.YP)((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},H.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},H.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),p(this,this.state,e,this._modules.get(e),n.preserveState),f(this,this.state)},H.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=_(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),h(this)},H.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},H.prototype.hotUpdate=function(e){this._modules.update(e),h(this,!0)},H.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(H.prototype,W);K((function(e,t){var n={};return Y(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=Z(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),K((function(e,t){var n={};return Y(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=Z(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),K((function(e,t){var n={};return Y(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||Z(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),K((function(e,t){var n={};return Y(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=Z(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function Y(e){return G(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function G(e){return Array.isArray(e)||l(e)}function K(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function Z(e,t,n){var r=e._modulesNamespaceMap[n];return r}},509:function(e,t,n){var r=n(9985),i=n(3691),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},5027:function(e,t,n){var r=n(8999),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},4328:function(e,t,n){var r=n(5290),i=n(7578),o=n(6310),s=function(e){return function(t,n,s){var a,l=r(t),u=o(l),c=i(s,u);if(e&&n!==n){while(u>c)if(a=l[c++],a!==a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},5649:function(e,t,n){var r=n(7697),i=n(2297),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6648:function(e,t,n){var r=n(8844),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},8758:function(e,t,n){var r=n(6812),i=n(9152),o=n(2474),s=n(2560);e.exports=function(e,t,n){for(var a=i(t),l=s.f,u=o.f,c=0;c<a.length;c++){var d=a[c];r(e,d)||n&&r(n,d)||l(e,d,u(t,d))}}},5773:function(e,t,n){var r=n(7697),i=n(2560),o=n(5684);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},5684:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},1880:function(e,t,n){var r=n(9985),i=n(2560),o=n(8702),s=n(5014);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&o(n,u,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},5014:function(e,t,n){var r=n(9037),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},7697:function(e,t,n){var r=n(3689);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6420:function(e,t,n){var r=n(9037),i=n(8999),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},5565:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},71:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(e,t,n){var r,i,o=n(9037),s=n(71),a=o.process,l=o.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(r=c.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},2739:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(e,t,n){var r=n(9037),i=n(2474).f,o=n(5773),s=n(1880),a=n(5014),l=n(8758),u=n(5266);e.exports=function(e,t){var n,c,d,h,f,p,m=e.target,g=e.global,v=e.stat;if(c=g?r:v?r[m]||a(m,{}):r[m]&&r[m].prototype,c)for(d in t){if(f=t[d],e.dontCallGetSet?(p=i(c,d),h=p&&p.value):h=c[d],n=u(g?d:m+(v?".":"#")+d,e.forced),!n&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(e.sham||h&&h.sham)&&o(f,"sham",!0),s(c,d,f,e)}}},3689:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},7215:function(e,t,n){var r=n(3689);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2615:function(e,t,n){var r=n(7215),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(e,t,n){var r=n(7697),i=n(6812),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},8844:function(e,t,n){var r=n(7215),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},6058:function(e,t,n){var r=n(9037),i=n(9985),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},4849:function(e,t,n){var r=n(509),i=n(981);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},9037:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(e,t,n){var r=n(8844),i=n(690),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7248:function(e){e.exports={}},8506:function(e,t,n){var r=n(7697),i=n(3689),o=n(6420);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4413:function(e,t,n){var r=n(8844),i=n(3689),o=n(6648),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):s(e)}:s},6738:function(e,t,n){var r=n(8844),i=n(9985),o=n(4091),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},618:function(e,t,n){var r,i,o,s=n(9834),a=n(9037),l=n(8999),u=n(5773),c=n(6812),d=n(4091),h=n(2713),f=n(7248),p="Object already initialized",m=a.TypeError,g=a.WeakMap,v=function(e){return o(e)?i(e):r(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var b=d.state||(d.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(e,t){if(b.has(e))throw new m(p);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},o=function(e){return b.has(e)}}else{var w=h("state");f[w]=!0,r=function(e,t){if(c(e,w))throw new m(p);return t.facade=e,u(e,w,t),t},i=function(e){return c(e,w)?e[w]:{}},o=function(e){return c(e,w)}}e.exports={set:r,get:i,has:o,enforce:v,getterFor:y}},2297:function(e,t,n){var r=n(6648);e.exports=Array.isArray||function(e){return"Array"===r(e)}},9985:function(e){var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},5266:function(e,t,n){var r=n(3689),i=n(9985),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n===c||n!==u&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},981:function(e){e.exports=function(e){return null===e||void 0===e}},8999:function(e,t,n){var r=n(9985);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},3931:function(e){e.exports=!1},734:function(e,t,n){var r=n(6058),i=n(9985),o=n(3622),s=n(9525),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},6310:function(e,t,n){var r=n(3126);e.exports=function(e){return r(e.length)}},8702:function(e,t,n){var r=n(8844),i=n(3689),o=n(9985),s=n(6812),a=n(7697),l=n(1236).CONFIGURABLE,u=n(6738),c=n(618),d=c.enforce,h=c.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&s(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=d(e);return s(r,"source")||(r.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&h(this).source||u(this)}),"toString")},8828:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},2560:function(e,t,n){var r=n(7697),i=n(8506),o=n(5648),s=n(5027),a=n(8360),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=c(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2474:function(e,t,n){var r=n(7697),i=n(2615),o=n(9556),s=n(5684),a=n(5290),l=n(8360),u=n(6812),c=n(8506),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=l(t),c)try{return d(e,t)}catch(n){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},2741:function(e,t,n){var r=n(4948),i=n(2739),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},7518:function(e,t){t.f=Object.getOwnPropertySymbols},3622:function(e,t,n){var r=n(8844);e.exports=r({}.isPrototypeOf)},4948:function(e,t,n){var r=n(8844),i=n(6812),o=n(5290),s=n(4328).indexOf,a=n(7248),l=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,c=[];for(n in r)!i(a,n)&&i(r,n)&&l(c,n);while(t.length>u)i(r,n=t[u++])&&(~s(c,n)||l(c,n));return c}},9556:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},5899:function(e,t,n){var r=n(2615),i=n(9985),o=n(8999),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw new s("Can't convert object to primitive value")}},9152:function(e,t,n){var r=n(6058),i=n(8844),o=n(2741),s=n(7518),a=n(5027),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},4684:function(e,t,n){var r=n(981),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},2713:function(e,t,n){var r=n(3430),i=n(4630),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},4091:function(e,t,n){var r=n(9037),i=n(5014),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},3430:function(e,t,n){var r=n(3931),i=n(4091);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},146:function(e,t,n){var r=n(3615),i=n(3689),o=n(9037),s=o.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},7578:function(e,t,n){var r=n(8700),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5290:function(e,t,n){var r=n(4413),i=n(4684);e.exports=function(e){return r(i(e))}},8700:function(e,t,n){var r=n(8828);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},3126:function(e,t,n){var r=n(8700),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},690:function(e,t,n){var r=n(4684),i=Object;e.exports=function(e){return i(r(e))}},8732:function(e,t,n){var r=n(2615),i=n(8999),o=n(734),s=n(4849),a=n(5899),l=n(4201),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=s(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},8360:function(e,t,n){var r=n(8732),i=n(734);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},3691:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},4630:function(e,t,n){var r=n(8844),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},9525:function(e,t,n){var r=n(146);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(e,t,n){var r=n(7697),i=n(3689);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9834:function(e,t,n){var r=n(9037),i=n(9985),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},4201:function(e,t,n){var r=n(9037),i=n(3430),o=n(6812),s=n(4630),a=n(146),l=n(9525),u=r.Symbol,c=i("wks"),d=l?u["for"]||u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)||(c[e]=a&&o(u,e)?u[e]:d("Symbol."+e)),c[e]}},560:function(e,t,n){var r=n(9989),i=n(690),o=n(6310),s=n(5649),a=n(5565),l=n(3689),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!c();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=i(this),n=o(t),r=arguments.length;a(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return s(t,n),n}})},5816:function(e,t,n){n.d(t,{Jn:function(){return ge},qX:function(){return de},Xd:function(){return ce},wN:function(){return he},Mq:function(){return ye},ZF:function(){return ve},KN:function(){return be}});var r=n(8463),i=n(3333),o=n(4444);const s=(e,t)=>t.some((t=>e instanceof t));let a,l;function u(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap;function g(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(S(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&d.set(t,e)})).catch((()=>{})),m.set(t,e),t}function v(e){if(h.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));h.set(e,t)}let y={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return S(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function b(e){y=e(y)}function w(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?c().includes(e)?function(...t){return e.apply(I(this),t),S(d.get(this))}:function(...t){return S(e.apply(I(this),t))}:function(t,...n){const r=e.call(I(this),t,...n);return f.set(r,t.sort?t.sort():[t]),S(r)}}function _(e){return"function"===typeof e?w(e):(e instanceof IDBTransaction&&v(e),s(e,u())?new Proxy(e,y):e)}function S(e){if(e instanceof IDBRequest)return g(e);if(p.has(e))return p.get(e);const t=_(e);return t!==e&&(p.set(e,t),m.set(t,e)),t}const I=e=>m.get(e);function k(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=S(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(S(s.result),e.oldVersion,e.newVersion,S(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const T=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],C=new Map;function D(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(C.get(t))return C.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!T.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return C.set(t,o),o}b((e=>({...e,get:(t,n,r)=>D(t,n)||e.get(t,n,r),has:(t,n)=>!!D(t,n)||e.has(t,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class A{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(x(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}function x(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const O="@firebase/app",N="0.9.26",P=new i.Yd("@firebase/app"),F="@firebase/app-compat",V="@firebase/analytics-compat",M="@firebase/analytics",L="@firebase/app-check-compat",R="@firebase/app-check",U="@firebase/auth",j="@firebase/auth-compat",B="@firebase/database",$="@firebase/database-compat",z="@firebase/functions",q="@firebase/functions-compat",H="@firebase/installations",W="@firebase/installations-compat",Y="@firebase/messaging",G="@firebase/messaging-compat",K="@firebase/performance",Z="@firebase/performance-compat",Q="@firebase/remote-config",J="@firebase/remote-config-compat",X="@firebase/storage",ee="@firebase/storage-compat",te="@firebase/firestore",ne="@firebase/firestore-compat",re="firebase",ie="10.7.2",oe="[DEFAULT]",se={[O]:"fire-core",[F]:"fire-core-compat",[M]:"fire-analytics",[V]:"fire-analytics-compat",[R]:"fire-app-check",[L]:"fire-app-check-compat",[U]:"fire-auth",[j]:"fire-auth-compat",[B]:"fire-rtdb",[$]:"fire-rtdb-compat",[z]:"fire-fn",[q]:"fire-fn-compat",[H]:"fire-iid",[W]:"fire-iid-compat",[Y]:"fire-fcm",[G]:"fire-fcm-compat",[K]:"fire-perf",[Z]:"fire-perf-compat",[Q]:"fire-rc",[J]:"fire-rc-compat",[X]:"fire-gcs",[ee]:"fire-gcs-compat",[te]:"fire-fst",[ne]:"fire-fst-compat","fire-js":"fire-js",[re]:"fire-js-all"},ae=new Map,le=new Map;function ue(e,t){try{e.container.addComponent(t)}catch(n){P.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ce(e){const t=e.name;if(le.has(t))return P.debug(`There were multiple attempts to register component ${t}.`),!1;le.set(t,e);for(const n of ae.values())ue(n,e);return!0}function de(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function he(e,t,n=oe){de(e,t).clearInstance(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fe={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pe=new o.LL("app","Firebase",fe);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class me{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pe.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=ie;function ve(e,t={}){let n=e;if("object"!==typeof t){const e=t;t={name:e}}const i=Object.assign({name:oe,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!==typeof s||!s)throw pe.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.aH)()),!n)throw pe.create("no-options");const a=ae.get(s);if(a){if((0,o.vZ)(n,a.options)&&(0,o.vZ)(i,a.config))return a;throw pe.create("duplicate-app",{appName:s})}const l=new r.H0(s);for(const r of le.values())l.addComponent(r);const u=new me(n,i,l);return ae.set(s,u),u}function ye(e=oe){const t=ae.get(e);if(!t&&e===oe&&(0,o.aH)())return ve();if(!t)throw pe.create("no-app",{appName:e});return t}function be(e,t,n){var i;let o=null!==(i=se[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void P.warn(e.join(" "))}ce(new r.wA(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const we="firebase-heartbeat-database",_e=1,Se="firebase-heartbeat-store";let Ie=null;function ke(){return Ie||(Ie=k(we,_e,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Se)}catch(n){console.warn(n)}}}}).catch((e=>{throw pe.create("idb-open",{originalErrorMessage:e.message})}))),Ie}async function Te(e){try{const t=await ke(),n=await t.transaction(Se).objectStore(Se).get(Ce(e));return n}catch(t){if(t instanceof o.ZR)P.warn(t.message);else{const e=pe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});P.warn(e.message)}}}async function Ee(e,t){try{const n=await ke(),r=n.transaction(Se,"readwrite"),i=r.objectStore(Se);await i.put(t,Ce(e)),await r.done}catch(n){if(n instanceof o.ZR)P.warn(n.message);else{const e=pe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});P.warn(e.message)}}}function Ce(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=1024,Ae=2592e6;class xe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=Oe();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf(),n=Date.now();return n-t<=Ae})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Oe(),{heartbeatsToSend:n,unsentEntries:r}=Ne(this._heartbeatsCache.heartbeats),i=(0,o.L)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Oe(){const e=new Date;return e.toISOString().substring(0,10)}function Ne(e,t=De){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Fe(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.hl)()&&(0,o.eu)().then((()=>!0)).catch((()=>!1))}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await Te(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ee(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ee(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fe(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(e){ce(new r.wA("platform-logger",(e=>new A(e)),"PRIVATE")),ce(new r.wA("heartbeat",(e=>new xe(e)),"PRIVATE")),be(O,N,e),be(O,N,"esm2017"),be("fire-js","")}Ve("")},8463:function(e,t,n){n.d(t,{H0:function(){return u},wA:function(){return i}});var r=n(4444);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(l(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(i);n===e&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(e){return e===o?void 0:e}function l(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},3333:function(e,t,n){n.d(t,{Yd:function(){return u},in:function(){return i}});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var i;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}},3977:function(e,t,n){n.d(t,{ZF:function(){return r.ZF}});var r=n(5816),i="firebase",o="10.7.2";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,r.KN)(i,o,"app")},316:function(e,t,n){n.r(t),n.d(t,{ActionCodeOperation:function(){return h},ActionCodeURL:function(){return Mt},AuthCredential:function(){return dt},AuthErrorCodes:function(){return y},EmailAuthCredential:function(){return kt},EmailAuthProvider:function(){return Rt},FacebookAuthProvider:function(){return $t},FactorId:function(){return l},GithubAuthProvider:function(){return qt},GoogleAuthProvider:function(){return zt},OAuthCredential:function(){return Ct},OAuthProvider:function(){return Bt},OperationType:function(){return d},PhoneAuthCredential:function(){return Pt},PhoneAuthProvider:function(){return bi},PhoneMultiFactorGenerator:function(){return Vo},ProviderId:function(){return u},RecaptchaVerifier:function(){return di},SAMLAuthProvider:function(){return Gt},SignInMethod:function(){return c},TotpMultiFactorGenerator:function(){return Mo},TotpSecret:function(){return Ro},TwitterAuthProvider:function(){return Kt},applyActionCode:function(){return _n},beforeAuthStateChanged:function(){return Zn},browserLocalPersistence:function(){return wr},browserPopupRedirectResolver:function(){return No},browserSessionPersistence:function(){return Sr},checkActionCode:function(){return Sn},confirmPasswordReset:function(){return wn},connectAuthEmulator:function(){return st},createUserWithEmailAndPassword:function(){return kn},debugErrorMap:function(){return m},deleteUser:function(){return nr},fetchSignInMethodsForEmail:function(){return xn},getAdditionalUserInfo:function(){return Hn},getAuth:function(){return Ko},getIdToken:function(){return re},getIdTokenResult:function(){return ie},getMultiFactorResolver:function(){return or},getRedirectResult:function(){return Hi},inMemoryPersistence:function(){return ke},indexedDBLocalPersistence:function(){return Yr},initializeAuth:function(){return it},initializeRecaptchaConfig:function(){return Yn},isSignInWithEmailLink:function(){return Cn},linkWithCredential:function(){return cn},linkWithPhoneNumber:function(){return mi},linkWithPopup:function(){return Ai},linkWithRedirect:function(){return zi},multiFactor:function(){return fr},onAuthStateChanged:function(){return Qn},onIdTokenChanged:function(){return Kn},parseActionCodeURL:function(){return Lt},prodErrorMap:function(){return g},reauthenticateWithCredential:function(){return dn},reauthenticateWithPhoneNumber:function(){return gi},reauthenticateWithPopup:function(){return Di},reauthenticateWithRedirect:function(){return Bi},reload:function(){return fe},revokeAccessToken:function(){return tr},sendEmailVerification:function(){return On},sendPasswordResetEmail:function(){return bn},sendSignInLinkToEmail:function(){return En},setPersistence:function(){return Wn},signInAnonymously:function(){return Xt},signInWithCredential:function(){return un},signInWithCustomToken:function(){return fn},signInWithEmailAndPassword:function(){return Tn},signInWithEmailLink:function(){return Dn},signInWithPhoneNumber:function(){return pi},signInWithPopup:function(){return Ci},signInWithRedirect:function(){return Ui},signOut:function(){return er},unlink:function(){return rn},updateCurrentUser:function(){return Xn},updateEmail:function(){return Vn},updatePassword:function(){return Mn},updatePhoneNumber:function(){return yi},updateProfile:function(){return Fn},useDeviceLanguage:function(){return Jn},validatePassword:function(){return Gn},verifyBeforeUpdateEmail:function(){return Nn},verifyPasswordResetCode:function(){return In}});var r=n(4444),i=n(5816),o=n(3333);function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(8463);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l={PHONE:"phone",TOTP:"totp"},u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},c={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},d={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},h={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is incorrect, malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend.",["unsupported-password-policy-schema-version"]:"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",["password-does-not-meet-requirements"]:"The password does not meet the requirements."}}function p(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m=f,g=p,v=new r.LL("auth","Firebase",p()),y={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},b=new o.Yd("@firebase/auth");function w(e,...t){b.logLevel<=o["in"].WARN&&b.warn(`Auth (${i.Jn}): ${e}`,...t)}function _(e,...t){b.logLevel<=o["in"].ERROR&&b.error(`Auth (${i.Jn}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(e,...t){throw E(e,...t)}function I(e,...t){return E(e,...t)}function k(e,t,n){const i=Object.assign(Object.assign({},g()),{[t]:n}),o=new r.LL("auth","Firebase",i);return o.create(t,{appName:e.name})}function T(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&S(e,"argument-error"),k(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return v.create(e,...t)}function C(e,t,...n){if(!e)throw E(t,...n)}function D(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _(t),new Error(t)}function A(e,t){e||D(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function O(){return"http:"===N()||"https:"===N()}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(O()||(0,r.ru)()||"connection"in navigator))||navigator.onLine}function F(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e,t){this.shortDelay=e,this.longDelay=t,A(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return P()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e,t){A(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void D("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void D("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void D("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["INVALID_LOGIN_CREDENTIALS"]:"invalid-credential",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["PASSWORD_DOES_NOT_MEET_REQUIREMENTS"]:"password-does-not-meet-requirements",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},U=new V(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function B(e,t,n,i,o={}){return $(e,o,(async()=>{let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),L.fetch()(q(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))}async function $(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},R),t);try{const t=new W(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Y(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Y(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Y(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Y(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw k(e,a,s);S(e,a)}}catch(o){if(o instanceof r.ZR)throw o;S(e,"network-request-failed",{message:String(o)})}}async function z(e,t,n,r,i={}){const o=await B(e,t,n,r,i);return"mfaPendingCredential"in o&&S(e,"multi-factor-auth-required",{_serverResponse:o}),o}function q(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?M(e.config,i):`${e.config.apiScheme}://${i}`}function H(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(I(this.auth,"network-request-failed"))),U.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Y(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=I(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e){return void 0!==e&&void 0!==e.getResponse}function K(e){return void 0!==e&&void 0!==e.enterprise}class Z{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q(e){return(await B(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function J(e,t){return B(e,"GET","/v2/recaptchaConfig",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X(e,t){return B(e,"POST","/v1/accounts:delete",t)}async function ee(e,t){return B(e,"POST","/v1/accounts:update",t)}async function te(e,t){return B(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e,t=!1){return(0,r.m9)(e).getIdToken(t)}async function ie(e,t=!1){const n=(0,r.m9)(e),i=await n.getIdToken(t),o=se(i);C(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s["sign_in_provider"];return{claims:o,token:i,authTime:ne(oe(o.auth_time)),issuedAtTime:ne(oe(o.iat)),expirationTime:ne(oe(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s["sign_in_second_factor"])||null}}function oe(e){return 1e3*Number(e)}function se(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return _("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(n);return e?JSON.parse(e):(_("Failed to decode base64 JWT payload"),null)}catch(o){return _("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function ae(e){const t=se(e);return C(t,"internal-error"),C("undefined"!==typeof t.exp,"internal-error"),C("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function le(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof r.ZR&&ue(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function ue({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ne(this.lastLoginAt),this.creationTime=ne(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function he(e){var t;const n=e.auth,r=await e.getIdToken(),i=await le(e,te(n,{idToken:r}));C(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?me(o.providerUserInfo):[],a=pe(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new de(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function fe(e){const t=(0,r.m9)(e);await he(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pe(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}function me(e){return e.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ge(e,t){const n=await $(e,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=q(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ve(e,t){return B(e,"POST","/v2/accounts:revokeToken",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C("undefined"!==typeof e.idToken,"internal-error"),C("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ae(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return C(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await ge(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ye;return n&&(C("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(C("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(C("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ye,this.toJSON())}_performRefresh(){return D("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e,t){C("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class we{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new de(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await le(this,this.stsTokenManager.getToken(this.auth,e));return C(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ie(this,e)}reload(){return fe(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new we(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await he(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await le(this,X(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;C(y&&S,e,"internal-error");const I=ye.fromJSON(this.name,S);C("string"===typeof y,e,"internal-error"),be(c,e.name),be(d,e.name),C("boolean"===typeof b,e,"internal-error"),C("boolean"===typeof w,e,"internal-error"),be(h,e.name),be(f,e.name),be(p,e.name),be(m,e.name),be(g,e.name),be(v,e.name);const k=new we({uid:y,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new ye;r.updateFromServerResponse(t);const i=new we({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await he(i),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=new Map;function Se(e){A(e instanceof Function,"Expected a class definition");let t=_e.get(e);return t?(A(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_e.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ie.type="NONE";const ke=Ie;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e,t,n){return`firebase:${e}:${t}:${n}`}class Ee{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Te(this.userKey,r.apiKey,i),this.fullPersistenceKey=Te("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?we._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ee(Se(ke),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Se(ke);const o=Te(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(o);if(t){const n=we._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Ee(i,e,n)):new Ee(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(De(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pe(t))return"Blackberry";if(Fe(t))return"Webos";if(Ae(t))return"Safari";if((t.includes("chrome/")||xe(t))&&!t.includes("edge/"))return"Chrome";if(Ne(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function De(e=(0,r.z$)()){return/firefox\//i.test(e)}function Ae(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xe(e=(0,r.z$)()){return/crios\//i.test(e)}function Oe(e=(0,r.z$)()){return/iemobile/i.test(e)}function Ne(e=(0,r.z$)()){return/android/i.test(e)}function Pe(e=(0,r.z$)()){return/blackberry/i.test(e)}function Fe(e=(0,r.z$)()){return/webos/i.test(e)}function Ve(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Me(e=(0,r.z$)()){var t;return Ve(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Le(){return(0,r.w1)()&&10===document.documentMode}function Re(e=(0,r.z$)()){return Ve(e)||Ne(e)||Fe(e)||Pe(e)||/windows phone/i.test(e)||Oe(e)}function Ue(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(e,t=[]){let n;switch(e){case"Browser":n=Ce((0,r.z$)());break;case"Worker":n=`${Ce((0,r.z$)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${o}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{const r=e(t);n(r)}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $e(e,t={}){return B(e,"GET","/v2/passwordPolicy",j(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze=6;class qe{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:ze,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ye(this),this.idTokenSubscription=new Ye(this),this.beforeStateQueue=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Se(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ee.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return C(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await he(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&C(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&C(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Se(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $e(this),t=new qe(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};null!=this.tenantId&&(n.tenantId=this.tenantId),await ve(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Se(e)||this._popupRedirectResolver;C(t,this,"argument-error"),this.redirectPersistenceManager=await Ee.create(this,[Se(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(C(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=je(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&w(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function We(e){return(0,r.m9)(e)}class Ye{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function Ke(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=I("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",Ge().appendChild(r)}))}function Ze(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Qe="https://www.google.com/recaptcha/enterprise.js?render=",Je="recaptcha-enterprise",Xe="NO_RECAPTCHA";class et{constructor(e){this.type=Je,this.auth=We(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{J(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Z(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))}function r(t,n,r){const i=window.grecaptcha;K(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Xe)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{n(this.auth).then((n=>{if(!t&&K(window.grecaptcha))r(n,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));Ke(Qe+n).then((()=>{r(n,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function tt(e,t,n,r=!1){const i=new et(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function nt(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await tt(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await tt(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}async function rt(e){const t=We(e),n=await J(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Z(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const e=new et(t);e.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(e,t){const n=(0,i.qX)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!==t&&void 0!==t?t:{}))return e;S(e,"already-initialized")}const o=n.initialize({options:t});return o}function ot(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Se);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}function st(e,t,n){const r=We(e);C(r._canInitEmulator,r,"emulator-config-failed"),C(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=at(t),{host:s,port:a}=lt(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ct()}function at(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lt(e){const t=at(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ut(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ut(t)}}}function ut(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function ct(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return D("not implemented")}_getIdTokenResponse(e){return D("not implemented")}_linkToIdToken(e,t){return D("not implemented")}_getReauthenticationResolver(e){return D("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ht(e,t){return B(e,"POST","/v1/accounts:resetPassword",j(e,t))}async function ft(e,t){return B(e,"POST","/v1/accounts:update",t)}async function pt(e,t){return B(e,"POST","/v1/accounts:signUp",t)}async function mt(e,t){return B(e,"POST","/v1/accounts:update",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gt(e,t){return z(e,"POST","/v1/accounts:signInWithPassword",j(e,t))}async function vt(e,t){return B(e,"POST","/v1/accounts:sendOobCode",j(e,t))}async function yt(e,t){return vt(e,t)}async function bt(e,t){return vt(e,t)}async function wt(e,t){return vt(e,t)}async function _t(e,t){return vt(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function St(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}async function It(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends dt{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new kt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new kt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nt(e,t,"signInWithPassword",gt);case"emailLink":return St(e,{email:this._email,oobCode:this._password});default:S(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nt(e,n,"signUpPassword",pt);case"emailLink":return It(e,{idToken:t,email:this._email,oobCode:this._password});default:S(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tt(e,t){return z(e,"POST","/v1/accounts:signInWithIdp",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="http://localhost";class Ct extends dt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ct(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):S("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ct(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Tt(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tt(e,t)}buildRequest(){const e={requestUri:Et,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,r.xO)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dt(e,t){return B(e,"POST","/v1/accounts:sendVerificationCode",j(e,t))}async function At(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t))}async function xt(e,t){const n=await z(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t));if(n.temporaryProof)throw Y(e,"account-exists-with-different-credential",n);return n}const Ot={["USER_NOT_FOUND"]:"user-not-found"};async function Nt(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return z(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,n),Ot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt extends dt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Pt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Pt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return At(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return xt(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Nt(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Pt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vt(e){const t=(0,r.zd)((0,r.pd)(e))["link"],n=t?(0,r.zd)((0,r.pd)(t))["deep_link_id"]:null,i=(0,r.zd)((0,r.pd)(e))["deep_link_id"],o=i?(0,r.zd)((0,r.pd)(i))["link"]:null;return o||i||n||t||e}class Mt{constructor(e){var t,n,i,o,s,a;const l=(0,r.zd)((0,r.pd)(e)),u=null!==(t=l["apiKey"])&&void 0!==t?t:null,c=null!==(n=l["oobCode"])&&void 0!==n?n:null,d=Ft(null!==(i=l["mode"])&&void 0!==i?i:null);C(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(o=l["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(s=l["languageCode"])&&void 0!==s?s:null,this.tenantId=null!==(a=l["tenantId"])&&void 0!==a?a:null}static parseLink(e){const t=Vt(e);try{return new Mt(t)}catch(n){return null}}}function Lt(e){return Mt.parseLink(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(){this.providerId=Rt.PROVIDER_ID}static credential(e,t){return kt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Mt.parseLink(t);return C(n,"argument-error"),kt._fromEmailAndCode(e,n.code,n.tenantId)}}Rt.PROVIDER_ID="password",Rt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Rt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ut{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends Ut{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bt extends jt{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return C("providerId"in t&&"signInMethod"in t,"argument-error"),Ct._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return C(e.idToken||e.accessToken,"argument-error"),Ct._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Bt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!n&&!r&&!t&&!i)return null;if(!s)return null;try{return new Bt(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t extends jt{constructor(){super("facebook.com")}static credential(e){return Ct._fromParams({providerId:$t.PROVIDER_ID,signInMethod:$t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $t.credentialFromTaggedObject(e)}static credentialFromError(e){return $t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return $t.credential(e.oauthAccessToken)}catch(t){return null}}}$t.FACEBOOK_SIGN_IN_METHOD="facebook.com",$t.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zt extends jt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ct._fromParams({providerId:zt.PROVIDER_ID,signInMethod:zt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zt.credentialFromTaggedObject(e)}static credentialFromError(e){return zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return zt.credential(t,n)}catch(r){return null}}}zt.GOOGLE_SIGN_IN_METHOD="google.com",zt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qt extends jt{constructor(){super("github.com")}static credential(e){return Ct._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qt.credentialFromTaggedObject(e)}static credentialFromError(e){return qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qt.credential(e.oauthAccessToken)}catch(t){return null}}}qt.GITHUB_SIGN_IN_METHOD="github.com",qt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ht="http://localhost";class Wt extends dt{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Tt(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tt(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Wt(n,i):null}static _create(e,t){return new Wt(e,t)}buildRequest(){return{requestUri:Ht,returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="saml.";class Gt extends Ut{constructor(e){C(e.startsWith(Yt),"argument-error"),super(e)}static credentialFromResult(e){return Gt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Gt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Wt.fromJSON(e);return C(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Wt._create(n,t)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends jt{constructor(){super("twitter.com")}static credential(e,t){return Ct._fromParams({providerId:Kt.PROVIDER_ID,signInMethod:Kt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kt.credentialFromTaggedObject(e)}static credentialFromError(e){return Kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Kt.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Zt(e,t){return z(e,"POST","/v1/accounts:signUp",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.TWITTER_SIGN_IN_METHOD="twitter.com",Kt.PROVIDER_ID="twitter.com";class Qt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await we._fromIdTokenResponse(e,n,r),o=Jt(n),s=new Qt({user:i,providerId:o,_tokenResponse:n,operationType:t});return s}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Jt(n);return new Qt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Jt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xt(e){var t;const n=We(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Qt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Zt(n,{returnSecureToken:!0}),i=await Qt._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends r.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,en.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new en(e,t,n,r)}}function tn(e,t,n,r){const i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw en._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rn(e,t){const n=(0,r.m9)(e);await sn(!0,n,t);const{providerUserInfo:i}=await ee(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=nn(i||[]);return n.providerData=n.providerData.filter((e=>o.has(e.providerId))),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function on(e,t,n=!1){const r=await le(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qt._forOperation(e,"link",r)}async function sn(e,t,n){await he(t);const r=nn(t.providerData),i=!1===e?"provider-already-linked":"no-such-provider";C(r.has(n)===e,t.auth,i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function an(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await le(e,tn(r,i,t,e),n);C(o.idToken,r,"internal-error");const s=se(o.idToken);C(s,r,"internal-error");const{sub:a}=s;return C(e.uid===a,r,"user-mismatch"),Qt._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&S(r,"user-mismatch"),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ln(e,t,n=!1){const r="signIn",i=await tn(e,r,t),o=await Qt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function un(e,t){return ln(We(e),t)}async function cn(e,t){const n=(0,r.m9)(e);return await sn(!1,n,t.providerId),on(n,t)}async function dn(e,t){return an((0,r.m9)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hn(e,t){return z(e,"POST","/v1/accounts:signInWithCustomToken",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fn(e,t){const n=We(e),r=await hn(n,{token:t,returnSecureToken:!0}),i=await Qt._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?mn._fromServerResponse(e,t):"totpInfo"in t?gn._fromServerResponse(e,t):S(e,"internal-error")}}class mn extends pn{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new mn(t)}}class gn extends pn{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new gn(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e,t,n){var r;C((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),C("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(C(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(C(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yn(e){const t=We(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function bn(e,t,n){const r=We(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&vn(r,i,n),await nt(r,i,"getOobCode",bt)}async function wn(e,t,n){await ht((0,r.m9)(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&yn(e),t}))}async function _n(e,t){await mt((0,r.m9)(e),{oobCode:t})}async function Sn(e,t){const n=(0,r.m9)(e),i=await ht(n,{oobCode:t}),o=i.requestType;switch(C(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":C(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":C(i.mfaInfo,n,"internal-error");default:C(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=pn._fromServerResponse(We(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:o}}async function In(e,t){const{data:n}=await Sn((0,r.m9)(e),t);return n.email}async function kn(e,t,n){const r=We(e),i={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},o=nt(r,i,"signUpPassword",Zt),s=await o.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&yn(e),t})),a=await Qt._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Tn(e,t,n){return un((0,r.m9)(e),Rt.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&yn(e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function En(e,t,n){const r=We(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function o(e,t){C(t.handleCodeInApp,r,"argument-error"),t&&vn(r,e,t)}o(i,n),await nt(r,i,"getOobCode",wt)}function Cn(e,t){const n=Mt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function Dn(e,t,n){const i=(0,r.m9)(e),o=Rt.credentialWithLink(t,n||x());return C(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),un(i,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function An(e,t){return B(e,"POST","/v1/accounts:createAuthUri",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xn(e,t){const n=O()?x():"http://localhost",i={identifier:t,continueUri:n},{signinMethods:o}=await An((0,r.m9)(e),i);return o||[]}async function On(e,t){const n=(0,r.m9)(e),i=await e.getIdToken(),o={requestType:"VERIFY_EMAIL",idToken:i};t&&vn(n.auth,o,t);const{email:s}=await yt(n.auth,o);s!==e.email&&await e.reload()}async function Nn(e,t,n){const i=(0,r.m9)(e),o=await e.getIdToken(),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:t};n&&vn(i.auth,s,n);const{email:a}=await _t(i.auth,s);a!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pn(e,t){return B(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fn(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,r.m9)(e),o=await i.getIdToken(),s={idToken:o,displayName:t,photoUrl:n,returnSecureToken:!0},a=await le(i,Pn(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find((({providerId:e})=>"password"===e));l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function Vn(e,t){return Ln((0,r.m9)(e),t,null)}function Mn(e,t){return Ln((0,r.m9)(e),null,t)}async function Ln(e,t,n){const{auth:r}=e,i=await e.getIdToken(),o={idToken:i,returnSecureToken:!0};t&&(o.email=t),n&&(o.password=n);const s=await le(e,ft(r,o));await e._updateTokensIfNecessary(s,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=se(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n["sign_in_provider"];if(r){const e="anonymous"!==r&&"custom"!==r?r:null;return new Un(o,e)}}if(!r)return null;switch(r){case"facebook.com":return new Bn(o,i);case"github.com":return new $n(o,i);case"google.com":return new zn(o,i);case"twitter.com":return new qn(o,i,e.screenName||null);case"custom":case"anonymous":return new Un(o,null);default:return new Un(o,r,i)}}class Un{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class jn extends Un{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Bn extends Un{constructor(e,t){super(e,"facebook.com",t)}}class $n extends jn{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class zn extends Un{constructor(e,t){super(e,"google.com",t)}}class qn extends jn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Hn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Rn(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(e,t){return(0,r.m9)(e).setPersistence(t)}function Yn(e){return rt(e)}async function Gn(e,t){const n=We(e);return n.validatePassword(t)}function Kn(e,t,n,i){return(0,r.m9)(e).onIdTokenChanged(t,n,i)}function Zn(e,t,n){return(0,r.m9)(e).beforeAuthStateChanged(t,n)}function Qn(e,t,n,i){return(0,r.m9)(e).onAuthStateChanged(t,n,i)}function Jn(e){(0,r.m9)(e).useDeviceLanguage()}function Xn(e,t){return(0,r.m9)(e).updateCurrentUser(t)}function er(e){return(0,r.m9)(e).signOut()}function tr(e,t){const n=We(e);return n.revokeAccessToken(t)}async function nr(e){return(0,r.m9)(e).delete()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new rr("enroll",e,t)}static _fromMfaPendingCredential(e){return new rr("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return rr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return rr._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=We(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>pn._fromServerResponse(n,e)));C(r.mfaPendingCredential,n,"internal-error");const o=rr._fromMfaPendingCredential(r.mfaPendingCredential);return new ir(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Qt._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return C(t.user,n,"internal-error"),Qt._forOperation(t.user,t.operationType,s);default:S(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function or(e,t){var n;const i=(0,r.m9)(e),o=t;return C(t.customData.operationType,i,"argument-error"),C(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),ir._fromError(i,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:start",j(e,t))}function ar(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:finalize",j(e,t))}function lr(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:start",j(e,t))}function ur(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:finalize",j(e,t))}function cr(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:withdraw",j(e,t))}class dr{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>pn._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new dr(e)}async getSession(){return rr._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await le(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await le(this.user,cr(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const hr=new WeakMap;function fr(e){const t=(0,r.m9)(e);return hr.has(t)||hr.set(t,dr._fromUser(t)),hr.get(t)}const pr="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pr,"1"),this.storage.removeItem(pr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){const e=(0,r.z$)();return Ae(e)||Ve(e)}const vr=1e3,yr=10;class br extends mr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gr()&&Ue(),this.fallbackToPolling=Re(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Le()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,yr):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),vr)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}br.type="LOCAL";const wr=br;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends mr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_r.type="SESSION";const Sr=_r;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(e){return Promise.all(e.map((async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new kr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await Ir(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Tr(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.receivers=[];class Er{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Tr("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function Dr(e){Cr().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return"undefined"!==typeof Cr()["WorkerGlobalScope"]&&"function"===typeof Cr()["importScripts"]}async function xr(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function Or(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function Nr(){return Ar()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="firebaseLocalStorageDb",Fr=1,Vr="firebaseLocalStorage",Mr="fbase_key";class Lr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Rr(e,t){return e.transaction([Vr],t?"readwrite":"readonly").objectStore(Vr)}function Ur(){const e=indexedDB.deleteDatabase(Pr);return new Lr(e).toPromise()}function jr(){const e=indexedDB.open(Pr,Fr);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Vr,{keyPath:Mr})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Vr)?t(n):(n.close(),await Ur(),t(await jr()))}))}))}async function Br(e,t,n){const r=Rr(e,!0).put({[Mr]:t,value:n});return new Lr(r).toPromise()}async function $r(e,t){const n=Rr(e,!1).get(t),r=await new Lr(n).toPromise();return void 0===r?null:r.value}function zr(e,t){const n=Rr(e,!0).delete(t);return new Lr(n).toPromise()}const qr=800,Hr=3;class Wr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await jr()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>Hr)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ar()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kr._getInstance(Nr()),this.receiver._subscribe("keyChanged",(async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}})),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await xr(),!this.activeServiceWorker)return;this.sender=new Er(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&Or()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jr();return await Br(e,pr,"1"),await zr(e,pr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Br(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>$r(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>zr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Rr(e,!1).getAll();return new Lr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),qr)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wr.type="LOCAL";const Yr=Wr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e,t){return B(e,"POST","/v2/accounts/mfaSignIn:start",j(e,t))}function Kr(e,t){return B(e,"POST","/v2/accounts/mfaSignIn:finalize",j(e,t))}function Zr(e,t){return B(e,"POST","/v2/accounts/mfaSignIn:finalize",j(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=500,Jr=6e4,Xr=1e12;class ei{constructor(e){this.auth=e,this.counter=Xr,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ti(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Xr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Xr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Xr;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ti{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;C(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=ni(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),Jr)}),Qr))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function ni(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=Ze("rcb"),ii=new V(3e4,6e4),oi="https://www.google.com/recaptcha/api.js?";class si{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Cr().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return C(ai(t),e,"argument-error"),this.shouldResolveImmediately(t)&&G(Cr().grecaptcha)?Promise.resolve(Cr().grecaptcha):new Promise(((n,i)=>{const o=Cr().setTimeout((()=>{i(I(e,"network-request-failed"))}),ii.get());Cr()[ri]=()=>{Cr().clearTimeout(o),delete Cr()[ri];const r=Cr().grecaptcha;if(!r||!G(r))return void i(I(e,"internal-error"));const s=r.render;r.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(r)};const s=`${oi}?${(0,r.xO)({onload:ri,render:"explicit",hl:t})}`;Ke(s).catch((()=>{clearTimeout(o),i(I(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Cr().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ai(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class li{async load(e){return new ei(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="recaptcha",ci={theme:"light",type:"image"};class di{constructor(e,t,n=Object.assign({},ci)){this.parameters=n,this.type=ui,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=We(e),this.isInvisible="invisible"===this.parameters.size,C("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;C(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new li:new si,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){C(!this.parameters.sitekey,this.auth,"argument-error"),C(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),C("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Cr()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){C(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){C(O()&&!Ar(),this.auth,"internal-error"),await hi(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Q(this.auth);C(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return C(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function hi(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Pt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function pi(e,t,n){const i=We(e),o=await vi(i,t,(0,r.m9)(n));return new fi(o,(e=>un(i,e)))}async function mi(e,t,n){const i=(0,r.m9)(e);await sn(!1,i,"phone");const o=await vi(i.auth,t,(0,r.m9)(n));return new fi(o,(e=>cn(i,e)))}async function gi(e,t,n){const i=(0,r.m9)(e),o=await vi(i.auth,t,(0,r.m9)(n));return new fi(o,(e=>dn(i,e)))}async function vi(e,t,n){var r;const i=await n.verify();try{let o;if(C("string"===typeof i,e,"argument-error"),C(n.type===ui,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){C("enroll"===t.type,e,"internal-error");const n=await sr(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{C("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;C(n,e,"missing-multi-factor-info");const s=await Gr(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await Dt(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function yi(e,t){await on((0,r.m9)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.providerId=bi.PROVIDER_ID,this.auth=We(e)}verifyPhoneNumber(e,t){return vi(this.auth,e,(0,r.m9)(t))}static credential(e,t){return Pt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bi.credentialFromTaggedObject(t)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Pt._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wi(e,t){return t?Se(t):(C(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.PROVIDER_ID="phone",bi.PHONE_SIGN_IN_METHOD="phone";class _i extends dt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Si(e){return ln(e.auth,new _i(e),e.bypassAuthState)}function Ii(e){const{auth:t,user:n}=e;return C(n,t,"internal-error"),an(n,new _i(e),e.bypassAuthState)}async function ki(e){const{auth:t,user:n}=e;return C(n,t,"internal-error"),on(n,new _i(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Si;case"linkViaPopup":case"linkViaRedirect":return ki;case"reauthViaPopup":case"reauthViaRedirect":return Ii;default:S(this.auth,"internal-error")}}resolve(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new V(2e3,1e4);async function Ci(e,t,n){const r=We(e);T(e,t,Ut);const i=wi(r,n),o=new xi(r,"signInViaPopup",t,i);return o.executeNotNull()}async function Di(e,t,n){const i=(0,r.m9)(e);T(i.auth,t,Ut);const o=wi(i.auth,n),s=new xi(i.auth,"reauthViaPopup",t,o,i);return s.executeNotNull()}async function Ai(e,t,n){const i=(0,r.m9)(e);T(i.auth,t,Ut);const o=wi(i.auth,n),s=new xi(i.auth,"linkViaPopup",t,o,i);return s.executeNotNull()}class xi extends Ti{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,xi.currentPopupAction&&xi.currentPopupAction.cancel(),xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return C(e,this.auth,"internal-error"),e}async onExecution(){A(1===this.filter.length,"Popup operations only handle one event");const e=Tr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(I(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(I(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(I(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ei.get())};e()}}xi.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Oi="pendingRedirect",Ni=new Map;class Pi extends Ti{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ni.get(this.auth._key());if(!e){try{const t=await Fi(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ni.set(this.auth._key(),e)}return this.bypassAuthState||Ni.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Fi(e,t){const n=Ri(t),r=Li(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}async function Vi(e,t){return Li(e)._set(Ri(t),"true")}function Mi(e,t){Ni.set(e._key(),t)}function Li(e){return Se(e._redirectPersistence)}function Ri(e){return Te(Oi,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,t,n){return ji(e,t,n)}async function ji(e,t,n){const r=We(e);T(e,t,Ut),await r._initializationPromise;const i=wi(r,n);return await Vi(i,r),i._openRedirect(r,t,"signInViaRedirect")}function Bi(e,t,n){return $i(e,t,n)}async function $i(e,t,n){const i=(0,r.m9)(e);T(i.auth,t,Ut),await i.auth._initializationPromise;const o=wi(i.auth,n);await Vi(o,i.auth);const s=await Yi(i);return o._openRedirect(i.auth,t,"reauthViaRedirect",s)}function zi(e,t,n){return qi(e,t,n)}async function qi(e,t,n){const i=(0,r.m9)(e);T(i.auth,t,Ut),await i.auth._initializationPromise;const o=wi(i.auth,n);await sn(!1,i,t.providerId),await Vi(o,i.auth);const s=await Yi(i);return o._openRedirect(i.auth,t,"linkViaRedirect",s)}async function Hi(e,t){return await We(e)._initializationPromise,Wi(e,t,!1)}async function Wi(e,t,n=!1){const r=We(e),i=wi(r,t),o=new Pi(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Yi(e){const t=Tr(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=6e5;class Ki{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!Ji(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Qi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(I(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gi&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zi(e))}saveEventToCache(e){this.cachedEventUids.add(Zi(e)),this.lastProcessedEventTime=Date.now()}}function Zi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Qi({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function Ji(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qi(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(e,t={}){return B(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,to=/^https?/;async function no(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Xi(e);for(const r of t)try{if(ro(r))return}catch(n){}S(e,"unauthorized-domain")}function ro(e){const t=x(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!to.test(n))return!1;if(eo.test(e))return r===e;const i=e.replace(/\./g,"\\."),o=new RegExp("^(.+\\."+i+"|"+i+")$","i");return o.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new V(3e4,6e4);function oo(){const e=Cr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function so(e){return new Promise(((t,n)=>{var r,i,o;function s(){oo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oo(),n(I(e,"network-request-failed"))},timeout:io.get()})}if(null===(i=null===(r=Cr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Cr().gapi)||void 0===o?void 0:o.load)){const t=Ze("iframefcb");return Cr()[t]=()=>{gapi.load?s():n(I(e,"network-request-failed"))},Ke(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw ao=null,e}))}let ao=null;function lo(e){return ao=ao||so(e),ao}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new V(5e3,15e3),co="__/auth/iframe",ho="emulator/auth/iframe",fo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},po=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mo(e){const t=e.config;C(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?M(t,ho):`https://${e.config.authDomain}/${co}`,o={apiKey:t.apiKey,appName:e.name,v:i.Jn},s=po.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.xO)(o).slice(1)}`}async function go(e){const t=await lo(e),n=Cr().gapi;return C(n,e,"internal-error"),t.open({where:document.body,url:mo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=I(e,"network-request-failed"),o=Cr().setTimeout((()=>{r(i)}),uo.get());function s(){Cr().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yo=500,bo=600,wo="_blank",_o="http://localhost";class So{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Io(e,t,n,i=yo,o=bo){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},vo),{width:i.toString(),height:o.toString(),top:s,left:a}),c=(0,r.z$)().toLowerCase();n&&(l=xe(c)?wo:n),De(c)&&(t=t||_o,u.scrollbars="yes");const d=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(Me(c)&&"_self"!==l)return ko(t||"",l),new So(null);const h=window.open(t||"",l,d);C(h,e,"popup-blocked");try{h.focus()}catch(f){}return new So(h)}function ko(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="__/auth/handler",Eo="emulator/auth/handler",Co=encodeURIComponent("fac");async function Do(e,t,n,o,s,a){C(e.config.authDomain,e,"auth-domain-config-required"),C(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.Jn,eventId:s};if(t instanceof Ut){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof jt){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];const c=await e._getAppCheckToken(),d=c?`#${Co}=${encodeURIComponent(c)}`:"";return`${Ao(e)}?${(0,r.xO)(u).slice(1)}${d}`}function Ao({config:e}){return e.emulator?M(e,Eo):`https://${e.authDomain}/${To}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="webStorageSupport";class Oo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=Wi,this._overrideRedirectResult=Mi}async _openPopup(e,t,n,r){var i;A(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Do(e,t,n,x(),r);return Io(e,o,Tr())}async _openRedirect(e,t,n,r){await this._originValidation(e);const i=await Do(e,t,n,x(),r);return Dr(i),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(A(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await go(e),n=new Ki(e);return t.register("authEvent",(t=>{C(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(xo,{type:xo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xo];void 0!==i&&t(!!i),S(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=no(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Re()||Ae()||Ve()}}const No=Oo;class Po{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return D("unexpected MultiFactorSessionType")}}}class Fo extends Po{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Fo(e)}_finalizeEnroll(e,t,n){return ar(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Kr(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Vo{constructor(){}static assertion(e){return Fo._fromCredential(e)}}Vo.FACTOR_ID="phone";class Mo{static assertionForEnrollment(e,t){return Lo._fromSecret(e,t)}static assertionForSignIn(e,t){return Lo._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const n=e;C("undefined"!==typeof(null===(t=n.user)||void 0===t?void 0:t.auth),"internal-error");const r=await lr(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return Ro._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}}Mo.FACTOR_ID="totp";class Lo extends Po{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new Lo(t,void 0,e)}static _fromEnrollmentId(e,t){return new Lo(t,e)}async _finalizeEnroll(e,t,n){return C("undefined"!==typeof this.secret,e,"argument-error"),ur(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){C(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return Zr(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class Ro{constructor(e,t,n,r,i,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Ro(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(Uo(e)||Uo(t))&&(r=!0),r&&(Uo(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Uo(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Uo(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var jo="@firebase/auth",Bo="1.5.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $o{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function qo(e){(0,i.Xd)(new a.wA("auth",((t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;C(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:je(e)},u=new He(r,i,o,l);return ot(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()}))),(0,i.Xd)(new a.wA("auth-internal",(e=>{const t=We(e.getProvider("auth").getImmediate());return(e=>new $o(e))(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(jo,Bo,zo(e)),(0,i.KN)(jo,Bo,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=300,Wo=(0,r.Pz)("authIdTokenMaxAge")||Ho;let Yo=null;const Go=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wo)return;const i=null===n||void 0===n?void 0:n.token;Yo!==i&&(Yo=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ko(e=(0,i.Mq)()){const t=(0,i.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=it(e,{popupRedirectResolver:No,persistence:[Yr,wr,Sr]}),o=(0,r.Pz)("authTokenSyncURL");if(o){const e=Go(o);Zn(n,e,(()=>e(n.currentUser))),Kn(n,(t=>e(t)))}const s=(0,r.q4)("auth");return s&&st(n,`http://${s}`),n}qo("Browser")},6100:function(e,t,n){n.r(t),n.d(t,{AbstractUserDataWriter:function(){return mg},AggregateField:function(){return lm},AggregateQuerySnapshot:function(){return um},Bytes:function(){return cm},CACHE_SIZE_UNLIMITED:function(){return Hp},CollectionReference:function(){return Mp},DocumentReference:function(){return Vp},DocumentSnapshot:function(){return kg},FieldPath:function(){return dm},FieldValue:function(){return fm},Firestore:function(){return Wp},FirestoreError:function(){return li},GeoPoint:function(){return pm},LoadBundleTask:function(){return qp},PersistentCacheIndexManager:function(){return vv},Query:function(){return Fp},QueryCompositeFilterConstraint:function(){return Zm},QueryConstraint:function(){return Wm},QueryDocumentSnapshot:function(){return Tg},QueryEndAtConstraint:function(){return ag},QueryFieldFilterConstraint:function(){return Gm},QueryLimitConstraint:function(){return tg},QueryOrderByConstraint:function(){return Xm},QuerySnapshot:function(){return Eg},QueryStartAtConstraint:function(){return ig},SnapshotMetadata:function(){return Ig},Timestamp:function(){return ki},Transaction:function(){return av},WriteBatch:function(){return ov},_AutoId:function(){return wi},_ByteString:function(){return Ko},_DatabaseId:function(){return is},_DocumentKey:function(){return xi},_EmptyAppCheckTokenProvider:function(){return yi},_EmptyAuthCredentialsProvider:function(){return di},_FieldPath:function(){return Ai},_TestingHooks:function(){return kv},_cast:function(){return Ap},_debugAssert:function(){return oi},_isBase64Available:function(){return Go},_logWarn:function(){return ti},_validateIsNotUsedTogether:function(){return Tp},addDoc:function(){return Ug},aggregateFieldEqual:function(){return _g},aggregateQuerySnapshotEqual:function(){return Sg},and:function(){return Jm},arrayRemove:function(){return hv},arrayUnion:function(){return dv},average:function(){return bg},clearIndexedDbPersistence:function(){return em},collection:function(){return Lp},collectionGroup:function(){return Rp},connectFirestoreEmulator:function(){return Pp},count:function(){return wg},deleteAllPersistentCacheIndexes:function(){return _v},deleteDoc:function(){return Rg},deleteField:function(){return uv},disableNetwork:function(){return rm},disablePersistentCacheIndexAutoCreation:function(){return wv},doc:function(){return Up},documentId:function(){return hm},enableIndexedDbPersistence:function(){return Qp},enableMultiTabIndexedDbPersistence:function(){return Jp},enableNetwork:function(){return nm},enablePersistentCacheIndexAutoCreation:function(){return bv},endAt:function(){return ug},endBefore:function(){return lg},ensureFirestoreConfigured:function(){return Kp},executeWrite:function(){return $g},getAggregateFromServer:function(){return Hg},getCountFromServer:function(){return qg},getDoc:function(){return Ag},getDocFromCache:function(){return Og},getDocFromServer:function(){return Ng},getDocs:function(){return Pg},getDocsFromCache:function(){return Fg},getDocsFromServer:function(){return Vg},getFirestore:function(){return Gp},getPersistentCacheIndexManager:function(){return yv},increment:function(){return fv},initializeFirestore:function(){return Yp},limit:function(){return ng},limitToLast:function(){return rg},loadBundle:function(){return om},memoryEagerGarbageCollector:function(){return Zg},memoryLocalCache:function(){return Jg},memoryLruGarbageCollector:function(){return Qg},namedQuery:function(){return sm},onSnapshot:function(){return jg},onSnapshotsInSync:function(){return Bg},or:function(){return Qm},orderBy:function(){return eg},persistentLocalCache:function(){return Xg},persistentMultipleTabManager:function(){return rv},persistentSingleTabManager:function(){return nv},query:function(){return Ym},queryEqual:function(){return Bp},refEqual:function(){return jp},runTransaction:function(){return lv},serverTimestamp:function(){return cv},setDoc:function(){return Mg},setIndexConfiguration:function(){return mv},setLogLevel:function(){return Jr},snapshotEqual:function(){return Dg},startAfter:function(){return sg},startAt:function(){return og},sum:function(){return yg},terminate:function(){return im},updateDoc:function(){return Lg},waitForPendingWrites:function(){return tm},where:function(){return Km},writeBatch:function(){return pv}});var r,i=n(5816),o=n(8463),s=n(3333),a=n(4444),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={},c=c||{},d=l||self;function h(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function p(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++g)}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y,b.apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function S(){this.s=this.s,this.o=this.o}var I=0;S.prototype.s=!1,S.prototype.sa=function(){this.s||(this.s=!0,this.N(),0==I)||p(this)},S.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function T(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function E(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(h(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};d.addEventListener("test",e,t),d.removeEventListener("test",e,t)}catch(n){}return e}();function A(e){return/^[\s\xa0]*$/.test(e)}function x(){var e=d.navigator;return e&&(e=e.userAgent)?e:""}function O(e){return-1!=x().indexOf(e)}function N(e){return N[" "](e),e}function P(e,t){var n=wr;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}N[" "]=function(){};var F,V,M=O("Opera"),L=O("Trident")||O("MSIE"),R=O("Edge"),U=R||L,j=O("Gecko")&&!(-1!=x().toLowerCase().indexOf("webkit")&&!O("Edge"))&&!(O("Trident")||O("MSIE"))&&!O("Edge"),B=-1!=x().toLowerCase().indexOf("webkit")&&!O("Edge");function $(){var e=d.document;return e?e.documentMode:void 0}e:{var z="",q=function(){var e=x();return j?/rv:([^\);]+)(\)|;)/.exec(e):R?/Edge\/([\d\.]+)/.exec(e):L?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):B?/WebKit\/(\S+)/.exec(e):M?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(q&&(z=q?q[1]:""),L){var H=$();if(null!=H&&H>parseFloat(z)){F=String(H);break e}}F=z}if(d.document&&L){var W=$();V=W||(parseInt(F,10)||void 0)}else V=void 0;var Y=V;function G(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(j){e:{try{N(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:K[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&G.$.h.call(this)}}_(G,C);var K={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),Q=0;function J(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Q,this.fa=this.ia=!1}function X(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ee(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function te(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function ne(e){const t={};for(const n in e)t[n]=e[n];return t}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<re.length;t++)n=re[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oe(e){this.src=e,this.g={},this.h=0}function se(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=k(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(X(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ae(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}oe.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=ae(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new J(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),ue={};function ce(e,t,n,r,i){if(r&&r.once)return fe(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ce(e,t[o],n,r,i);return null}return n=we(n),e&&e[Z]?e.O(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!1,r,i)}function de(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i,a=ye(e);if(a||(e[le]=a=new oe(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=he(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function he(){function e(n){return t.call(e.src,e.listener,n)}const t=ve;return e}function fe(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)fe(e,t[o],n,r,i);return null}return n=we(n),e&&e[Z]?e.P(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!0,r,i)}function pe(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pe(e,t[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=we(n),e&&e[Z]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=ae(o,n,r,i),-1<n&&(X(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ye(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ae(t,n,r,i)),(n=-1<e?t[e]:null)&&me(n))}function me(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Z])se(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ye(t))?(se(n,e),0==n.h&&(n.src=null,t[le]=null)):X(e)}}}function ge(e){return e in ue?ue[e]:ue[e]="on"+e}function ve(e,t){if(e.fa)e=!0;else{t=new G(t,this);var n=e.listener,r=e.la||e.src;e.ia&&me(e),e=n.call(r,t)}return e}function ye(e){return e=e[le],e instanceof oe?e:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(e){return"function"===typeof e?e:(e[be]||(e[be]=function(t){return e.handleEvent(t)}),e[be])}function _e(){S.call(this),this.i=new oe(this),this.S=this,this.J=null}function Se(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var i=t;t=new C(r,e),ie(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ie(s,r,!0,t)&&i}if(s=t.g=e,i=Ie(s,r,!0,t)&&i,i=Ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Ie(s,r,!1,t)&&i}function Ie(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&se(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}_(_e,S),_e.prototype[Z]=!0,_e.prototype.removeEventListener=function(e,t,n,r){pe(this,e,t,n,r)},_e.prototype.N=function(){if(_e.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)X(n[r]);delete t.g[e],t.h--}}this.J=null},_e.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_e.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ke=d.JSON.stringify;class Te{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Ee(){var e=Fe;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Ce{constructor(){this.h=this.g=null}add(e,t){const n=De.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var De=new Te((()=>new Ae),(e=>e.reset()));class Ae{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xe(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Oe(e){d.setTimeout((()=>{throw e}),0)}let Ne,Pe=!1,Fe=new Ce,Ve=()=>{const e=d.Promise.resolve(void 0);Ne=()=>{e.then(Me)}};var Me=()=>{for(var e;e=Ee();){try{e.h.call(e.g)}catch(n){Oe(n)}var t=De;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pe=!1};function Le(e,t){_e.call(this),this.h=e||1,this.g=t||d,this.j=b(this.qb,this),this.l=Date.now()}function Re(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ue(e,t,n){if("function"===typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function je(e){e.g=Ue((()=>{e.g=null,e.i&&(e.i=!1,je(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}_(Le,_e),r=Le.prototype,r.ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Se(this,"tick"),this.ga&&(Re(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Le.$.N.call(this),Re(this),delete this.g};class Be extends S{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $e(e){S.call(this),this.h=e,this.g={}}_($e,S);var ze=[];function qe(e,t,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var o=ce(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function He(e){ee(e.g,(function(e,t){this.g.hasOwnProperty(t)&&me(e)}),e),e.g={}}function We(){this.g=!0}function Ye(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&"type"==d[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}function Ge(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}function Ke(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+Qe(e,n)+(r?" "+r:"")}))}function Ze(e,t){e.info((function(){return"TIMEOUT: "+t}))}function Qe(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ke(n)}catch(a){return t}}$e.prototype.N=function(){$e.$.N.call(this),He(this)},$e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.Ea=function(){this.g=!1},We.prototype.info=function(){};var Je={},Xe=null;function et(){return Xe=Xe||new _e}function tt(e){C.call(this,Je.Ta,e)}function nt(e){const t=et();Se(t,new tt(t))}function rt(e,t){C.call(this,Je.STAT_EVENT,e),this.stat=t}function it(e){const t=et();Se(t,new rt(t,e))}function ot(e,t){C.call(this,Je.Ua,e),this.size=t}function st(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}Je.Ta="serverreachability",_(tt,C),Je.STAT_EVENT="statevent",_(rt,C),Je.Ua="timingevent",_(ot,C);var at={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ut(){}function ct(e){return e.h||(e.h=e.i())}function dt(){}ut.prototype.h=null;var ht,ft={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pt(){C.call(this,"d")}function mt(){C.call(this,"c")}function gt(){}function vt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new $e(this),this.P=bt,e=U?125:void 0,this.V=new Le(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}_(pt,C),_(mt,C),_(gt,ut),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},ht=new gt;var bt=45e3,wt={},_t={};function St(e,t,n){e.L=1,e.A=qt(Ut(t)),e.u=n,e.S=!0,It(e,null)}function It(e,t){e.G=Date.now(),Ct(e),e.B=Ut(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),rn(n.i,"t",r),e.o=0,n=e.l.J,e.h=new yt,e.g=ur(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Be(b(e.Pa,e,e.g),e.O)),qe(e.U,e.g,"readystatechange",e.nb),t=e.I?ne(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),nt(),Ye(e.j,e.v,e.B,e.m,e.W,e.u)}function kt(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Tt(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Et(e,n),r==_t){4==t&&(e.s=4,it(14),i=!1),Ke(e.j,e.m,null,"[Incomplete Response]");break}if(r==wt){e.s=4,it(15),Ke(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ke(e.j,e.m,r,null),Nt(e,r)}kt(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,it(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tr(t),t.M=!0,it(11))):(Ke(e.j,e.m,n,"[Invalid Chunked Response]"),Ot(e),xt(e))}function Et(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?_t:(n=Number(t.substring(n,r)),isNaN(n)?wt:(r+=1,r+n>t.length?_t:(t=t.slice(r,r+n),e.o=r+n,t)))}function Ct(e){e.Y=Date.now()+e.P,Dt(e,e.P)}function Dt(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=st(b(e.lb,e),t)}function At(e){e.C&&(d.clearTimeout(e.C),e.C=null)}function xt(e){0==e.l.H||e.J||ir(e.l,e)}function Ot(e){At(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Re(e.V),He(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Nt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||hn(n.i,e)))if(!e.K&&hn(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;rr(n),Wn(n)}er(n),it(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=st(b(n.ib,n),6e3));if(1>=dn(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else sr(n,11)}else if((e.K||n.g==e)&&rr(n),!A(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(fn(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,zt(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=lr(r,r.J?r.pa:null,r.Y),s.K){pn(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(At(a),Ct(a)),r.g=s}else Xn(r);0<n.j.length&&Gn(n)}else"stop"!=u[0]&&"close"!=u[0]||sr(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?sr(n,7):Hn(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}nt(4)}catch(u){}}function Pt(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Ft(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(h(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Vt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=Ft(e),r=Pt(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}r=vt.prototype,r.setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==Rn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const c=Rn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(3!=c||U||this.g&&(this.h.h||this.g.ja()||Un(this.g)))){this.J||4!=c||7==t||nt(8==t||0>=h?3:2),At(this);var n=this.g.da();this.ca=n;t:if(kt(this)){var r=Un(this.g);e="";var i=r.length,o=4==Rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ot(this),xt(this);var s="";break t}this.h.i=new d.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,Ge(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,it(12),Ot(this),xt(this);break e}Ke(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nt(this,n)}this.S?(Tt(this,c,s),U&&this.i&&3==c&&(qe(this.U,this.V,"tick",this.mb),this.V.start())):(Ke(this.j,this.m,s,null),Nt(this,s)),4==c&&Ot(this),this.i&&!this.J&&(4==c?ir(this.l,this):(this.i=!1,Ct(this)))}else jn(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Ot(this),xt(this)}}}catch(c){}},r.mb=function(){if(this.g){var e=Rn(this.g),t=this.g.ja();this.o<t.length&&(At(this),Tt(this,e,t),this.i&&4!=e&&Ct(this))}},r.cancel=function(){this.J=!0,Ot(this)},r.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Ze(this.j,this.B),2!=this.L&&(nt(),it(17)),Ot(this),this.s=2,xt(this)):Dt(this,this.Y-e)};var Mt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Rt(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Rt){this.h=e.h,jt(this,e.j),this.s=e.s,this.g=e.g,Bt(this,e.m),this.l=e.l;var t=e.i,n=new Xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),$t(this,n),this.o=e.o}else e&&(t=String(e).match(Mt))?(this.h=!1,jt(this,t[1]||"",!0),this.s=Ht(t[2]||""),this.g=Ht(t[3]||"",!0),Bt(this,t[4]),this.l=Ht(t[5]||"",!0),$t(this,t[6]||"",!0),this.o=Ht(t[7]||"")):(this.h=!1,this.i=new Xt(null,this.h))}function Ut(e){return new Rt(e)}function jt(e,t,n){e.j=n?Ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $t(e,t,n){t instanceof Xt?(e.i=t,sn(e.i,e.h)):(n||(t=Wt(t,Qt)),e.i=new Xt(t,e.h))}function zt(e,t,n){e.i.set(t,n)}function qt(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Yt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wt(t,Gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wt(t,Gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wt(n,"/"==n.charAt(0)?Zt:Kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wt(n,Jt)),e.join("")};var Gt=/[#\/\?@]/g,Kt=/[#\?:]/g,Zt=/[#\?]/g,Qt=/[#\?@]/g,Jt=/#/g;function Xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function en(e){e.g||(e.g=new Map,e.h=0,e.i&&Lt(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tn(e,t){en(e),t=on(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function nn(e,t){return en(e),t=on(e,t),e.g.has(t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.i=null,e.g.set(on(e,t),T(n)),e.h+=n.length)}function on(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function sn(e,t){t&&!e.j&&(en(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))}),e)),e.j=t}r=Xt.prototype,r.add=function(e,t){en(this),this.i=null,e=on(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){en(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.ta=function(){en(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){en(this);let t=[];if("string"===typeof e)nn(this,e)&&(t=t.concat(this.g.get(on(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return en(this),this.i=null,e=on(this,e),nn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var an=class{constructor(e,t){this.g=e,this.map=t}};function ln(e){this.l=e||un,d.PerformanceNavigationTiming?(e=d.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(d.g&&d.g.Ka&&d.g.Ka()&&d.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un=10;function cn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dn(e){return e.h?1:e.g?e.g.size:0}function hn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mn(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return T(e.i)}ln.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var gn=class{stringify(e){return d.JSON.stringify(e,void 0)}parse(e){return d.JSON.parse(e,void 0)}};function vn(){this.g=new gn}function yn(e,t,n){const r=n||"";try{Vt(e,(function(e,n){let i=e;f(e)&&(i=ke(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bn(e,t){const n=new We;if(d.Image){const r=new Image;r.onload=w(wn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(wn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(wn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(wn,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function wn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function _n(e){this.l=e.ec||null,this.j=e.ob||!1}function Sn(e,t){_e.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=In,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_(_n,ut),_n.prototype.g=function(){return new Sn(this.l,this.j)},_n.prototype.i=function(e){return function(){return e}}({}),_(Sn,_e);var In=0;function kn(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Tn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,En(e)}function En(e){e.onreadystatechange&&e.onreadystatechange.call(e)}r=Sn.prototype,r.open=function(e,t){if(this.readyState!=In)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,En(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||d).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tn(this)),this.readyState=In},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tn(this):En(this),3==this.readyState&&kn(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,Tn(this))},r.Ya=function(e){this.g&&(this.response=e,Tn(this))},r.ka=function(){this.g&&Tn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cn=d.JSON.parse;function Dn(e){_e.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=An,this.L=this.M=!1}_(Dn,_e);var An="",xn=/^https?$/i,On=["POST","PUT"];function Nn(e){return L&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Pn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fn(e),Mn(e)}function Fn(e){e.F||(e.F=!0,Se(e,"complete"),Se(e,"error"))}function Vn(e){if(e.h&&"undefined"!=typeof c&&(!e.C[1]||4!=Rn(e)||2!=e.da()))if(e.v&&4==Rn(e))Ue(e.La,0,e);else if(Se(e,"readystatechange"),4==Rn(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Mt)[1]||null;!i&&d.self&&d.self.location&&(i=d.self.location.protocol.slice(0,-1)),r=!xn.test(i?i.toLowerCase():"")}n=r}if(n)Se(e,"complete"),Se(e,"success");else{e.m=6;try{var o=2<Rn(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Fn(e)}}finally{Mn(e)}}}function Mn(e,t){if(e.g){Ln(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Se(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ln(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function Rn(e){return e.g?e.g.readyState:0}function Un(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case An:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Zr){return null}}function jn(e){const t={};e=(e.g&&2<=Rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(A(e[r]))continue;var n=xe(e[r]);const i=n[0];if(n=n[1],"string"!==typeof n)continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}te(t,(function(e){return e.join(", ")}))}function Bn(e){let t="";return ee(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function $n(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zt(e,t,n))}function zn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qn(e){this.Ga=0,this.j=[],this.l=new We,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zn("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zn("baseRetryDelayMs",5e3,e),this.hb=zn("retryDelaySeedMs",1e4,e),this.eb=zn("forwardChannelMaxRetries",2,e),this.xa=zn("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ln(e&&e.concurrentRequestLimit),this.Ja=new vn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hn(e){if(Yn(e),3==e.H){var t=e.W++,n=Ut(e.I);if(zt(n,"SID",e.K),zt(n,"RID",t),zt(n,"TYPE","terminate"),Qn(e,n),t=new vt(e,e.l,t),t.L=2,t.A=qt(Ut(n)),n=!1,d.navigator&&d.navigator.sendBeacon)try{n=d.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&d.Image&&((new Image).src=t.A,n=!0),n||(t.g=ur(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ct(t)}ar(e)}function Wn(e){e.g&&(tr(e),e.g.cancel(),e.g=null)}function Yn(e){Wn(e),e.u&&(d.clearTimeout(e.u),e.u=null),rr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&d.clearTimeout(e.m),e.m=null)}function Gn(e){if(!cn(e.i)&&!e.m){e.m=!0;var t=e.Na;Ne||Ve(),Pe||(Ne(),Pe=!0),Fe.add(t,e),e.C=0}}function Kn(e,t){return!(dn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=st(b(e.Na,e,t),or(e,e.C)),e.C++,!0))}function Zn(e,t){var n;n=t?t.m:e.W++;const r=Ut(e.I);zt(r,"SID",e.K),zt(r,"RID",n),zt(r,"AID",e.V),Qn(e,r),e.o&&e.s&&$n(r,e.o,e.s),n=new vt(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Jn(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),fn(e.i,n),St(n,r,t)}function Qn(e,t){e.na&&ee(e.na,(function(e,n){zt(t,n,e)})),e.h&&Vt({},(function(e,n){zt(t,n,e)}))}function Jn(e,t,n){n=Math.min(e.j.length,n);var r=e.h?b(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{yn(a,e,"req"+n+"_")}catch(bo){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Xn(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ne||Ve(),Pe||(Ne(),Pe=!0),Fe.add(t,e),e.A=0}}function er(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=st(b(e.Ma,e),or(e,e.A)),e.A++,!0)}function tr(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function nr(e){e.g=new vt(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ut(e.wa);zt(t,"RID","rpc"),zt(t,"SID",e.K),zt(t,"AID",e.V),zt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&zt(t,"TO",e.qa),zt(t,"TYPE","xmlhttp"),Qn(e,t),e.o&&e.s&&$n(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=qt(Ut(t)),n.u=null,n.S=!0,It(n,e)}function rr(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function ir(e,t){var n=null;if(e.g==t){rr(e),tr(e),e.g=null;var r=2}else{if(!hn(e.i,t))return;n=t.F,pn(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=et(),Se(r,new ot(r,n)),Gn(e)}else Xn(e);else if(i=t.s,3==i||0==i&&0<t.ca||!(1==r&&Kn(e,t)||2==r&&er(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sr(e,5);break;case 4:sr(e,10);break;case 3:sr(e,6);break;default:sr(e,2)}}function or(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function sr(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=b(e.pb,e);n||(n=new Rt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||jt(n,"https"),qt(n)),bn(n.toString(),r)}else it(2);e.H=0,e.h&&e.h.za(t),ar(e),Yn(e)}function ar(e){if(e.H=0,e.ma=[],e.h){const t=mn(e.i);0==t.length&&0==e.j.length||(E(e.ma,t),E(e.ma,e.j),e.i.i.length=0,T(e.j),e.j.length=0),e.h.ya()}}function lr(e,t,n){var r=n instanceof Rt?Ut(n):new Rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Bt(r,r.m);else{var i=d.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Rt(null);r&&jt(o,r),t&&(o.g=t),i&&Bt(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&zt(r,n,t),zt(r,"VER",e.ra),Qn(e,r),r}function ur(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Dn(new _n({ob:n})):new Dn(e.va),t.Oa(e.J),t}function cr(){}function dr(){if(L&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function hr(e,t){_e.call(this),this.g=new qn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.F=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new mr(this)}function fr(e){pt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pr(){mt.call(this),this.status=1}function mr(e){this.g=e}function gr(){this.blockSize=-1}function vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yr(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function br(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}r=Dn.prototype,r.Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ht.g(),this.C=this.u?ct(this.u):ct(ht),this.g.onreadystatechange=b(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Pn(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=d.FormData&&e instanceof d.FormData,!(0<=k(On,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ln(this),0<this.B&&((this.L=Nn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.ua,this)):this.A=Ue(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Pn(this,o)}},r.ua=function(){"undefined"!=typeof c&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Se(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Se(this,"complete"),Se(this,"abort"),Mn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mn(this,!0)),Dn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?Vn(this):this.kb())},r.kb=function(){Vn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<Rn(this)?this.g.status:-1}catch(e){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},r=qn.prototype,r.ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new vt(this,this.l,e);let o=this.s;if(this.U&&(o?(o=ne(o),ie(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(r="__data__"in r.map&&(r=r.map.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(t+=r,4096<t){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jn(this,i,t),n=Ut(this.I),zt(n,"RID",e),zt(n,"CVER",22),this.F&&zt(n,"X-HTTP-Session-Id",this.F),Qn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Bn(o)))+"&"+t:this.o&&$n(n,this.o,o)),fn(this.i,i),this.bb&&zt(n,"TYPE","init"),this.P?(zt(n,"$req",t),zt(n,"SID","null"),i.aa=!0,St(i,n,null)):St(i,n,t),this.H=2}}else 3==this.H&&(e?Zn(this,e):0==this.j.length||cn(this.i)||Zn(this))},r.Ma=function(){if(this.u=null,nr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=st(b(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,it(10),Wn(this),nr(this))},r.ib=function(){null!=this.v&&(this.v=null,Wn(this),er(this),it(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),it(2)):(this.l.info("Failed to ping google.com"),it(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},r=cr.prototype,r.Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},dr.prototype.g=function(e,t){return new hr(e,t)},_(hr,_e),hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;it(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=lr(e,null,e.Y),Gn(e)},hr.prototype.close=function(){Hn(this.g)},hr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=ke(e),e=n);t.j.push(new an(t.fb++,e)),3==t.H&&Gn(t)},hr.prototype.N=function(){this.g.h=null,delete this.j,Hn(this.g),delete this.g,hr.$.N.call(this)},_(fr,pt),_(pr,mt),_(mr,cr),mr.prototype.Ba=function(){Se(this.g,"a")},mr.prototype.Aa=function(e){Se(this.g,new fr(e))},mr.prototype.za=function(e){Se(this.g,new pr)},mr.prototype.ya=function(){Se(this.g,"b")},_(vr,gr),vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vr.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)yr(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){yr(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){yr(this,r),i=0;break}}this.h=i,this.i+=t},vr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var wr={};function _r(e){return-128<=e&&128>e?P(e,(function(e){return new br([0|e],0>e?-1:0)})):new br([0|e],0>e?-1:0)}function Sr(e){if(isNaN(e)||!isFinite(e))return Tr;if(0>e)return xr(Sr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=kr;return new br(t,0)}function Ir(e,t){if(0==e.length)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return xr(Ir(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(t,8)),r=Tr,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=Sr(Math.pow(t,o)),r=r.R(o).add(Sr(s))):(r=r.R(n),r=r.add(Sr(s)))}return r}var kr=4294967296,Tr=_r(0),Er=_r(1),Cr=_r(16777216);function Dr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ar(e){return-1==e.h}function xr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new br(n,~e.h).add(Er)}function Or(e,t){return e.add(xr(t))}function Nr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Pr(e,t){this.g=e,this.h=t}function Fr(e,t){if(Dr(t))throw Error("division by zero");if(Dr(e))return new Pr(Tr,Tr);if(Ar(e))return t=Fr(xr(e),t),new Pr(xr(t.g),xr(t.h));if(Ar(t))return t=Fr(e,xr(t)),new Pr(xr(t.g),t.h);if(30<e.g.length){if(Ar(e)||Ar(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Er,r=t;0>=r.X(e);)n=Vr(n),r=Vr(r);var i=Mr(n,1),o=Mr(r,1);for(r=Mr(r,2),n=Mr(n,2);!Dr(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Mr(r,1),n=Mr(n,1)}return t=Or(e,i.R(t)),new Pr(i,t)}for(i=Tr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Sr(n),s=o.R(t);Ar(s)||0<s.X(e);)n-=r,o=Sr(n),s=o.R(t);Dr(o)&&(o=Er),i=i.add(o),e=Or(e,s)}return new Pr(i,e)}function Vr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new br(n,e.h)}function Mr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new br(i,e.h)}r=br.prototype,r.ea=function(){if(Ar(this))return-xr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:kr+r)*t,t*=kr}return e},r.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Dr(this))return"0";if(Ar(this))return"-"+xr(this).toString(e);for(var t=Sr(Math.pow(e,6)),n=this,r="";;){var i=Fr(n,t).g;n=Or(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Dr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return e=Or(this,e),Ar(e)?-1:Dr(e)?0:1},r.abs=function(){return Ar(this)?xr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new br(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(Dr(this)||Dr(e))return Tr;if(Ar(this))return Ar(e)?xr(this).R(xr(e)):xr(xr(this).R(e));if(Ar(e))return xr(this.R(xr(e)));if(0>this.X(Cr)&&0>e.X(Cr))return Sr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Nr(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Nr(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Nr(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Nr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new br(n,0)},r.gb=function(e){return Fr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new br(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new br(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new br(n,this.h^e.h)},dr.prototype.createWebChannel=dr.prototype.g,hr.prototype.send=hr.prototype.u,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,lt.COMPLETE="complete",dt.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",_e.prototype.listen=_e.prototype.O,Dn.prototype.listenOnce=Dn.prototype.P,Dn.prototype.getLastError=Dn.prototype.Sa,Dn.prototype.getLastErrorCode=Dn.prototype.Ia,Dn.prototype.getStatus=Dn.prototype.da,Dn.prototype.getResponseJson=Dn.prototype.Wa,Dn.prototype.getResponseText=Dn.prototype.ja,Dn.prototype.send=Dn.prototype.ha,Dn.prototype.setWithCredentials=Dn.prototype.Oa,vr.prototype.digest=vr.prototype.l,vr.prototype.reset=vr.prototype.reset,vr.prototype.update=vr.prototype.j,br.prototype.add=br.prototype.add,br.prototype.multiply=br.prototype.R,br.prototype.modulo=br.prototype.gb,br.prototype.compare=br.prototype.X,br.prototype.toNumber=br.prototype.ea,br.prototype.toString=br.prototype.toString,br.prototype.getBits=br.prototype.D,br.fromNumber=Sr,br.fromString=Ir;var Lr=u.createWebChannelTransport=function(){return new dr},Rr=u.getStatEventTarget=function(){return et()},Ur=u.ErrorCode=at,jr=u.EventType=lt,Br=u.Event=Je,$r=u.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zr=(u.FetchXmlHttpFactory=_n,u.WebChannel=dt),qr=u.XhrIo=Dn,Hr=u.Md5=vr,Wr=u.Integer=br;const Yr="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Kr="10.7.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new s.Yd("@firebase/firestore");function Qr(){return Zr.logLevel}function Jr(e){Zr.setLogLevel(e)}function Xr(e,...t){if(Zr.logLevel<=s["in"].DEBUG){const n=t.map(ni);Zr.debug(`Firestore (${Kr}): ${e}`,...n)}}function ei(e,...t){if(Zr.logLevel<=s["in"].ERROR){const n=t.map(ni);Zr.error(`Firestore (${Kr}): ${e}`,...n)}}function ti(e,...t){if(Zr.logLevel<=s["in"].WARN){const n=t.map(ni);Zr.warn(`Firestore (${Kr}): ${e}`,...n)}}function ni(e){if("string"==typeof e)return e;try{
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(e="Unexpected state"){const t=`FIRESTORE (${Kr}) INTERNAL ASSERTION FAILED: `+e;throw ei(t),new Error(t)}function ii(e,t){e||ri()}function oi(e,t){e||ri()}function si(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class li extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class di{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gr.UNAUTHENTICATED)))}shutdown(){}}class hi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fi{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ui,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Xr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Xr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ui)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Xr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ii("string"==typeof t.accessToken),new ci(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ii(null===e||"string"==typeof e),new Gr(e)}}class pi{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mi{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new pi(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Gr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Xr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Xr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Xr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Xr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ii("string"==typeof e.token),this.R=e.token,new gi(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class yi{getToken(){return Promise.resolve(new gi(""))}invalidateToken(){}start(e,t){}shutdown(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=bi(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function _i(e,t){return e<t?-1:e>t?1:0}function Si(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ii(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new li(ai.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new li(ai.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new li(ai.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new li(ai.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ki.fromMillis(Date.now())}static fromDate(e){return ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ki(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_i(this.nanoseconds,e.nanoseconds):_i(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ti(e)}static min(){return new Ti(new ki(0,0))}static max(){return new Ti(new ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t,n){void 0===t?t=0:t>e.length&&ri(),void 0===n?n=e.length-t:n>e.length-t&&ri(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ei.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ci extends Ei{construct(e,t,n){return new Ci(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new li(ai.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Ci(t)}static emptyPath(){return new Ci([])}}const Di=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Ei{construct(e,t,n){return new Ai(e,t,n)}static isValidIdentifier(e){return Di.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new li(ai.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new li(ai.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new li(ai.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new li(ai.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(t)}static emptyPath(){return new Ai([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.path=e}static fromPath(e){return new xi(Ci.fromString(e))}static fromName(e){return new xi(Ci.fromString(e).popFirst(5))}static empty(){return new xi(Ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ci.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ci.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xi(new Ci(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ni(e){return e.fields.find((e=>2===e.kind))}function Pi(e){return e.fields.filter((e=>2!==e.kind))}function Fi(e,t){let n=_i(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=Mi(e.fields[r],t.fields[r]),0!==n)return n;return _i(e.fields.length,t.fields.length)}Oi.UNKNOWN_ID=-1;class Vi{constructor(e,t){this.fieldPath=e,this.kind=t}}function Mi(e,t){const n=Ai.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:_i(e.kind,t.kind)}class Li{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Li(0,ji.min())}}function Ri(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ti.fromTimestamp(1e9===r?new ki(n+1,0):new ki(n,r));return new ji(i,xi.empty(),t)}function Ui(e){return new ji(e.readTime,e.key,-1)}class ji{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ji(Ti.min(),xi.empty(),-1)}static max(){return new ji(Ti.max(),xi.empty(),-1)}}function Bi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xi.comparator(e.documentKey,t.documentKey),0!==n?n:_i(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}const $i="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(e){if(e.code!==ai.FAILED_PRECONDITION||e.message!==$i)throw e;Xr("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ri(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hi(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Hi?t:Hi.resolve(t)}catch(e){return Hi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Hi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Hi.reject(t)}static resolve(e){return new Hi(((t,n)=>{t(e)}))}static reject(e){return new Hi(((t,n)=>{n(e)}))}static waitFor(e){return new Hi(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Hi.resolve(!1);for(const n of e)t=t.next((e=>e?Hi.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Hi(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Hi(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ui,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ki(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=eo(t.target.error);this.V.reject(new Ki(e,n))}}static open(e,t,n,r){try{return new Wi(t,e.transaction(r,n))}catch(e){throw new Ki(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Xr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Qi(t)}}class Yi{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Yi.S((0,a.z$)())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xr("SimpleDb","Removing database:",e),Ji(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a.hl)())return!1;if(Yi.C())return!0;const e=(0,a.z$)(),t=Yi.S(e),n=0<t&&t<10,r=Yi.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Xr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ki(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new li(ai.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new li(ai.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ki(e,r))},r.onupgradeneeded=e=>{Xr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Xr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=Wi.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Hi.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Xr("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Gi{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ji(this.k.delete())}}class Ki extends li{constructor(e,t){super(ai.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Zi(e){return"IndexedDbTransactionError"===e.name}class Qi{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Xr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ji(n)}add(e){return Xr("SimpleDb","ADD",this.store.name,e,e),Ji(this.store.add(e))}get(e){return Ji(this.store.get(e)).next((t=>(void 0===t&&(t=null),Xr("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Xr("SimpleDb","DELETE",this.store.name,e),Ji(this.store.delete(e))}count(){return Xr("SimpleDb","COUNT",this.store.name),Ji(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Hi(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Hi(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Xr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Hi(((n,r)=>{t.onerror=e=>{const t=eo(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Hi(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Gi(i),s=t(i.primaryKey,i.value,o);if(s instanceof Hi){const e=s.catch((e=>(o.done(),Hi.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Hi.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ji(e){return new Hi(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=eo(e.target.error);n(t)}}))}let Xi=!1;function eo(e){const t=Yi.S((0,a.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new li("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xi||(Xi=!0,setTimeout((()=>{throw e}),0)),e}}return e}class to{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Xr("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Xr("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(e){Zi(e)?Xr("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await qi(e)}await this.ee(6e4)}))}}class no{constructor(e,t){this.localStore=e,this.persistence=t}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Hi.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Xr("IndexBackfiller",`Processing collection: ${t}`),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Xr("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Ui(t);Bi(r,n)>0&&(n=r)})),new ji(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function io(e){return null==e}function oo(e){return 0===e&&1/e==-1/0}function so(e){return"number"==typeof e&&Number.isInteger(e)&&!oo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=uo(t)),t=lo(e.get(n),t);return uo(t)}function lo(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function uo(e){return e+""}function co(e){const t=e.length;if(ii(t>=2),2===t)return ii(""===e.charAt(0)&&""===e.charAt(1)),Ci.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&ri(),e.charAt(t+1)){case"":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:ri()}o=t+2}return new Ci(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro._e=-1;const ho=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e,t){return[e,ao(t)]}function po(e,t,n){return[e,ao(t),n]}const mo={},go=["prefixPath","collectionGroup","readTime","documentId"],vo=["prefixPath","collectionGroup","documentId"],yo=["collectionGroup","readTime","prefixPath","documentId"],bo=["canonicalId","targetId"],wo=["targetId","path"],_o=["path","targetId"],So=["collectionId","parent"],Io=["indexId","uid"],ko=["uid","sequenceNumber"],To=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Eo=["indexId","uid","orderedDocumentKey"],Co=["userId","collectionPath","documentId"],Do=["userId","collectionPath","largestBatchId"],Ao=["userId","collectionGroup","largestBatchId"],xo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Oo=[...xo,"documentOverlays"],No=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Po=No,Fo=[...Po,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends zi{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Mo(e,t){const n=si(e);return Yi.M(n.ae,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ro(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Uo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t){this.comparator=e,this.root=t||$o.EMPTY}insert(e,t){return new jo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$o.BLACK,null,null))}remove(e){return new jo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$o.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bo(this.root,e,this.comparator,!0)}}class Bo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $o{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:$o.RED,this.left=null!=r?r:$o.EMPTY,this.right=null!=i?i:$o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new $o(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $o.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ri();if(this.right.isRed())throw ri();const e=this.left.check();if(e!==this.right.check())throw ri();return e+(this.isRed()?0:1)}}$o.EMPTY=null,$o.RED=!0,$o.BLACK=!1,$o.EMPTY=new class{constructor(){this.size=0}get key(){throw ri()}get value(){throw ri()}get color(){throw ri()}get left(){throw ri()}get right(){throw ri()}copy(e,t,n,r,i){return this}insert(e,t,n){return new $o(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zo{constructor(e){this.comparator=e,this.data=new jo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qo(this.data.getIterator())}getIteratorFrom(e){return new qo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof zo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new zo(this.comparator);return t.data=e,t}}class qo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ho(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new Wo([])}unionWith(e){let t=new zo(Ai.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Si(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Yo("Invalid base64 string: "+e):e}}(e);return new Ko(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ko(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _i(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ko.EMPTY_BYTE_STRING=new Ko("");const Zo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(e){if(ii(!!e),"string"==typeof e){let t=0;const n=Zo.exec(e);if(ii(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Jo(e.seconds),nanos:Jo(e.nanos)}}function Jo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xo(e){return"string"==typeof e?Ko.fromBase64String(e):Ko.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ts(e){const t=e.mapValue.fields.__previous_value__;return es(t)?ts(t):t}function ns(e){const t=Qo(e.mapValue.fields.__local_write_time__.timestampValue);return new ki(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class is{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new is("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof is&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ss={nullValue:"NULL_VALUE"};function as(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?es(e)?4:Ss(e)?9007199254740991:10:ri()}function ls(e,t){if(e===t)return!0;const n=as(e);if(n!==as(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ns(e).isEqual(ns(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Qo(e.timestampValue),r=Qo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xo(e.bytesValue).isEqual(Xo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Jo(e.geoPointValue.latitude)===Jo(t.geoPointValue.latitude)&&Jo(e.geoPointValue.longitude)===Jo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Jo(e.integerValue)===Jo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Jo(e.doubleValue),r=Jo(t.doubleValue);return n===r?oo(n)===oo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Si(e.arrayValue.values||[],t.arrayValue.values||[],ls);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Lo(n)!==Lo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ls(n[i],r[i])))return!1;return!0}(e,t);default:return ri()}}function us(e,t){return void 0!==(e.values||[]).find((e=>ls(e,t)))}function cs(e,t){if(e===t)return 0;const n=as(e),r=as(t);if(n!==r)return _i(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _i(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Jo(e.integerValue||e.doubleValue),r=Jo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ds(e.timestampValue,t.timestampValue);case 4:return ds(ns(e),ns(t));case 5:return _i(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Xo(e),r=Xo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=_i(n[i],r[i]);if(0!==e)return e}return _i(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=_i(Jo(e.latitude),Jo(t.latitude));return 0!==n?n:_i(Jo(e.longitude),Jo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=cs(n[i],r[i]);if(e)return e}return _i(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===os.mapValue&&t===os.mapValue)return 0;if(e===os.mapValue)return 1;if(t===os.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=_i(r[s],o[s]);if(0!==e)return e;const t=cs(n[r[s]],i[o[s]]);if(0!==t)return t}return _i(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ri()}}function ds(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _i(e,t);const n=Qo(e),r=Qo(t),i=_i(n.seconds,r.seconds);return 0!==i?i:_i(n.nanos,r.nanos)}function hs(e){return fs(e)}function fs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Qo(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Xo(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return xi.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=fs(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${fs(e.fields[i])}`;return n+"}"}(e.mapValue):ri()}function ps(e){switch(as(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ts(e);return t?16+ps(t):16;case 5:return 2*e.stringValue.length;case 6:return Xo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+ps(t)),0)}(e.arrayValue);case 10:return function(e){let t=0;return Ro(e.fields,((e,n)=>{t+=e.length+ps(n)})),t}(e.mapValue);default:throw ri()}}function ms(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function gs(e){return!!e&&"integerValue"in e}function vs(e){return!!e&&"arrayValue"in e}function ys(e){return!!e&&"nullValue"in e}function bs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ws(e){return!!e&&"mapValue"in e}function _s(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ro(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=_s(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_s(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ss(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Is(e){return"nullValue"in e?ss:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ms(is.empty(),xi.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ri()}function ks(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ms(is.empty(),xi.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?os:ri()}function Ts(e,t){const n=cs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Es(e,t){const n=cs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.value=e}static empty(){return new Cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ws(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_s(t)}setAll(e){let t=Ai.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=_s(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ws(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ws(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ro(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Cs(_s(this.value))}}function Ds(e){const t=[];return Ro(e.fields,((e,n)=>{const r=new Ai([e]);if(ws(n)){const e=Ds(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Wo(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class As{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new As(e,0,Ti.min(),Ti.min(),Ti.min(),Cs.empty(),0)}static newFoundDocument(e,t,n,r){return new As(e,1,t,Ti.min(),n,r,0)}static newNoDocument(e,t){return new As(e,2,t,Ti.min(),Ti.min(),Cs.empty(),0)}static newUnknownDocument(e,t){return new As(e,3,t,Ti.min(),Ti.min(),Cs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ti.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ti.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof As&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new As(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){this.position=e,this.inclusive=t}}function Os(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?xi.comparator(xi.fromName(s.referenceValue),n.key):cs(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ns(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ls(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{}class Ms extends Vs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ws(e,t,n):"array-contains"===t?new Zs(e,n):"in"===t?new Qs(e,n):"not-in"===t?new Js(e,n):"array-contains-any"===t?new Xs(e,n):new Ms(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ys(e,n):new Gs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cs(t,this.value)):null!==t&&as(this.value)===as(t)&&this.matchesComparison(cs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ri()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends Vs{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Ls(e,t)}matches(e){return Rs(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Rs(e){return"and"===e.op}function Us(e){return"or"===e.op}function js(e){return Bs(e)&&Rs(e)}function Bs(e){for(const t of e.filters)if(t instanceof Ls)return!1;return!0}function $s(e){if(e instanceof Ms)return e.field.canonicalString()+e.op.toString()+hs(e.value);if(js(e))return e.filters.map((e=>$s(e))).join(",");{const t=e.filters.map((e=>$s(e))).join(",");return`${e.op}(${t})`}}function zs(e,t){return e instanceof Ms?function(e,t){return t instanceof Ms&&e.op===t.op&&e.field.isEqual(t.field)&&ls(e.value,t.value)}(e,t):e instanceof Ls?function(e,t){return t instanceof Ls&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&zs(n,t.filters[r])),!0)}(e,t):void ri()}function qs(e,t){const n=e.filters.concat(t);return Ls.create(n,e.op)}function Hs(e){return e instanceof Ms?function(e){return`${e.field.canonicalString()} ${e.op} ${hs(e.value)}`}(e):e instanceof Ls?function(e){return e.op.toString()+" {"+e.getFilters().map(Hs).join(" ,")+"}"}(e):"Filter"}class Ws extends Ms{constructor(e,t,n){super(e,t,n),this.key=xi.fromName(n.referenceValue)}matches(e){const t=xi.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ys extends Ms{constructor(e,t){super(e,"in",t),this.keys=Ks("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Gs extends Ms{constructor(e,t){super(e,"not-in",t),this.keys=Ks("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ks(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>xi.fromName(e.referenceValue)))}class Zs extends Ms{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vs(t)&&us(t.arrayValue,this.value)}}class Qs extends Ms{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&us(this.value.arrayValue,t)}}class Js extends Ms{constructor(e,t){super(e,"not-in",t)}matches(e){if(us(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!us(this.value.arrayValue,t)}}class Xs extends Ms{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vs(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>us(this.value.arrayValue,e)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function ta(e,t=null,n=[],r=[],i=null,o=null,s=null){return new ea(e,t,n,r,i,o,s)}function na(e){const t=si(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>$s(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),io(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>hs(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>hs(e))).join(",")),t.ce=e}return t.ce}function ra(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Fs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ns(e.startAt,t.startAt)&&Ns(e.endAt,t.endAt)}function ia(e){return xi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function oa(e,t){return e.filters.filter((e=>e instanceof Ms&&e.field.isEqual(t)))}function sa(e,t,n){let r=ss,i=!0;for(const o of oa(e,t)){let e=ss,t=!0;switch(o.op){case"<":case"<=":e=Is(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=ss}Ts({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Ts({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function aa(e,t,n){let r=os,i=!0;for(const o of oa(e,t)){let e=os,t=!0;switch(o.op){case">=":case">":e=ks(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=os}Es({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Es({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ua(e,t,n,r,i,o,s,a){return new la(e,t,n,r,i,o,s,a)}function ca(e){return new la(e)}function da(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ha(e){return null!==e.collectionGroup}function fa(e){const t=si(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new zo(Ai.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Ps(r,n))})),e.has(Ai.keyField().canonicalString())||t.le.push(new Ps(Ai.keyField(),n))}return t.le}function pa(e){const t=si(e);return t.he||(t.he=ma(t,fa(e))),t.he}function ma(e,t){if("F"===e.limitType)return ta(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ps(e.field,t)}));const n=e.endAt?new xs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xs(e.startAt.position,e.startAt.inclusive):null;return ta(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ga(e,t){const n=e.filters.concat([t]);return new la(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function va(e,t,n){return new la(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ya(e,t){return ra(pa(e),pa(t))&&e.limitType===t.limitType}function ba(e){return`${na(pa(e))}|lt:${e.limitType}`}function wa(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Hs(e))).join(", ")}]`),io(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>hs(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>hs(e))).join(",")),`Target(${t})`}(pa(e))}; limitType=${e.limitType})`}function _a(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fa(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Os(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fa(e),t))&&!(e.endAt&&!function(e,t,n){const r=Os(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fa(e),t))}(e,t)}function Sa(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ia(e){return(t,n)=>{let r=!1;for(const i of fa(e)){const e=ka(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ka(e,t,n){const r=e.field.isKeyField()?xi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cs(r,i):ri()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ri()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Uo(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new jo(xi.comparator);function Ca(){return Ea}const Da=new jo(xi.comparator);function Aa(...e){let t=Da;for(const n of e)t=t.insert(n.key,n);return t}function xa(e){let t=Da;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Oa(){return Pa()}function Na(){return Pa()}function Pa(){return new Ta((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Fa=new jo(xi.comparator),Va=new zo(xi.comparator);function Ma(...e){let t=Va;for(const n of e)t=t.add(n);return t}const La=new zo(_i);function Ra(){return La}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oo(t)?"-0":t}}function ja(e){return{integerValue:""+e}}function Ba(e,t){return so(t)?ja(t):Ua(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this._=void 0}}function za(e,t,n){return e instanceof Wa?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&es(t)&&(t=ts(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ya?Ga(e,t):e instanceof Ka?Za(e,t):function(e,t){const n=Ha(e,t),r=Ja(n)+Ja(e.Ie);return gs(n)&&gs(e.Ie)?ja(r):Ua(e.serializer,r)}(e,t)}function qa(e,t,n){return e instanceof Ya?Ga(e,t):e instanceof Ka?Za(e,t):n}function Ha(e,t){return e instanceof Qa?function(e){return gs(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Wa extends $a{}class Ya extends $a{constructor(e){super(),this.elements=e}}function Ga(e,t){const n=Xa(t);for(const r of e.elements)n.some((e=>ls(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ka extends $a{constructor(e){super(),this.elements=e}}function Za(e,t){let n=Xa(t);for(const r of e.elements)n=n.filter((e=>!ls(e,r)));return{arrayValue:{values:n}}}class Qa extends $a{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ja(e){return Jo(e.integerValue||e.doubleValue)}function Xa(e){return vs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t){this.field=e,this.transform=t}}function tl(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ya&&t instanceof Ya||e instanceof Ka&&t instanceof Ka?Si(e.elements,t.elements,ls):e instanceof Qa&&t instanceof Qa?ls(e.Ie,t.Ie):e instanceof Wa&&t instanceof Wa}(e.transform,t.transform)}class nl{constructor(e,t){this.version=e,this.transformResults=t}}class rl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rl}static exists(e){return new rl(void 0,e)}static updateTime(e){return new rl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function il(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ol{}function sl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gl(e.key,rl.none()):new dl(e.key,e.data,rl.none());{const n=e.data,r=Cs.empty();let i=new zo(Ai.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new hl(e.key,r,new Wo(i.toArray()),rl.none())}}function al(e,t,n){e instanceof dl?function(e,t,n){const r=e.value.clone(),i=pl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hl?function(e,t,n){if(!il(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=pl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ll(e,t,n,r){return e instanceof dl?function(e,t,n,r){if(!il(e.precondition,t))return n;const i=e.value.clone(),o=ml(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hl?function(e,t,n,r){if(!il(e.precondition,t))return n;const i=ml(e.fieldTransforms,r,t),o=t.data;return o.setAll(fl(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return il(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ul(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ha(r.transform,e||null);null!=i&&(null===n&&(n=Cs.empty()),n.set(r.field,i))}return n||null}function cl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Si(e,t,((e,t)=>tl(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dl extends ol{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hl extends ol{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function pl(e,t,n){const r=new Map;ii(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,qa(s,a,n[i]))}return r}function ml(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,za(e,o,t))}return r}class gl extends ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vl extends ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&al(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ll(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ll(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Na();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=sl(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Ti.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ma())}isEqual(e){return this.batchId===e.batchId&&Si(this.mutations,e.mutations,((e,t)=>cl(e,t)))&&Si(this.baseMutations,e.baseMutations,((e,t)=>cl(e,t)))}}class bl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ii(e.mutations.length===n.length);let r=function(){return Fa}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new bl(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Il,kl;function Tl(e){switch(e){default:return ri();case ai.CANCELLED:case ai.UNKNOWN:case ai.DEADLINE_EXCEEDED:case ai.RESOURCE_EXHAUSTED:case ai.INTERNAL:case ai.UNAVAILABLE:case ai.UNAUTHENTICATED:return!1;case ai.INVALID_ARGUMENT:case ai.NOT_FOUND:case ai.ALREADY_EXISTS:case ai.PERMISSION_DENIED:case ai.FAILED_PRECONDITION:case ai.ABORTED:case ai.OUT_OF_RANGE:case ai.UNIMPLEMENTED:case ai.DATA_LOSS:return!0}}function El(e){if(void 0===e)return ei("GRPC error has no .code"),ai.UNKNOWN;switch(e){case Il.OK:return ai.OK;case Il.CANCELLED:return ai.CANCELLED;case Il.UNKNOWN:return ai.UNKNOWN;case Il.DEADLINE_EXCEEDED:return ai.DEADLINE_EXCEEDED;case Il.RESOURCE_EXHAUSTED:return ai.RESOURCE_EXHAUSTED;case Il.INTERNAL:return ai.INTERNAL;case Il.UNAVAILABLE:return ai.UNAVAILABLE;case Il.UNAUTHENTICATED:return ai.UNAUTHENTICATED;case Il.INVALID_ARGUMENT:return ai.INVALID_ARGUMENT;case Il.NOT_FOUND:return ai.NOT_FOUND;case Il.ALREADY_EXISTS:return ai.ALREADY_EXISTS;case Il.PERMISSION_DENIED:return ai.PERMISSION_DENIED;case Il.FAILED_PRECONDITION:return ai.FAILED_PRECONDITION;case Il.ABORTED:return ai.ABORTED;case Il.OUT_OF_RANGE:return ai.OUT_OF_RANGE;case Il.UNIMPLEMENTED:return ai.UNIMPLEMENTED;case Il.DATA_LOSS:return ai.DATA_LOSS;default:return ri()}}(kl=Il||(Il={}))[kl.OK=0]="OK",kl[kl.CANCELLED=1]="CANCELLED",kl[kl.UNKNOWN=2]="UNKNOWN",kl[kl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kl[kl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kl[kl.NOT_FOUND=5]="NOT_FOUND",kl[kl.ALREADY_EXISTS=6]="ALREADY_EXISTS",kl[kl.PERMISSION_DENIED=7]="PERMISSION_DENIED",kl[kl.UNAUTHENTICATED=16]="UNAUTHENTICATED",kl[kl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kl[kl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kl[kl.ABORTED=10]="ABORTED",kl[kl.OUT_OF_RANGE=11]="OUT_OF_RANGE",kl[kl.UNIMPLEMENTED=12]="UNIMPLEMENTED",kl[kl.INTERNAL=13]="INTERNAL",kl[kl.UNAVAILABLE=14]="UNAVAILABLE",kl[kl.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Cl=null;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(){return new TextEncoder}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Wr([4294967295,4294967295],0);function xl(e){const t=Dl().encode(e),n=new Hr;return n.update(t),new Uint8Array(n.digest())}function Ol(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Wr([n,r],0),new Wr([i,o],0)]}class Nl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pl(`Invalid padding: ${t}`);if(n<0)throw new Pl(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Pl(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Pl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Wr.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Wr.fromNumber(n)));return 1===r.compare(Al)&&(r=new Wr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=xl(e),[n,r]=Ol(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Nl(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=xl(e),[n,r]=Ol(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fl(Ti.min(),r,new jo(_i),Ca(),Ma())}}class Vl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vl(n,t,Ma(),Ma(),Ma())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Ll{constructor(e,t){this.targetId=e,this.fe=t}}class Rl{constructor(e,t,n=Ko.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ul{constructor(){this.ge=0,this.pe=$l(),this.ye=Ko.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ma(),t=Ma(),n=Ma();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ri()}})),new Vl(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=$l()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ii(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class jl{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ca(),this.Qe=Bl(),this.Ke=new jo(_i)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:ri()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(ia(i))if(0===n){const e=new xi(i.path);this.We(t,e,As.newNoDocument(e,Ti.min()))}else ii(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Cl||Cl.tt(function(e,t,n,r,i){var o,s,a,l,u,c;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Xo(n).toUint8Array()}catch(e){if(e instanceof Yo)return ti("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Nl(o,r,i)}catch(e){return ti(e instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ia(i.target)){const t=new xi(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,As.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Ma();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Fl(e,t,this.Ke,this.qe,n);return this.qe=Ca(),this.Qe=Bl(),this.Ke=new jo(_i),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Ul,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new zo(_i),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Xr("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ul),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Bl(){return new jo(xi.comparator)}function $l(){return new jo(xi.comparator)}const zl=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),ql=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})(),Hl=(()=>{const e={and:"AND",or:"OR"};return e})();class Wl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yl(e,t){return e.useProto3Json||io(t)?t:{value:t}}function Gl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zl(e,t){return Gl(e,t.toTimestamp())}function Ql(e){return ii(!!e),Ti.fromTimestamp(function(e){const t=Qo(e);return new ki(t.seconds,t.nanos)}(e))}function Jl(e,t){return Xl(e,t).canonicalString()}function Xl(e,t){const n=function(e){return new Ci(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function eu(e){const t=Ci.fromString(e);return ii(Eu(t)),t}function tu(e,t){return Jl(e.databaseId,t.path)}function nu(e,t){const n=eu(t);if(n.get(1)!==e.databaseId.projectId)throw new li(ai.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new li(ai.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xi(su(n))}function ru(e,t){return Jl(e.databaseId,t)}function iu(e){const t=eu(e);return 4===t.length?Ci.emptyPath():su(t)}function ou(e){return new Ci(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function su(e){return ii(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function au(e,t,n){return{name:tu(e,t),fields:n.value.mapValue.fields}}function lu(e,t,n){const r=nu(e,t.name),i=Ql(t.updateTime),o=t.createTime?Ql(t.createTime):Ti.min(),s=new Cs({mapValue:{fields:t.fields}}),a=As.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function uu(e,t){return"found"in t?function(e,t){ii(!!t.found),t.found.name,t.found.updateTime;const n=nu(e,t.found.name),r=Ql(t.found.updateTime),i=t.found.createTime?Ql(t.found.createTime):Ti.min(),o=new Cs({mapValue:{fields:t.found.fields}});return As.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){ii(!!t.missing),ii(!!t.readTime);const n=nu(e,t.missing),r=Ql(t.readTime);return As.newNoDocument(n,r)}(e,t):ri()}function cu(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ri()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ii(void 0===t||"string"==typeof t),Ko.fromBase64String(t||"")):(ii(void 0===t||t instanceof Uint8Array),Ko.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?ai.UNKNOWN:El(e.code);return new li(t,e.message||"")}(s);n=new Rl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=nu(e,r.document.name),o=Ql(r.document.updateTime),s=r.document.createTime?Ql(r.document.createTime):Ti.min(),a=new Cs({mapValue:{fields:r.document.fields}}),l=As.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ml(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=nu(e,r.document),o=r.readTime?Ql(r.readTime):Ti.min(),s=As.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ml([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=nu(e,r.document),o=r.removedTargetIds||[];n=new Ml([],o,i,null)}else{if(!("filter"in t))return ri();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Sl(r,i),s=e.targetId;n=new Ll(s,o)}}return n}function du(e,t){let n;if(t instanceof dl)n={update:au(e,t.key,t.value)};else if(t instanceof gl)n={delete:tu(e,t.key)};else if(t instanceof hl)n={update:au(e,t.key,t.data),updateMask:Tu(t.fieldMask)};else{if(!(t instanceof vl))return ri();n={verify:tu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Wa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ya)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ka)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qa)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ri()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ri()}(e,t.precondition)),n}function hu(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?rl.updateTime(Ql(e.updateTime)):void 0!==e.exists?rl.exists(e.exists):rl.none()}(t.currentDocument):rl.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ii("REQUEST_TIME"===t.setToServerValue),n=new Wa;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ya(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ka(e)}else"increment"in t?n=new Qa(e,t.increment):ri();const r=Ai.fromServerFormat(t.fieldPath);return new el(r,n)}(e,t))):[];if(t.update){t.update.name;const i=nu(e,t.update.name),o=new Cs({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Wo(t.map((e=>Ai.fromServerFormat(e))))}(t.updateMask);return new hl(i,o,e,n,r)}return new dl(i,o,n,r)}if(t.delete){const r=nu(e,t.delete);return new gl(r,n)}if(t.verify){const r=nu(e,t.verify);return new vl(r,n)}return ri()}function fu(e,t){return e&&e.length>0?(ii(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ql(e.updateTime):Ql(t);return n.isEqual(Ti.min())&&(n=Ql(t)),new nl(n,e.transformResults||[])}(e,t)))):[]}function pu(e,t){return{documents:[ru(e,t.path)]}}function mu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ru(e,i);const o=function(e){if(0!==e.length)return ku(Ls.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Su(e.field),direction:bu(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Yl(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function gu(e){let t=iu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ii(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=yu(e);return t instanceof Ls&&js(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Ps(Iu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,io(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new xs(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new xs(n,t)}(n.endAt)),ua(t,i,s,o,a,"F",l,u)}function vu(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ri()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}function yu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Iu(e.unaryFilter.field);return Ms.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Iu(e.unaryFilter.field);return Ms.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Iu(e.unaryFilter.field);return Ms.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Iu(e.unaryFilter.field);return Ms.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ri()}}(e):void 0!==e.fieldFilter?function(e){return Ms.create(Iu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ri()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ls.create(e.compositeFilter.filters.map((e=>yu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ri()}}(e.compositeFilter.op))}(e):ri()}function bu(e){return zl[e]}function wu(e){return ql[e]}function _u(e){return Hl[e]}function Su(e){return{fieldPath:e.canonicalString()}}function Iu(e){return Ai.fromServerFormat(e.fieldPath)}function ku(e){return e instanceof Ms?function(e){if("=="===e.op){if(bs(e.value))return{unaryFilter:{field:Su(e.field),op:"IS_NAN"}};if(ys(e.value))return{unaryFilter:{field:Su(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bs(e.value))return{unaryFilter:{field:Su(e.field),op:"IS_NOT_NAN"}};if(ys(e.value))return{unaryFilter:{field:Su(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Su(e.field),op:wu(e.op),value:e.value}}}(e):e instanceof Ls?function(e){const t=e.getFilters().map((e=>ku(e)));return 1===t.length?t[0]:{compositeFilter:{op:_u(e.op),filters:t}}}(e):ri()}function Tu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Eu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t,n,r,i=Ti.min(),o=Ti.min(),s=Ko.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.ct=e}}function Au(e,t){let n;if(t.document)n=lu(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=xi.fromSegments(t.noDocument.path),r=Pu(t.noDocument.readTime);n=As.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ri();{const e=xi.fromSegments(t.unknownDocument.path),r=Pu(t.unknownDocument.version);n=As.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new ki(e[0],e[1]);return Ti.fromTimestamp(t)}(t.readTime)),n}function xu(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ou(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:tu(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gl(e,t.version.toTimestamp()),createTime:Gl(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nu(t.version)};else{if(!t.isUnknownDocument())return ri();r.unknownDocument={path:n.path.toArray(),version:Nu(t.version)}}return r}function Ou(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nu(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Pu(e){const t=new ki(e.seconds,e.nanoseconds);return Ti.fromTimestamp(t)}function Fu(e,t){const n=(t.baseMutations||[]).map((t=>hu(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>hu(e.ct,t))),i=ki.fromMillis(t.localWriteTimeMs);return new yl(t.batchId,i,n,r)}function Vu(e){const t=Pu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Pu(e.lastLimboFreeSnapshotVersion):Ti.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return ii(1===e.documents.length),pa(ca(iu(e.documents[0])))}(e.query):function(e){return pa(gu(e))}(e.query),new Cu(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Ko.fromBase64String(e.resumeToken))}function Mu(e,t){const n=Nu(t.snapshotVersion),r=Nu(t.lastLimboFreeSnapshotVersion);let i;i=ia(t.target)?pu(e.ct,t.target):mu(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:na(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Lu(e){const t=gu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?va(t,t.limit,"L"):t}function Ru(e,t){return new wl(t.largestBatchId,hu(e.ct,t.overlayMutation))}function Uu(e,t){const n=t.path.lastSegment();return[e,ao(t.path.popLast()),n]}function ju(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Nu(r.readTime),documentKey:ao(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{getBundleMetadata(e,t){return $u(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Pu(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return $u(e).put(function(e){return{bundleId:e.id,createTime:Nu(Ql(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return zu(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Lu(e.bundledQuery),readTime:Pu(e.readTime)}}(e)}))}saveNamedQuery(e,t){return zu(e).put(function(e){return{name:e.name,readTime:Nu(Ql(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function $u(e){return Mo(e,"bundles")}function zu(e){return Mo(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new qu(e,n)}getOverlay(e,t){return Hu(e).get(Uu(this.userId,t)).next((e=>e?Ru(this.serializer,e):null))}getOverlays(e,t){const n=Oa();return Hi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new wl(t,i);r.push(this.ht(e,o))})),Hi.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(ao(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Hu(e).H("collectionPathOverlayIndex",r))})),Hi.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Oa(),i=ao(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Hu(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Ru(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Oa();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hu(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=Ru(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Hu(e).put(function(e,t,n){const[r,i,o]=Uu(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:du(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Hu(e){return Mo(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Jo(e.integerValue));else if("doubleValue"in e){const n=Jo(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),oo(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At(`${n.seconds||""}`),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Xo(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Ss(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ri()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),xi.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Yu(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Gu(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Yu(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Wu.bt=new Wu;class Ku{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=Gu(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=Gu(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Zu{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Qu{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ju{constructor(){this.Gt=new Ku,this.zt=new Zu(this.Gt),this.jt=new Qu(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Xu(this.indexId,this.documentKey,this.arrayValue,n)}}function ec(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=tc(e.arrayValue,t.arrayValue),0!==n?n:(n=tc(e.directionalValue,t.directionalValue),0!==n?n:xi.comparator(e.documentKey,t.documentKey)))}function tc(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.Yt=new zo(((e,t)=>Ai.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(ii(e.collectionGroup===this.collectionId),this.en)return!1;const t=Ni(e);if(void 0!==t&&!this.nn(t))return!1;const n=Pi(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new zo(Ai.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Vi(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Vi(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Vi(n.field,"asc"===n.dir?0:1)));return new Oi(Oi.UNKNOWN_ID,this.collectionId,t,Li.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e){var t,n;if(ii(e instanceof Ms||e instanceof Ls),e instanceof Ms){if(e instanceof Qs){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Ms.create(e.field,"==",t))))||[];return Ls.create(r,"or")}return e}const r=e.filters.map((e=>rc(e)));return Ls.create(r,e.op)}function ic(e){if(0===e.getFilters().length)return[];const t=lc(rc(e));return ii(ac(t)),oc(t)||sc(t)?[t]:t.getFilters()}function oc(e){return e instanceof Ms}function sc(e){return e instanceof Ls&&js(e)}function ac(e){return oc(e)||sc(e)||function(e){if(e instanceof Ls&&Us(e)){for(const t of e.getFilters())if(!oc(t)&&!sc(t))return!1;return!0}return!1}(e)}function lc(e){if(ii(e instanceof Ms||e instanceof Ls),e instanceof Ms)return e;if(1===e.filters.length)return lc(e.filters[0]);const t=e.filters.map((e=>lc(e)));let n=Ls.create(t,e.op);return n=dc(n),ac(n)?n:(ii(n instanceof Ls),ii(Rs(n)),ii(n.filters.length>1),n.filters.reduce(((e,t)=>uc(e,t))))}function uc(e,t){let n;return ii(e instanceof Ms||e instanceof Ls),ii(t instanceof Ms||t instanceof Ls),n=e instanceof Ms?t instanceof Ms?function(e,t){return Ls.create([e,t],"and")}(e,t):cc(e,t):t instanceof Ms?cc(t,e):function(e,t){if(ii(e.filters.length>0&&t.filters.length>0),Rs(e)&&Rs(t))return qs(e,t.getFilters());const n=Us(e)?e:t,r=Us(e)?t:e,i=n.filters.map((e=>uc(e,r)));return Ls.create(i,"or")}(e,t),dc(n)}function cc(e,t){if(Rs(t))return qs(t,e.getFilters());{const n=t.filters.map((t=>uc(e,t)));return Ls.create(n,"or")}}function dc(e){if(ii(e instanceof Ms||e instanceof Ls),e instanceof Ms)return e;const t=e.getFilters();if(1===t.length)return dc(t[0]);if(Bs(e))return e;const n=t.map((e=>dc(e))),r=[];return n.forEach((t=>{t instanceof Ms?r.push(t):t instanceof Ls&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Ls.create(r,e.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class hc{constructor(){this._n=new fc}addToCollectionParentIndex(e,t){return this._n.add(t),Hi.resolve()}getCollectionParents(e,t){return Hi.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Hi.resolve()}deleteFieldIndex(e,t){return Hi.resolve()}deleteAllFieldIndexes(e){return Hi.resolve()}createTargetIndexes(e,t){return Hi.resolve()}getDocumentsMatchingTarget(e,t){return Hi.resolve(null)}getIndexType(e,t){return Hi.resolve(0)}getFieldIndexes(e,t){return Hi.resolve([])}getNextCollectionGroupToUpdate(e){return Hi.resolve(null)}getMinOffset(e,t){return Hi.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return Hi.resolve(ji.min())}updateCollectionGroup(e,t,n){return Hi.resolve()}updateIndexEntries(e,t){return Hi.resolve()}}class fc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new zo(Ci.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new zo(Ci.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Uint8Array(0);class mc{constructor(e,t){this.databaseId=t,this.an=new fc,this.un=new Ta((e=>na(e)),((e,t)=>ra(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:ao(r)};return gc(e).put(i)}return Hi.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ii(t),""],!1,!0);return gc(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(co(r.parent))}return n}))}addFieldIndex(e,t){const n=yc(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=bc(e);return i.next((e=>{n.put(ju(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=yc(e),r=bc(e),i=vc(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=yc(e),n=vc(e),r=bc(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Hi.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new nc(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=vc(e);let r=!0;const i=new Map;return Hi.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ma();const r=[];return Hi.forEach(i,((i,o)=>{Xr("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${na(t)}`);const s=function(e,t){const n=Ni(t);if(void 0===n)return null;for(const r of oa(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Pi(t))for(const t of oa(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Pi(t)){const t=0===i.kind?sa(e,i.fieldPath,e.startAt):aa(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new xs(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Pi(t)){const t=0===i.kind?aa(e,i.fieldPath,e.endAt):sa(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new xs(n,r)}(o,i),c=this.hn(i,o,l),d=this.hn(i,o,u),h=this.Pn(i,o,a),f=this.In(i.indexId,s,c,l.inclusive,d,u.inclusive,h);return Hi.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=xi.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Hi.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:ic(Ls.create(e.filters,"and")).map((t=>ta(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.Tn(t[c/l]):pc,d=this.En(e,a,n[c%l],r),h=this.dn(e,a,i[c%l],o),f=s.map((t=>this.En(e,a,t,!0)));u.push(...this.createRange(d,h,f))}return u}En(e,t,n,r){const i=new Xu(e,xi.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Xu(e,xi.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new nc(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Hi.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new zo(Ai.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Ju;for(const r of Pi(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Wu.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Ju;return Wu.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Ju;return Wu.bt.Pt(ms(this.databaseId,t),n.Ht(function(e){const t=Pi(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Ju);let i=0;for(const o of Pi(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&vs(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);Wu.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Ju;n.seed(e.Wt()),Wu.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Ms&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=yc(e),r=bc(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Hi.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Li(t.sequenceNumber,new ji(Pu(t.readTime),new xi(co(t.documentKey)),t.largestBatchId)):Li.empty(),r=e.fields.map((([e,t])=>new Vi(Ai.fromServerFormat(e),t)));return new Oi(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:_i(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=yc(e),i=bc(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Hi.forEach(t,(t=>i.put(ju(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Hi.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Hi.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Hi.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Hi.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return vc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return vc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=vc(e);let i=new zo(ec);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Xu(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new zo(ec);const r=this.An(t,e);if(null==r)return n;const i=Ni(t);if(null!=i){const o=e.data.field(i.fieldPath);if(vs(o))for(const i of o.arrayValue.values||[])n=n.add(new Xu(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Xu(t.indexId,e.key,pc,r));return n}wn(e,t,n,r,i){Xr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Ho(o),l=Ho(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Ho(s)):t?(i(a),a=Ho(o)):(a=Ho(o),l=Ho(s))}}(r,i,ec,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),Hi.waitFor(o)}gn(e){let t=1;return bc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>ec(e,t))).filter(((e,t,n)=>!t||0!==ec(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=ec(o,e),i=ec(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,pc,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,pc,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return ec(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(wc)}getMinOffset(e,t){return Hi.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||ri())))).next(wc)}}function gc(e){return Mo(e,"collectionParents")}function vc(e){return Mo(e,"indexEntries")}function yc(e){return Mo(e,"indexConfiguration")}function bc(e){return Mo(e,"indexState")}function wc(e){ii(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Bi(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ji(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Sc(e,Sc.DEFAULT_COLLECTION_PERCENTILE,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{ii(1===a)})));const u=[];for(const c of n.mutations){const e=po(t,c.key.path,n.batchId);o.push(i.delete(e)),u.push(c.key)}return Hi.waitFor(o).next((()=>u))}function kc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ri();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sc.DEFAULT_COLLECTION_PERCENTILE=10,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sc.DEFAULT=new Sc(41943040,Sc.DEFAULT_COLLECTION_PERCENTILE,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sc.DISABLED=new Sc(-1,0,0);class Tc{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){ii(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Tc(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Dc(e),o=Cc(e);return o.add({}).next((s=>{ii("number"==typeof s);const a=new yl(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>du(e.ct,t))),i=n.mutations.map((t=>du(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new zo(((e,t)=>_i(e.canonicalString(),t.canonicalString())));for(const e of r){const t=po(this.userId,e.key.path,s);c=c.add(e.key.path.popLast()),u.push(o.put(l)),u.push(i.put(t,mo))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[s]=a.keys()})),Hi.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Cc(e).get(t).next((e=>e?(ii(e.userId===this.userId),Fu(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Hi.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Cc(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(ii(t.batchId>=n),i=Fu(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Cc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).W("userMutationsIndex",t).next((e=>e.map((e=>Fu(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=fo(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Dc(e).Y({range:r},((n,r,o)=>{const[s,a,l]=n,u=co(a);if(s===this.userId&&t.path.isEqual(u))return Cc(e).get(l).next((e=>{if(!e)throw ri();ii(e.userId===this.userId),i.push(Fu(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new zo(_i);const r=[];return t.forEach((t=>{const i=fo(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Dc(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,l=co(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Hi.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=fo(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new zo(_i);return Dc(e).Y({range:o},((e,t,i)=>{const[o,a,l]=e,u=co(a);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Fn(e,s)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Cc(e).get(t).next((e=>{if(null===e)throw ri();ii(e.userId===this.userId),n.push(Fu(this.serializer,e))})))})),Hi.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ic(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Hi.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Hi.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Dc(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=co(e[1]);r.push(t)}else n.done()})).next((()=>{ii(0===r.length)}))}))}containsKey(e,t){return Ec(e,this.userId,t)}xn(e){return Ac(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Ec(e,t,n){const r=fo(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Dc(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Cc(e){return Mo(e,"mutations")}function Dc(e){return Mo(e,"documentMutations")}function Ac(e){return Mo(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new xc(0)}static Bn(){return new xc(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new xc(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Ti.fromTimestamp(new ki(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Nc(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(ii(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Nc(e).Y(((o,s)=>{const a=Vu(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Hi.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Nc(e).Y(((e,n)=>{const r=Vu(n);t(r)}))}Ln(e){return Pc(e).get("targetGlobalKey").next((e=>(ii(null!==e),e)))}kn(e,t){return Pc(e).put("targetGlobalKey",t)}qn(e,t){return Nc(e).put(Mu(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=na(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Nc(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Vu(n);ra(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Fc(e);return t.forEach((t=>{const o=ao(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Hi.waitFor(r)}removeMatchingKeys(e,t,n){const r=Fc(e);return Hi.forEach(t,(t=>{const i=ao(t.path);return Hi.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Fc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Fc(e);let i=Ma();return r.Y({range:n,J:!0},((e,t,n)=>{const r=co(e[1]),o=new xi(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=ao(t.path),r=IDBKeyRange.bound([n],[Ii(n)],!1,!0);let i=0;return Fc(e).Y({index:"documentTargetsIndex",J:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}_t(e,t){return Nc(e).get(t).next((e=>e?Vu(e):null))}}function Nc(e){return Mo(e,"targets")}function Pc(e){return Mo(e,"targetGlobal")}function Fc(e){return Mo(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc([e,t],[n,r]){const i=_i(e,n);return 0===i?_i(t,r):i}class Mc{constructor(e){this.Kn=e,this.buffer=new zo(Vc),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Vc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Xr("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zi(e)?Xr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await qi(e)}await this.zn(3e5)}))}}class Rc{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Hi.resolve(ro._e);const n=new Mc(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xr("LruGarbageCollector","Garbage collection skipped; disabled"),Hi.resolve(_c)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Xr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_c):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Xr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),Qr()<=s["in"].DEBUG&&Xr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),Hi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Uc(e,t){return new Rc(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t){this.db=e,this.garbageCollector=Uc(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Bc(e,n)}removeReference(e,t,n){return Bc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Bc(e,t)}er(e,t){return function(e,t){let n=!1;return Ac(e).Z((r=>Ec(e,r,t).next((e=>(e&&(n=!0),Hi.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,s)=>{if(s<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Ti.min()),Fc(e).delete(function(e){return[0,ao(e.path)]}(o)))))}));r.push(t)}})).next((()=>Hi.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Bc(e,t)}Xn(e,t){const n=Fc(e);let r,i=ro._e;return n.Y({index:"documentTargetsIndex"},(([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==ro._e&&t(new xi(co(r)),i),i=s,r=o):i=ro._e})).next((()=>{i!==ro._e&&t(new xi(co(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bc(e,t){return Fc(e).put(function(e,t){return{targetId:0,path:ao(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.changes=new Ta((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,As.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Yc(e).put(n)}removeEntry(e,t,n){return Yc(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ou(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=As.newInvalidDocument(t);return Yc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Gc(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:As.newInvalidDocument(t)};return Yc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Gc(t))},((e,r)=>{n={document:this.nr(t,r),size:kc(r)}})).next((()=>n))}getEntries(e,t){let n=Ca();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Ca(),r=new jo(xi.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,kc(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Hi.resolve();let r=new zo(Zc);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Gc(r.first()),Gc(r.last())),o=r.getIterator();let s=o.getNext();return Yc(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=xi.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Zc(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(Gc(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Ou(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yc(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Ca();for(const i of e){const e=this.nr(xi.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(_a(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Ca();const o=Kc(t,n),s=Kc(t,ji.max());return Yc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.nr(xi.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Hc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Wc(e).get("remoteDocumentGlobalKey").next((e=>(ii(!!e),e)))}tr(e,t){return Wc(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=Au(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Ti.min()))return e}return As.newInvalidDocument(e)}}function qc(e){return new zc(e)}class Hc extends $c{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Ta((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new zo(((e,t)=>_i(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=xu(this.ar.serializer,o);r=r.add(i.path.popLast());const l=kc(a);n+=l-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=xu(this.ar.serializer,o.convertToNoDocument(Ti.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Hi.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((({documents:e,_r:t})=>(t.forEach(((t,n)=>{this.ur.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function Wc(e){return Mo(e,"remoteDocumentGlobal")}function Yc(e){return Mo(e,"remoteDocumentsV14")}function Gc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Kc(e,t){const n=t.documentKey.path.toArray();return[e,Ou(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Zc(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=_i(n[o],r[o]),i)return i;return i=_i(n.length,r.length),i||(i=_i(n[n.length-2],r[r.length-2]),i||_i(n[n.length-1],r[r.length-1])
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Qc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ll(n.mutation,e,Wo.empty(),ki.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ma()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Ma()){const r=Oa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Aa();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Oa();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ma())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ca();const o=Pa(),s=function(){return Pa()}();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof hl)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),ll(s.mutation,t,s.mutation.getFieldMask(),ki.now())):o.set(t.key,Wo.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Qc(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Pa();let r=new jo(((e,t)=>e-t)),i=Ma();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Wo.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Ma()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=Na();l.forEach((e=>{if(!i.has(e)){const r=sl(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Hi.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return xi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ha(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Hi.resolve(Oa());let s=-1,a=i;return o.next((t=>Hi.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Hi.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Ma()))).next((e=>({batchId:s,changes:xa(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xi(t)).next((e=>{let t=Aa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Aa();return this.indexManager.getCollectionParents(e,i).next((s=>Hi.forEach(s,(s=>{const a=function(e,t){return new la(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,As.newInvalidDocument(r)))}));let n=Aa();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&ll(o.mutation,r,Wo.empty(),ki.now()),_a(t,r)&&(n=n.insert(e,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Hi.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ql(e.createTime)}}(t)),Hi.resolve()}getNamedQuery(e,t){return Hi.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Lu(e.bundledQuery),readTime:Ql(e.readTime)}}(t)),Hi.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.overlays=new jo(xi.comparator),this.hr=new Map}getOverlay(e,t){return Hi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Oa();return Hi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Hi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Hi.resolve()}getOverlaysForCollection(e,t,n){const r=Oa(),i=t.length+1,o=new xi(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Hi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new jo(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Oa(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Oa(),a=i.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((e,t)=>s.set(e,t))),s.size()>=r)break;return Hi.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new wl(t,n));let i=this.hr.get(t);void 0===i&&(i=Ma(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.Pr=new zo(nd.Ir),this.Tr=new zo(nd.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new nd(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new nd(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new xi(new Ci([])),n=new nd(t,e),r=new nd(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new xi(new Ci([])),n=new nd(t,e),r=new nd(t,e+1);let i=Ma();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new nd(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nd{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return xi.comparator(e.key,t.key)||_i(e.pr,t.pr)}static Er(e,t){return _i(e.pr,t.pr)||xi.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new zo(nd.Ir)}checkEmpty(e){return Hi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yl(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new nd(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Hi.resolve(o)}lookupMutationBatch(e,t){return Hi.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Hi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Hi.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Hi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nd(t,0),r=new nd(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Hi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new zo(_i);return t.forEach((e=>{const t=new nd(e,0),r=new nd(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Hi.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;xi.isDocumentKey(i)||(i=i.child(""));const o=new nd(new xi(i),0);let s=new zo(_i);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),Hi.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ii(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Hi.forEach(t.mutations,(r=>{const i=new nd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new nd(t,0),r=this.wr.firstAfterOrEqual(n);return Hi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Hi.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.vr=e,this.docs=function(){return new jo(xi.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hi.resolve(n?n.document.mutableCopy():As.newInvalidDocument(t))}getEntries(e,t){let n=Ca();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():As.newInvalidDocument(e))})),Hi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ca();const o=t.path,s=new xi(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Bi(Ui(s),n)<=0||(r.has(s.key)||_a(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Hi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ri()}Fr(e,t){return Hi.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new od(this)}getSize(e){return Hi.resolve(this.size)}}class od extends $c{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Hi.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.persistence=e,this.Mr=new Ta((e=>na(e)),ra),this.lastRemoteSnapshotVersion=Ti.min(),this.highestTargetId=0,this.Or=0,this.Nr=new td,this.targetCount=0,this.Br=xc.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Hi.resolve()}getLastRemoteSnapshotVersion(e){return Hi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hi.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Hi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Hi.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new xc(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Hi.resolve()}updateTargetData(e,t){return this.qn(t),Hi.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Hi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Hi.waitFor(i).next((()=>r))}getTargetCount(e){return Hi.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Hi.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Hi.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Hi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Hi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Hi.resolve(n)}containsKey(e,t){return Hi.resolve(this.Nr.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.Lr={},this.overlays={},this.kr=new ro(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new sd(this),this.indexManager=new hc,this.remoteDocumentCache=function(e){return new id(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Du(t),this.$r=new Xc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ed,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new rd(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Xr("MemoryPersistence","Starting transaction:",e);const r=new ld(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Hi.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class ld extends zi{constructor(e){super(),this.currentSequenceNumber=e}}class ud{constructor(e){this.persistence=e,this.zr=new td,this.jr=null}static Hr(e){return new ud(e)}get Jr(){if(this.jr)return this.jr;throw ri()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Hi.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Hi.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Hi.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hi.forEach(this.Jr,(n=>{const r=xi.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Ti.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Hi.or([()=>Hi.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class cd{constructor(e,t){this.persistence=e,this.Zr=new Ta((e=>ao(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Uc(this,t)}static Hr(e,t){return new cd(e,t)}Ur(){}Wr(e){return Hi.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Hn(e){const t=this.Zn(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}Jn(e,t){return Hi.forEach(this.Zr,((n,r)=>this.er(e,n,r).next((e=>e?Hi.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Fr(e,(r=>this.er(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Ti.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Zr.set(t,e.currentSequenceNumber),Hi.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),Hi.resolve()}removeReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),Hi.resolve()}updateLimboDocument(e,t){return this.Zr.set(t,e.currentSequenceNumber),Hi.resolve()}Kr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ps(e.data.value)),t}er(e,t,n){return Hi.or([()=>this.persistence.Gr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Zr.get(t);return Hi.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Wi("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ho,{unique:!0}),e.createObjectStore("documentMutations")}(e),hd(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Hi.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),hd(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ti.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ho,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Hi.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Co});t.createIndex("collectionPathOverlayIndex",Do,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ao,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:go});t.createIndex("documentKeyIndex",vo),t.createIndex("collectionGroupIndex",yo)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Io}).createIndex("sequenceNumberIndex",ko,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:To}).createIndex("documentKeyIndex",Eo,{unique:!1})}(e)))),o}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=kc(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Hi.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Hi.forEach(n,(n=>{ii(n.userId===t.userId);const r=Fu(this.serializer,n);return Ic(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Ci(n),s=function(e){return[0,ao(e)]}(o);r.push(t.get(s).next((n=>n?Hi.resolve():(n=>t.put({targetId:0,path:ao(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Hi.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:So});const n=t.store("collectionParents"),r=new fc,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ao(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Ci(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},(([e,t,n],r)=>{const o=co(t);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Vu(n),i=Mu(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new xi(Ci.fromString(e.document.name).popFirst(5)):e.noDocument?xi.fromSegments(e.noDocument.path):e.unknownDocument?xi.fromSegments(e.unknownDocument.path):ri()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Hi.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=qc(this.serializer),i=new ad(ud.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ma();Fu(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Hi.forEach(n,((e,n)=>{const o=new Gr(n),s=qu.lt(this.serializer,o),a=i.getIndexManager(o),l=Tc.lt(o,this.serializer,a,i.referenceDelegate);return new Jc(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Vo(t,ro._e),e).next()}))}))}}function hd(e){e.createObjectStore("targetDocuments",{keyPath:wo}).createIndex("documentTargetsIndex",_o,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bo,{unique:!0}),e.createObjectStore("targetGlobal")}const fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pd{constructor(e,t,n,r,i,o,s,a,l,u,c=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=l,this.ai=u,this.ui=c,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!pd.D())throw new li(ai.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jc(this,r),this.Ti=t+"main",this.serializer=new Du(a),this.Ei=new Yi(this.Ti,this.ui,new dd(this.serializer)),this.Qr=new Oc(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qc(this.serializer),this.$r=new Bu,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new li(ai.FAILED_PRECONDITION,fd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new ro(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>gd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Zi(e))return Xr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return md(e).get("owner").next((e=>Hi.resolve(this.Si(e))))}bi(e){return gd(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Mo(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Hi.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Hi.resolve(!0):md(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new li(ai.FAILED_PRECONDITION,fd);return!1}}return!(!this.networkEnabled||!this.inForeground)||gd(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Xr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Vo(e,ro._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>gd(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Tc.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mc(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return qu.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Xr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Fo:14===e?Po:13===e?No:12===e?Oo:11===e?xo:void ri()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new Vo(r,this.kr?this.kr.next():ro._e),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new li(ai.FAILED_PRECONDITION,$i);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return md(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new li(ai.FAILED_PRECONDITION,fd)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return md(e).put("owner",t)}static D(){return Yi.D()}yi(e){const t=md(e);return t.get("owner").next((e=>this.Si(e)?(Xr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Hi.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ei(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,a.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Xr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return ei("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ei("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function md(e){return Mo(e,"owner")}function gd(e){return Mo(e,"clientMetadata")}function vd(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class yd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Ma(),r=Ma();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new yd(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return(0,a.G6)()?8:Yi.v((0,a.z$)())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new bd;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Qr()<=s["in"].DEBUG&&Xr("QueryEngine","SDK will not create cache indexes for query:",wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Hi.resolve()):(Qr()<=s["in"].DEBUG&&Xr("QueryEngine","Query:",wa(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Qr()<=s["in"].DEBUG&&Xr("QueryEngine","The SDK decides to create cache indexes for query:",wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pa(t))):Hi.resolve())}ji(e,t){if(da(t))return Hi.resolve(null);let n=pa(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=va(t,null,"F"),n=pa(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ma(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,va(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return da(t)||r.isEqual(Ti.min())?Hi.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?Hi.resolve(null):(Qr()<=s["in"].DEBUG&&Xr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wa(t)),this.es(e,o,t,Ri(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new zo(Ia(e));return t.forEach(((t,r)=>{_a(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Qr()<=s["in"].DEBUG&&Xr("QueryEngine","Using full collection scan to execute query:",wa(t)),this.zi.getDocumentsMatchingQuery(e,t,ji.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new jo(_i),this.rs=new Ta((e=>na(e)),ra),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Sd(e,t,n,r){return new _d(e,t,n,r)}async function Id(e,t){const n=si(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Ma();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function kd(e,t){const n=si(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Hi.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);ii(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ma();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function Td(e){const t=si(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Ed(e,t){const n=si(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Ko.EMPTY_BYTE_STRING,Ti.min()).withLastLimboFreeSnapshotVersion(Ti.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,o)&&s.push(n.Qr.updateTargetData(e,u))}));let a=Ca(),l=Ma();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Cd(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Ti.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Hi.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}function Cd(e,t,n){let r=Ma(),i=Ma();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ca();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ti.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Xr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function Dd(e,t){const n=si(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ad(e,t){const n=si(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Hi.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Cu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function xd(e,t,n){const r=si(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Zi(e))throw e;Xr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Od(e,t,n){const r=si(e);let i=Ti.min(),o=Ma();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=si(e),i=r.rs.get(n);return void 0!==i?Hi.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,pa(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Ti.min(),n?o:Ma()))).next((e=>(Fd(r,Sa(t),e),{documents:e,hs:o})))))}function Nd(e,t){const n=si(e),r=si(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Pd(e,t){const n=si(e),r=n.ss.get(t)||Ti.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Ri(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Fd(n,t,e),e)))}function Fd(e,t,n){let r=e.ss.get(t)||Ti.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Vd(e,t,n,r){const i=si(e);let o=Ma(),s=Ca();for(const u of n){const e=t.Ps(u.metadata.name);u.document&&(o=o.add(e));const n=t.Is(u);n.setReadTime(t.Ts(u.metadata.readTime)),s=s.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await Ad(i,function(e){return pa(ca(Ci.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Cd(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}async function Md(e,t,n=Ma()){const r=await Ad(e,pa(Lu(t.bundledQuery))),i=si(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Ql(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(Ko.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Ld(e,t){return`firestore_clients_${e}_${t}`}function Rd(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Ud(e,t){return`firestore_targets_${e}_${t}`}class jd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new li(r.error.code,r.error.message))),o?new jd(e,t,r.state,i):(ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bd{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new li(n.error.code,n.error.message))),i?new Bd(e,n.state,r):(ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $d{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Ra();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=so(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new $d(e,i):(ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zd{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zd(t.clientId,t.onlineState):(ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qd{constructor(){this.activeTargetIds=Ra()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hd{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new jo(_i),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Ld(this.persistenceKey,this.Vs),this.Ss=function(e){return`firestore_sequence_number_${e}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new qd),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Fs=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Ld(this.persistenceKey,n));if(e){const t=$d.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Ud(this.persistenceKey,e));if(n){const r=Bd.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ud(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xr("SharedClientState","READ",e,t),t}setItem(e,t){Xr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Xr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=ro._e;if(null!=e)try{const n=JSON.parse(e);ii("number"==typeof n),t=n}catch(e){ei("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ro._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new jd(this.currentUser,e,t,n),i=Rd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=Rd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Ud(this.persistenceKey,e),i=new Bd(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return $d.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jd.Es(new Gr(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Bd.Es(r,t)}xs(e){return zd.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Xr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Ra();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Wd{constructor(){this.no=new qd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{io(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Xr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Xr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function Zd(){return null===Kd?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Qd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="WebChannelConnection";class eh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po=`projects/${n}/databases/${r}`,this.yo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get wo(){return!1}So(e,t,n,r,i){const o=Zd(),s=this.bo(e,t.toUriEncodedString());Xr("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(Xr("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw ti("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Qd[e];return`${this.fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Zd();return new Promise(((o,s)=>{const a=new qr;a.setWithCredentials(!0),a.listenOnce(jr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ur.NO_ERROR:const t=a.getResponseJson();Xr(Xd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Ur.TIMEOUT:Xr(Xd,`RPC '${e}' ${i} timed out`),s(new li(ai.DEADLINE_EXCEEDED,"Request time out"));break;case Ur.HTTP_ERROR:const n=a.getStatus();if(Xr(Xd,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ai).indexOf(t)>=0?t:ai.UNKNOWN}(t.status);s(new li(e,t.message))}else s(new li(ai.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new li(ai.UNAVAILABLE,"Connection failed."));break;default:ri()}}finally{Xr(Xd,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Xr(Xd,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Zd(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lr(),s=Rr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Xr(Xd,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=o.createWebChannel(u,a);let d=!1,h=!1;const f=new Jd({lo:t=>{h?Xr(Xd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Xr(Xd,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),Xr(Xd,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,zr.EventType.OPEN,(()=>{h||Xr(Xd,`RPC '${e}' stream ${r} transport opened.`)})),p(c,zr.EventType.CLOSE,(()=>{h||(h=!0,Xr(Xd,`RPC '${e}' stream ${r} transport closed`),f.Vo())})),p(c,zr.EventType.ERROR,(t=>{h||(h=!0,ti(Xd,`RPC '${e}' stream ${r} transport errored:`,t),f.Vo(new li(ai.UNAVAILABLE,"The operation could not be completed")))})),p(c,zr.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ii(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Xr(Xd,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Il[e];if(void 0!==t)return El(t)}(t),i=s.message;void 0===n&&(n=ai.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Vo(new li(n,i)),c.close()}else Xr(Xd,`RPC '${e}' stream ${r} received:`,i),f.mo(i)}})),p(s,Br.STAT_EVENT,(t=>{t.stat===$r.PROXY?Xr(Xd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===$r.NOPROXY&&Xr(Xd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.Ro()}),0),f}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(){return"undefined"!=typeof window?window:null}function nh(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(e){return new Wl(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t,n=1e3,r=1.5,i=6e4){this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Xr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ih(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===ai.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===ai.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Wo===t&&this.o_(e,n)}),(t=>{e((()=>{const e=new li(ai.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Xr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Xr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sh extends oh{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=cu(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ti.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ti.min():t.readTime?Ql(t.readTime):Ti.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=ou(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ia(r)?{documents:pu(e,r)}:{query:mu(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Kl(e,t.resumeToken);const r=Yl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ti.min())>0){n.readTime=Gl(e,t.snapshotVersion.toTimestamp());const r=Yl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=vu(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=ou(this.serializer),t.removeTarget=e,this.t_(t)}}class ah extends oh{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(ii(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=fu(e.writeResults,e.commitTime),n=Ql(e.commitTime);return this.listener.T_(n,t)}return ii(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ou(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>du(this.serializer,e)))};this.t_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new li(ai.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.So(e,Xl(t,n),r,i,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ai.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new li(ai.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.vo(e,Xl(t,n),r,o,s,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ai.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new li(ai.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}async function uh(e,t,n){var r;const i=si(e),{request:o,V_:s,parent:a}=function(e,t,n){const{ut:r,parent:i}=mu(e,t),o={},s=[];let a=0;return n.forEach((e=>{const t="aggregate_"+a++;o[t]=e.alias,"count"===e.aggregateType?s.push({alias:t,count:{}}):"avg"===e.aggregateType?s.push({alias:t,avg:{field:Su(e.fieldPath)}}):"sum"===e.aggregateType&&s.push({alias:t,sum:{field:Su(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:r.structuredQuery},parent:r.parent},V_:o,parent:i}}(i.serializer,function(e){const t=si(e);return t.Pe||(t.Pe=ma(t,e.explicitOrderBy)),t.Pe}(t),n);i.connection.wo||delete o.parent;const l=(await i.vo("RunAggregationQuery",i.serializer.databaseId,a,o,1)).filter((e=>!!e.result));ii(1===l.length);const u=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(u).reduce(((e,t)=>(e[s[t]]=u[t],e)),{})}class ch{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ei(t),this.g_=!1):Xr("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{wh(this)&&(Xr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=si(e);t.v_.add(4),await fh(t),t.x_.set("Unknown"),t.v_.delete(4),await hh(t)}(this))}))})),this.x_=new ch(n,r)}}async function hh(e){if(wh(e))for(const t of e.F_)await t(!0)}async function fh(e){for(const t of e.F_)await t(!1)}function ph(e,t){const n=si(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),bh(n)?yh(n):Rh(n).Jo()&&gh(n,t))}function mh(e,t){const n=si(e),r=Rh(n);n.C_.delete(t),r.Jo()&&vh(n,t),0===n.C_.size&&(r.Jo()?r.Xo():wh(n)&&n.x_.set("Unknown"))}function gh(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ti.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Rh(e).c_(t)}function vh(e,t){e.O_.Oe(t),Rh(e).l_(t)}function yh(e){e.O_=new jl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Rh(e).start(),e.x_.p_()}function bh(e){return wh(e)&&!Rh(e).Ho()&&e.C_.size>0}function wh(e){return 0===si(e).v_.size}function _h(e){e.O_=void 0}async function Sh(e){e.C_.forEach(((t,n)=>{gh(e,t)}))}async function Ih(e,t){_h(e),bh(e)?(e.x_.S_(t),yh(e)):e.x_.set("Unknown")}async function kh(e,t,n){if(e.x_.set("Online"),t instanceof Rl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Xr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Th(e,n)}else if(t instanceof Ml?e.O_.$e(t):t instanceof Ll?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Ti.min()))try{const t=await Td(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Ko.EMPTY_BYTE_STRING,r.snapshotVersion)),vh(e,t);const i=new Cu(r.target,t,n,r.sequenceNumber);gh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xr("RemoteStore","Failed to raise snapshot:",t),await Th(e,t)}}async function Th(e,t,n){if(!Zi(t))throw t;e.v_.add(1),await fh(e),e.x_.set("Offline"),n||(n=()=>Td(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xr("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await hh(e)}))}function Eh(e,t){return t().catch((n=>Th(e,n,t)))}async function Ch(e){const t=si(e),n=Uh(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Dh(t);)try{const e=await Dd(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Ah(t,e)}catch(e){await Th(t,e)}xh(t)&&Oh(t)}function Dh(e){return wh(e)&&e.D_.length<10}function Ah(e,t){e.D_.push(t);const n=Uh(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function xh(e){return wh(e)&&!Uh(e).Ho()&&e.D_.length>0}function Oh(e){Uh(e).start()}async function Nh(e){Uh(e).d_()}async function Ph(e){const t=Uh(e);for(const n of e.D_)t.I_(n.mutations)}async function Fh(e,t,n){const r=e.D_.shift(),i=bl.from(r,t,n);await Eh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ch(e)}async function Vh(e,t){t&&Uh(e).P_&&await async function(e,t){if(function(e){return Tl(e)&&e!==ai.ABORTED}(t.code)){const n=e.D_.shift();Uh(e).Zo(),await Eh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ch(e)}}(e,t),xh(e)&&Oh(e)}async function Mh(e,t){const n=si(e);n.asyncQueue.verifyOperationInProgress(),Xr("RemoteStore","RemoteStore received new credentials");const r=wh(n);n.v_.add(3),await fh(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await hh(n)}async function Lh(e,t){const n=si(e);t?(n.v_.delete(2),await hh(n)):t||(n.v_.add(2),await fh(n),n.x_.set("Unknown"))}function Rh(e){return e.N_||(e.N_=function(e,t,n){const r=si(e);return r.R_(),new sh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Po:Sh.bind(null,e),To:Ih.bind(null,e),u_:kh.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),bh(e)?yh(e):e.x_.set("Unknown")):(await e.N_.stop(),_h(e))}))),e.N_}function Uh(e){return e.B_||(e.B_=function(e,t,n){const r=si(e);return r.R_(),new ah(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Nh.bind(null,e),To:Vh.bind(null,e),E_:Ph.bind(null,e),T_:Fh.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Ch(e)):(await e.B_.stop(),e.D_.length>0&&(Xr("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))}))),e.B_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new jh(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new li(ai.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bh(e,t){if(ei("AsyncQueue",`${t}: ${e}`),Zi(e))return new li(ai.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.comparator=e?(t,n)=>e(t,n)||xi.comparator(t.key,n.key):(e,t)=>xi.comparator(e.key,t.key),this.keyedMap=Aa(),this.sortedSet=new jo(this.comparator)}static emptySet(e){return new $h(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $h))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new $h;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.L_=new jo(xi.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):ri():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class qh{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new qh(e,t,$h.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this.q_=void 0,this.Q_=[]}}class Wh{constructor(){this.queries=new Ta((e=>ba(e)),ya),this.onlineState="Unknown",this.K_=new Set}}async function Yh(e,t){const n=si(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Hh),i)try{o.q_=await n.onListen(r)}catch(e){const n=Bh(e,`Initialization of query '${wa(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.Q_.push(t),t.U_(n.onlineState),o.q_&&t.W_(o.q_)&&Qh(n)}async function Gh(e,t){const n=si(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Kh(e,t){const n=si(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Qh(n)}function Zh(e,t,n){const r=si(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function Qh(e){e.K_.forEach((e=>{e.next()}))}class Jh{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.serializer=e}Ps(e){return nu(this.serializer,e)}Is(e){return e.metadata.exists?lu(this.serializer,e.document,!1):As.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ql(e)}}class tf{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nf(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=Ci.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new ef(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ma()).add(e);t.set(n,r)}}return t}async complete(){const e=await Vd(this.localStore,new ef(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await Md(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function nf(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.key=e}}class of{constructor(e){this.key=e}}class sf{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ma(),this.mutatedKeys=Ma(),this.ua=Ia(e),this.ca=new $h(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new zh,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=_a(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.Ia(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.ua(c,a)>0||l&&this.ua(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ri()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==o.length||l?{snapshot:new qh(this.query,e.ca,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new zh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ma(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new of(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new rf(n))})),t}Ra(e){this.oa=e.hs,this.aa=Ma();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return qh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class af{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lf{constructor(e){this.key=e,this.ma=!1}}class uf{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ta((e=>ba(e)),ya),this.pa=new Map,this.ya=new Set,this.wa=new jo(xi.comparator),this.Sa=new Map,this.ba=new td,this.Da={},this.Ca=new Map,this.va=xc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function cf(e,t){const n=Uf(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await Ad(n.localStore,pa(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await df(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&ph(n.remoteStore,e)}return i}async function df(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Od(e.localStore,t.query,!1).then((({documents:e})=>t.view.ha(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return kf(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const o=await Od(e.localStore,t,!0),s=new sf(t,o.hs),a=s.ha(o.documents),l=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);kf(e,n,u.da);const c=new af(t,n,s);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function hf(e,t){const n=si(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!ya(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xd(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),mh(n.remoteStore,r.targetId),Sf(n,r.targetId)})).catch(qi)):(Sf(n,r.targetId),await xd(n.localStore,r.targetId,!0))}async function ff(e,t,n){const r=jf(e);try{const e=await function(e,t){const n=si(e),r=ki.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ma());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ca(),l=Ma();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=ul(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new hl(e.key,t,Ds(t.value.mapValue),rl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:xa(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new jo(_i)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Cf(r,e.changes),await Ch(r.remoteStore)}catch(e){const t=Bh(e,"Failed to persist write");n.reject(t)}}async function pf(e,t){const n=si(e);try{const e=await Ed(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(ii(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?ii(r.ma):e.removedDocuments.size>0&&(ii(r.ma),r.ma=!1))})),await Cf(n,e,t)}catch(e){await qi(e)}}function mf(e,t,n){const r=si(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=si(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Qh(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gf(e,t,n){const r=si(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new jo(xi.comparator);e=e.insert(o,As.newNoDocument(o,Ti.min()));const n=Ma().add(o),i=new Fl(Ti.min(),new Map,new jo(_i),e,n);await pf(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),Ef(r)}else await xd(r.localStore,t,!1).then((()=>Sf(r,t,n))).catch(qi)}async function vf(e,t){const n=si(e),r=t.batch.batchId;try{const e=await kd(n.localStore,t);_f(n,r,null),wf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cf(n,e)}catch(e){await qi(e)}}async function yf(e,t,n){const r=si(e);try{const e=await function(e,t){const n=si(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ii(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);_f(r,t,n),wf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cf(r,e)}catch(n){await qi(n)}}async function bf(e,t){const n=si(e);wh(n.remoteStore)||Xr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=si(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=Bh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}function wf(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function _f(e,t,n){const r=si(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Sf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||If(e,t)}))}function If(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(mh(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Ef(e))}function kf(e,t,n){for(const r of n)r instanceof rf?(e.ba.addReference(r.key,t),Tf(e,r)):r instanceof of?(Xr("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||If(e,r.key)):ri()}function Tf(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Xr("SyncEngine","New document in limbo: "+n),e.ya.add(r),Ef(e))}function Ef(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new xi(Ci.fromString(t)),r=e.va.next();e.Sa.set(r,new lf(n)),e.wa=e.wa.insert(n,r),ph(e.remoteStore,new Cu(pa(ca(n.path)),r,"TargetPurposeLimboResolution",ro._e))}}async function Cf(e,t,n){const r=si(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{s.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=yd.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=si(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Hi.forEach(t,(t=>Hi.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Hi.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Zi(e))throw e;Xr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function Df(e,t){const n=si(e);if(!n.currentUser.isEqual(t)){Xr("SyncEngine","User change. New user:",t.toKey());const e=await Id(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new li(ai.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Cf(n,e.us)}}function Af(e,t){const n=si(e),r=n.Sa.get(t);if(r&&r.ma)return Ma().add(r.key);{let e=Ma();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function xf(e,t){const n=si(e),r=await Od(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&kf(n,t.targetId,i.da),i}async function Of(e,t){const n=si(e);return Pd(n.localStore,t).then((e=>Cf(n,e)))}async function Nf(e,t,n,r){const i=si(e),o=await function(e,t){const n=si(e),r=si(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Hi.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Ch(i.remoteStore):"acknowledged"===n||"rejected"===n?(_f(i,t,r||null),wf(i,t),function(e,t){si(si(e).mutationQueue).Mn(t)}(i.localStore,t)):ri(),await Cf(i,o)):Xr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Pf(e,t){const n=si(e);if(Uf(n),jf(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Ff(n,e.toArray());n.Fa=!0,await Lh(n.remoteStore,!0);for(const r of t)ph(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Sf(n,i),xd(n.localStore,i,!0)))),mh(n.remoteStore,i)})),await t,await Ff(n,e),function(e){const t=si(e);t.Sa.forEach(((e,n)=>{mh(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new jo(xi.comparator)}(n),n.Fa=!1,await Lh(n.remoteStore,!1)}}async function Ff(e,t,n){const r=si(e),i=[],o=[];for(const s of t){let e;const t=r.pa.get(s);if(t&&0!==t.length){e=await Ad(r.localStore,pa(t[0]));for(const e of t){const t=r.ga.get(e),n=await xf(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Nd(r.localStore,s);e=await Ad(r.localStore,t),await df(r,Vf(t),s,!1,e.resumeToken)}i.push(e)}return r.fa.u_(o),i}function Vf(e){return ua(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Mf(e){return function(e){return si(si(e).persistence).Li()}(si(e).localStore)}async function Lf(e,t,n,r){const i=si(e);if(i.Fa)return void Xr("SyncEngine","Ignoring unexpected query state notification.");const o=i.pa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Pd(i.localStore,Sa(o[0])),r=Fl.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ko.EMPTY_BYTE_STRING);await Cf(i,e,r);break}case"rejected":await xd(i.localStore,t,!0),Sf(i,t,r);break;default:ri()}}async function Rf(e,t,n){const r=Uf(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){Xr("SyncEngine","Adding an already active target "+e);continue}const t=await Nd(r.localStore,e),n=await Ad(r.localStore,t);await df(r,Vf(t),n.targetId,!1,n.resumeToken),ph(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await xd(r.localStore,e,!1).then((()=>{mh(r.remoteStore,e),Sf(r,e)})).catch(qi)}}function Uf(e){const t=si(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Af.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gf.bind(null,t),t.fa.u_=Kh.bind(null,t.eventManager),t.fa.xa=Zh.bind(null,t.eventManager),t}function jf(e){const t=si(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yf.bind(null,t),t}function Bf(e,t,n){const r=si(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=si(e),r=Ql(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(nf(r));const i=new tf(r,e.localStore,t.serializer);let o=await t.Oa();for(;o;){const e=await i.na(o);e&&n._updateProgress(e),o=await t.Oa()}const s=await i.complete();return await Cf(e,s.sa,void 0),await function(e,t){const n=si(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ia)}catch(e){return ti("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}class $f{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Sd(this.persistence,new wd,e.initialUser,this.serializer)}createPersistence(e){return new ad(ud.Hr,this.serializer)}createSharedClientState(e){return new Wd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zf extends $f{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){ii(this.persistence.referenceDelegate instanceof cd);const n=this.persistence.referenceDelegate.garbageCollector;return new Lc(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?Sc.withCacheSize(this.cacheSizeBytes):Sc.DEFAULT;return new ad((e=>cd.Hr(e,t)),this.serializer)}}class qf extends $f{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await jf(this.Na.syncEngine),await Ch(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Sd(this.persistence,new wd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Lc(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new no(t,this.persistence);return new to(e.asyncQueue,n)}createPersistence(e){const t=vd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Sc.withCacheSize(this.cacheSizeBytes):Sc.DEFAULT;return new pd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,th(),nh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Wd}}class Hf extends qf{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof Hd&&(this.sharedClientState.syncEngine={Zs:Nf.bind(null,t),Xs:Lf.bind(null,t),eo:Rf.bind(null,t),Li:Mf.bind(null,t),Ys:Of.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await Pf(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=th();if(!Hd.D(t))throw new li(ai.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=vd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hd(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Wf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Df.bind(null,this.syncEngine),await Lh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wh}()}createDatastore(e){const t=rh(e.databaseInfo.databaseId),n=function(e){return new eh(e)}(e.databaseInfo);return function(e,t,n,r){return new lh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new dh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>mf(this.syncEngine,e,0)),function(){return Gd.D()?new Gd:new Yd}())}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new uf(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=si(e);Xr("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await fh(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new ui,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.X_)}`))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a(`length string (${t}) is not valid number`);const r=await this.Ua(n);return new Xh(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0;)if(await this.Ga())break;if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new li(ai.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=si(e),r={documents:t.map((e=>tu(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Ci.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=uu(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());ii(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new gl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=xi.fromPath(t);this.mutations.push(new vl(n,this.precondition(n)))})),await async function(e,t){const n=si(e),r={writes:t.map((e=>du(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Ci.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ri();t=Ti.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new li(ai.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ti.min())?rl.exists(!1):rl.updateTime(t):rl.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ti.min()))throw new li(ai.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rl.updateTime(t)}return rl.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new ih(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new Zf(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!io(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Tl(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Gr.UNAUTHENTICATED,this.clientId=wi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Xr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Xr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new li(ai.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Bh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Xf(e,t){e.asyncQueue.verifyOperationInProgress(),Xr("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Id(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ep(e,t){e.asyncQueue.verifyOperationInProgress();const n=await np(e);Xr("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Mh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Mh(t.remoteStore,n))),e._onlineComponents=t}function tp(e){return"FirebaseError"===e.name?e.code===ai.FAILED_PRECONDITION||e.code===ai.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function np(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xr("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!tp(n))throw n;ti("Error using user provided cache. Falling back to memory cache: "+n),await Xf(e,new $f)}}else Xr("FirestoreClient","Using default OfflineComponentProvider"),await Xf(e,new $f);return e._offlineComponents}async function rp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xr("FirestoreClient","Using user provided OnlineComponentProvider"),await ep(e,e._uninitializedComponentsProvider._online)):(Xr("FirestoreClient","Using default OnlineComponentProvider"),await ep(e,new Wf))),e._onlineComponents}function ip(e){return np(e).then((e=>e.persistence))}function op(e){return np(e).then((e=>e.localStore))}function sp(e){return rp(e).then((e=>e.remoteStore))}function ap(e){return rp(e).then((e=>e.syncEngine))}function lp(e){return rp(e).then((e=>e.datastore))}async function up(e){const t=await rp(e),n=t.eventManager;return n.onListen=cf.bind(null,t.syncEngine),n.onUnlisten=hf.bind(null,t.syncEngine),n}function cp(e){return e.asyncQueue.enqueue((async()=>{const t=await ip(e),n=await sp(e);return t.setNetworkEnabled(!0),function(e){const t=si(e);return t.v_.delete(0),hh(t)}(n)}))}function dp(e){return e.asyncQueue.enqueue((async()=>{const t=await ip(e),n=await sp(e);return t.setNetworkEnabled(!1),async function(e){const t=si(e);t.v_.add(0),await fh(t),t.x_.set("Offline")}(n)}))}function hp(e,t){const n=new ui;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=si(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new li(ai.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Bh(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await op(e),t,n))),n.promise}function fp(e,t,n={}){const r=new ui;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gf({next:o=>{t.enqueueAndForget((()=>Gh(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new li(ai.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new li(ai.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Jh(ca(n.path),o,{includeMetadataChanges:!0,Z_:!0});return Yh(e,s)}(await up(e),e.asyncQueue,t,n,r))),r.promise}function pp(e,t){const n=new ui;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Od(e,t,!0),i=new sf(t,r.hs),o=i.ha(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Bh(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await op(e),t,n))),n.promise}function mp(e,t,n={}){const r=new ui;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gf({next:n=>{t.enqueueAndForget((()=>Gh(e,s))),n.fromCache&&"server"===r.source?i.reject(new li(ai.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Jh(n,o,{includeMetadataChanges:!0,Z_:!0});return Yh(e,s)}(await up(e),e.asyncQueue,t,n,r))),r.promise}function gp(e,t){const n=new Gf(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){si(e).K_.add(t),t.next()}(await up(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){si(e).K_.delete(t)}(await up(e),n)))}}function vp(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Dl().encode(e):e,function(e,t){return new Kf(e,t)}(function(e,t){if(e instanceof Uint8Array)return Yf(e,t);if(e instanceof ArrayBuffer)return Yf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,rh(t));e.asyncQueue.enqueueAndForget((async()=>{Bf(await ap(e),i,r)}))}function yp(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=si(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await op(e),t)))}function bp(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=si(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const o=e.length,s=t.length;let a=0,l=0;for(;a<s&&l<o;){const o=n(e[l],t[a]);o<0?i(e[l++]):o>0?r(t[a++]):(a++,l++)}for(;a<s;)r(t[a++]);for(;l<o;)i(e[l++])}(n,t,Fi,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>Hi.waitFor(i)))))}(await op(e),t)))}function wp(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){si(e).ts.Ui=t}(await op(e),t)))}function _p(e){return e.asyncQueue.enqueue((async()=>function(e){const t=si(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(await op(e))))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Ip=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(e,t,n){if(!n)throw new li(ai.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Tp(e,t,n,r){if(!0===t&&!0===r)throw new li(ai.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ep(e){if(!xi.isDocumentKey(e))throw new li(ai.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Cp(e){if(xi.isDocumentKey(e))throw new li(ai.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Dp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ri()}function Ap(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new li(ai.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dp(e);throw new li(ai.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function xp(e,t){if(t<=0)throw new li(ai.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new li(ai.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new li(ai.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new li(ai.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new li(ai.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new li(ai.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Op({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new li(ai.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new li(ai.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Op(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new di;switch(e.type){case"firstParty":return new mi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new li(ai.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ip.get(e);t&&(Xr("ComponentProvider","Removing Datastore"),Ip.delete(e),t.terminate())}(this),Promise.resolve()}}function Pp(e,t,n,r={}){var i;const o=(e=Ap(e,Np))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Gr.MOCK_USER;else{t=(0,a.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new li(ai.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gr(o)}e._authCredentials=new hi(new ci(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Fp(this.firestore,e,this._query)}}class Vp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vp(this.firestore,e,this._key)}}class Mp extends Fp{constructor(e,t,n){super(e,t,ca(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vp(this.firestore,null,new xi(e))}withConverter(e){return new Mp(this.firestore,e,this._path)}}function Lp(e,t,...n){if(e=(0,a.m9)(e),kp("collection","path",t),e instanceof Np){const r=Ci.fromString(t,...n);return Cp(r),new Mp(e,null,r)}{if(!(e instanceof Vp||e instanceof Mp))throw new li(ai.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ci.fromString(t,...n));return Cp(r),new Mp(e.firestore,null,r)}}function Rp(e,t){if(e=Ap(e,Np),kp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new li(ai.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fp(e,null,function(e){return new la(Ci.emptyPath(),e)}(t))}function Up(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=wi.newId()),kp("doc","path",t),e instanceof Np){const r=Ci.fromString(t,...n);return Ep(r),new Vp(e,null,new xi(r))}{if(!(e instanceof Vp||e instanceof Mp))throw new li(ai.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ci.fromString(t,...n));return Ep(r),new Vp(e.firestore,e instanceof Mp?e.converter:null,new xi(r))}}function jp(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),(e instanceof Vp||e instanceof Mp)&&(t instanceof Vp||t instanceof Mp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bp(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),e instanceof Fp&&t instanceof Fp&&e.firestore===t.firestore&&ya(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class $p{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ih(this,"async_queue_retry"),this._u=()=>{const e=nh();e&&Xr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=nh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=nh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new ui;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Zi(e))throw e;Xr("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw ei("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=jh.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&ri()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function zp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class qp{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;class Wp extends Np{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=function(){return new $p}(),this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zp(this),this._firestoreClient.terminate()}}function Yp(e,t,n){n||(n="(default)");const r=(0,i.qX)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,a.vZ)(i,t))return e;throw new li(ai.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new li(ai.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new li(ai.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Gp(e,t){const n="object"==typeof e?e:(0,i.Mq)(),r="string"==typeof e?e:t||"(default)",o=(0,i.qX)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(0,a.P0)("firestore");e&&Pp(o,...e)}return o}function Kp(e){return e._firestoreClient||Zp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zp(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new rs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Sp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Jf(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Qp(e,t){am(e=Ap(e,Wp));const n=Kp(e);if(n._uninitializedComponentsProvider)throw new li(ai.FAILED_PRECONDITION,"SDK cache is already specified.");ti("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Wf;return Xp(n,i,new qf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Jp(e){am(e=Ap(e,Wp));const t=Kp(e);if(t._uninitializedComponentsProvider)throw new li(ai.FAILED_PRECONDITION,"SDK cache is already specified.");ti("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Wf;return Xp(t,r,new Hf(r,n.cacheSizeBytes))}function Xp(e,t,n){const r=new ui;return e.asyncQueue.enqueue((async()=>{try{await Xf(e,n),await ep(e,t),r.resolve()}catch(e){const n=e;if(!tp(n))throw n;ti("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function em(e){if(e._initialized&&!e._terminated)throw new li(ai.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ui;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Yi.D())return Promise.resolve();const t=e+"main";await Yi.delete(t)}(vd(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function tm(e){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((async()=>bf(await ap(e),t))),t.promise}(Kp(e=Ap(e,Wp)))}function nm(e){return cp(Kp(e=Ap(e,Wp)))}function rm(e){return dp(Kp(e=Ap(e,Wp)))}function im(e){return(0,i.wN)(e.app,"firestore",e._databaseId.database),e._delete()}function om(e,t){const n=Kp(e=Ap(e,Wp)),r=new qp;return vp(n,e._databaseId,t,r),r}function sm(e,t){return yp(Kp(e=Ap(e,Wp)),t).then((t=>t?new Fp(e,null,t.query):null))}function am(e){if(e._initialized||e._terminated)throw new li(ai.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class um{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cm(Ko.fromBase64String(e))}catch(e){throw new li(ai.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new cm(Ko.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new li(ai.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function hm(){return new dm("__name__")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new li(ai.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new li(ai.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _i(this._lat,e._lat)||_i(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=/^__.*__$/;class gm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new hl(e,this.data,this.fieldMask,t,this.fieldTransforms):new dl(e,this.data,t,this.fieldTransforms)}}class vm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ym(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ri()}}class bm{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Um(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(ym(this.du)&&mm.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class wm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rh(e)}Su(e,t,n,r=!1){return new bm({du:e,methodName:t,wu:n,path:Ai.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(e){const t=e._freezeSettings(),n=rh(e._databaseId);return new wm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sm(e,t,n,r,i,o={}){const s=e.Su(o.merge||o.mergeFields?2:0,t,n,i);Vm("Data must be an object, but it was:",s,r);const a=Pm(r,s);let l,u;if(o.merge)l=new Wo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Mm(t,r,n);if(!s.contains(i))throw new li(ai.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);jm(e,i)||e.push(i)}l=new Wo(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new gm(new Cs(a),l,u)}class Im extends fm{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Im}}function km(e,t,n){return new bm({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Tm extends fm{_toFieldTransform(e){return new el(e.path,new Wa)}isEqual(e){return e instanceof Tm}}class Em extends fm{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=km(this,e,!0),n=this.bu.map((e=>Nm(e,t))),r=new Ya(n);return new el(e.path,r)}isEqual(e){return e instanceof Em&&(0,a.vZ)(this.bu,e.bu)}}class Cm extends fm{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=km(this,e,!0),n=this.bu.map((e=>Nm(e,t))),r=new Ka(n);return new el(e.path,r)}isEqual(e){return e instanceof Cm&&(0,a.vZ)(this.bu,e.bu)}}class Dm extends fm{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new Qa(e.serializer,Ba(e.serializer,this.Du));return new el(e.path,t)}isEqual(e){return e instanceof Dm&&this.Du===e.Du}}function Am(e,t,n,r){const i=e.Su(1,t,n);Vm("Data must be an object, but it was:",i,r);const o=[],s=Cs.empty();Ro(r,((e,r)=>{const l=Rm(t,e,n);r=(0,a.m9)(r);const u=i.fu(l);if(r instanceof Im)o.push(l);else{const e=Nm(r,u);null!=e&&(o.push(l),s.set(l,e))}}));const l=new Wo(o);return new vm(s,l,i.fieldTransforms)}function xm(e,t,n,r,i,o){const s=e.Su(1,t,n),l=[Mm(t,r,n)],u=[i];if(o.length%2!=0)throw new li(ai.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<o.length;a+=2)l.push(Mm(t,o[a])),u.push(o[a+1]);const c=[],d=Cs.empty();for(let f=l.length-1;f>=0;--f)if(!jm(c,l[f])){const e=l[f];let t=u[f];t=(0,a.m9)(t);const n=s.fu(e);if(t instanceof Im)c.push(e);else{const r=Nm(t,n);null!=r&&(c.push(e),d.set(e,r))}}const h=new Wo(c);return new vm(d,h,s.fieldTransforms)}function Om(e,t,n,r=!1){return Nm(n,e.Su(r?4:3,t))}function Nm(e,t){if(Fm(e=(0,a.m9)(e)))return Vm("Unsupported field value:",t,e),Pm(e,t);if(e instanceof fm)return function(e,t){if(!ym(t.du))throw t.pu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.pu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Nm(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ba(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ki.fromDate(e);return{timestampValue:Gl(t.serializer,n)}}if(e instanceof ki){const n=new ki(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gl(t.serializer,n)}}if(e instanceof pm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cm)return{bytesValue:Kl(t.serializer,e._byteString)};if(e instanceof Vp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Jl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu(`Unsupported field value: ${Dp(e)}`)}(e,t)}function Pm(e,t){const n={};return Uo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ro(e,((e,r)=>{const i=Nm(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Fm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ki||e instanceof pm||e instanceof cm||e instanceof Vp||e instanceof fm)}function Vm(e,t,n){if(!Fm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Dp(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Mm(e,t,n){if((t=(0,a.m9)(t))instanceof dm)return t._internalPath;if("string"==typeof t)return Rm(e,t);throw Um("Field path arguments must be of type string or ",e,!1,void 0,n)}const Lm=new RegExp("[~\\*/\\[\\]]");function Rm(e,t,n){if(t.search(Lm)>=0)throw Um(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dm(...t.split("."))._internalPath}catch(_){throw Um(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Um(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new li(ai.INVALID_ARGUMENT,a+e+l)}function jm(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $m(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $m extends Bm{data(){return super.data()}}function zm(e,t){return"string"==typeof t?Rm(e,t):t instanceof dm?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new li(ai.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class Wm extends Hm{}function Ym(e,t,...n){let r=[];t instanceof Hm&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Zm)).length,n=e.filter((e=>e instanceof Gm)).length;if(t>1||t>0&&n>0)throw new li(ai.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);for(const i of r)e=i._apply(e);return e}class Gm extends Wm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Gm(e,t,n)}_apply(e){const t=this._parse(e);return fg(e._query,t),new Fp(e.firestore,e.converter,ga(e._query,t))}_parse(e){const t=_m(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new li(ai.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){hg(s,o);const t=[];for(const n of s)t.push(dg(r,e,n));a={arrayValue:{values:t}}}else a=dg(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hg(s,o),a=Om(n,t,s,"in"===o||"not-in"===o);return Ms.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Km(e,t,n){const r=t,i=zm("where",e);return Gm._create(i,r,n)}class Zm extends Hm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ls.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)fg(n,i),n=ga(n,i)}(e._query,t),new Fp(e.firestore,e.converter,ga(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Qm(...e){return e.forEach((e=>pg("or",e))),Zm._create("or",e)}function Jm(...e){return e.forEach((e=>pg("and",e))),Zm._create("and",e)}class Xm extends Wm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new li(ai.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new li(ai.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ps(t,n)}(e._query,this._field,this._direction);return new Fp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new la(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function eg(e,t="asc"){const n=t,r=zm("orderBy",e);return Xm._create(r,n)}class tg extends Wm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new tg(e,t,n)}_apply(e){return new Fp(e.firestore,e.converter,va(e._query,this._limit,this._limitType))}}function ng(e){return xp("limit",e),tg._create("limit",e,"F")}function rg(e){return xp("limitToLast",e),tg._create("limitToLast",e,"L")}class ig extends Wm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ig(e,t,n)}_apply(e){const t=cg(e,this.type,this._docOrFields,this._inclusive);return new Fp(e.firestore,e.converter,function(e,t){return new la(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function og(...e){return ig._create("startAt",e,!0)}function sg(...e){return ig._create("startAfter",e,!1)}class ag extends Wm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ag(e,t,n)}_apply(e){const t=cg(e,this.type,this._docOrFields,this._inclusive);return new Fp(e.firestore,e.converter,function(e,t){return new la(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lg(...e){return ag._create("endBefore",e,!1)}function ug(...e){return ag._create("endAt",e,!0)}function cg(e,t,n,r){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof Bm)return function(e,t,n,r,i){if(!r)throw new li(ai.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of fa(e))if(s.field.isKeyField())o.push(ms(t,r.key));else{const e=r.data.field(s.field);if(es(e))throw new li(ai.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new li(ai.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new xs(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=_m(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new li(ai.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new li(ai.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!ha(e)&&-1!==o.indexOf("/"))throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(Ci.fromString(o));if(!xi.isDocumentKey(n))throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new xi(n);a.push(ms(t,i))}else{const e=Om(n,r,o);a.push(e)}}return new xs(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function dg(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new li(ai.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ha(t)&&-1!==n.indexOf("/"))throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ci.fromString(n));if(!xi.isDocumentKey(r))throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ms(e,new xi(r))}if(n instanceof Vp)return ms(e,n._key);throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dp(n)}.`)}function hg(e,t){if(!Array.isArray(e)||0===e.length)throw new li(ai.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new li(ai.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new li(ai.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function pg(e,t){if(!(t instanceof Gm||t instanceof Zm))throw new li(ai.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class mg{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ri()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ro(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new pm(Jo(e.latitude),Jo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ts(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ns(e));default:return null}}convertTimestamp(e){const t=Qo(e);return new ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ci.fromString(e);ii(Eu(n));const r=new is(n.get(1),n.get(3)),i=new xi(n.popFirst(5));return r.isEqual(t)||ei(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class vg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new cm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vp(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(e){return new lm("sum",Mm("sum",e))}function bg(e){return new lm("avg",Mm("average",e))}function wg(){return new lm("count")}function _g(e,t){var n,r;return e instanceof lm&&t instanceof lm&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())}function Sg(e,t){return Bp(e.query,t.query)&&(0,a.vZ)(e.data(),t.data())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kg extends Bm{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Tg extends kg{data(e={}){return super.data(e)}}class Eg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ig(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Tg(this._firestore,this._userDataWriter,n.key,n,new Ig(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new li(ai.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Tg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ig(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Tg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ig(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Cg(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Cg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ri()}}function Dg(e,t){return e instanceof kg&&t instanceof kg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Eg&&t instanceof Eg&&e._firestore===t._firestore&&Bp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(e){e=Ap(e,Vp);const t=Ap(e.firestore,Wp);return fp(Kp(t),e._key).then((n=>zg(t,e,n)))}class xg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new cm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vp(this.firestore,null,t)}}function Og(e){e=Ap(e,Vp);const t=Ap(e.firestore,Wp),n=Kp(t),r=new xg(t);return hp(n,e._key).then((n=>new kg(t,r,e._key,n,new Ig(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Ng(e){e=Ap(e,Vp);const t=Ap(e.firestore,Wp);return fp(Kp(t),e._key,{source:"server"}).then((n=>zg(t,e,n)))}function Pg(e){e=Ap(e,Fp);const t=Ap(e.firestore,Wp),n=Kp(t),r=new xg(t);return qm(e._query),mp(n,e._query).then((n=>new Eg(t,r,e,n)))}function Fg(e){e=Ap(e,Fp);const t=Ap(e.firestore,Wp),n=Kp(t),r=new xg(t);return pp(n,e._query).then((n=>new Eg(t,r,e,n)))}function Vg(e){e=Ap(e,Fp);const t=Ap(e.firestore,Wp),n=Kp(t),r=new xg(t);return mp(n,e._query,{source:"server"}).then((n=>new Eg(t,r,e,n)))}function Mg(e,t,n){e=Ap(e,Vp);const r=Ap(e.firestore,Wp),i=gg(e.converter,t,n);return $g(r,[Sm(_m(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rl.none())])}function Lg(e,t,n,...r){e=Ap(e,Vp);const i=Ap(e.firestore,Wp),o=_m(i);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof dm?xm(o,"updateDoc",e._key,t,n,r):Am(o,"updateDoc",e._key,t),$g(i,[s.toMutation(e._key,rl.exists(!0))])}function Rg(e){return $g(Ap(e.firestore,Wp),[new gl(e._key,rl.none())])}function Ug(e,t){const n=Ap(e.firestore,Wp),r=Up(e),i=gg(e.converter,t);return $g(n,[Sm(_m(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rl.exists(!1))]).then((()=>r))}function jg(e,...t){var n,r,i;e=(0,a.m9)(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||zp(t[s])||(o=t[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges};if(zp(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,d;if(e instanceof Vp)c=Ap(e.firestore,Wp),d=ca(e._key.path),u={next:n=>{t[s]&&t[s](zg(c,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Ap(e,Fp);c=Ap(n.firestore,Wp),d=n._query;const r=new xg(c);u={next:e=>{t[s]&&t[s](new Eg(c,r,n,e))},error:t[s+1],complete:t[s+2]},qm(e._query)}return function(e,t,n,r){const i=new Gf(r),o=new Jh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Yh(await up(e),o))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>Gh(await up(e),o)))}}(Kp(c),d,l,u)}function Bg(e,t){return gp(Kp(e=Ap(e,Wp)),zp(t)?t:{next:t})}function $g(e,t){return function(e,t){const n=new ui;return e.asyncQueue.enqueueAndForget((async()=>ff(await ap(e),t,n))),n.promise}(Kp(e),t)}function zg(e,t,n){const r=n.docs.get(t._key),i=new xg(e);return new kg(e,i,t._key,r,new Ig(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(e){return Hg(e,{count:wg()})}function Hg(e,t){const n=Ap(e.firestore,Wp),r=Kp(n),i=function(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}(t,((e,t)=>new _l(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new ui;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await lp(e);r.resolve(uh(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new xg(e);return new um(t,r,n)}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e,t)))}class Wg{constructor(e){this.kind="memory",this._onlineComponentProvider=new Wf,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new $f}toJSON(){return{kind:this.kind}}}class Yg{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=nv(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Gg{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new $f}toJSON(){return{kind:this.kind}}}class Kg{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new zf(e)}toJSON(){return{kind:this.kind}}}function Zg(){return new Gg}function Qg(e){return new Kg(null==e?void 0:e.cacheSizeBytes)}function Jg(e){return new Wg(e)}function Xg(e){return new Yg(e)}class ev{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Wf,this._offlineComponentProvider=new qf(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}class tv{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Wf,this._offlineComponentProvider=new Hf(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}function nv(e){return new ev(null==e?void 0:e.forceOwnership)}function rv(){return new tv}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_m(e)}set(e,t,n){this._verifyNotCommitted();const r=sv(e,this._firestore),i=gg(r.converter,t,n),o=Sm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,rl.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=sv(e,this._firestore);let o;return o="string"==typeof(t=(0,a.m9)(t))||t instanceof dm?xm(this._dataReader,"WriteBatch.update",i._key,t,n,r):Am(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,rl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sv(e,this._firestore);return this._mutations=this._mutations.concat(new gl(t._key,rl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new li(ai.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sv(e,t){if((e=(0,a.m9)(e)).firestore!==t)throw new li(ai.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_m(e)}get(e){const t=sv(e,this._firestore),n=new vg(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return ri();const r=e[0];if(r.isFoundDocument())return new Bm(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Bm(this._firestore,n,t._key,null,t.converter);throw ri()}))}set(e,t,n){const r=sv(e,this._firestore),i=gg(r.converter,t,n),o=Sm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=sv(e,this._firestore);let o;return o="string"==typeof(t=(0,a.m9)(t))||t instanceof dm?xm(this._dataReader,"Transaction.update",i._key,t,n,r):Am(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=sv(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sv(e,this._firestore),n=new xg(this._firestore);return super.get(e).then((e=>new kg(this._firestore,n,t._key,e._document,new Ig(!1,!1),t.converter)))}}function lv(e,t,n){e=Ap(e,Wp);const r=Object.assign(Object.assign({},iv),n);return function(e){if(e.maxAttempts<1)throw new li(ai.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ui;return e.asyncQueue.enqueueAndForget((async()=>{const i=await lp(e);new Qf(e.asyncQueue,i,n,t,r).ja()})),r.promise}(Kp(e),(n=>t(new av(e,n))),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(){return new Im("deleteField")}function cv(){return new Tm("serverTimestamp")}function dv(...e){return new Em("arrayUnion",e)}function hv(...e){return new Cm("arrayRemove",e)}function fv(e){return new Dm("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(e){return Kp(e=Ap(e,Wp)),new ov(e,(t=>$g(e,t)))
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function mv(e,t){var n;const r=Kp(e=Ap(e,Wp));if(!r._uninitializedComponentsProvider||"memory"===(null===(n=r._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return ti("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new li(ai.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const r of t.indexes){const e=gv(r,"collectionGroup"),t=[];if(Array.isArray(r.fields))for(const n of r.fields){const e=Rm("setIndexConfiguration",gv(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new Vi(e,2)):"ASCENDING"===n.order?t.push(new Vi(e,0)):"DESCENDING"===n.order&&t.push(new Vi(e,1))}n.push(new Oi(Oi.UNKNOWN_ID,e,t,Li.empty()))}return n}(t);return bp(r,i)}function gv(e,t){if("string"!=typeof e[t])throw new li(ai.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this._client=e,this.type="PersistentCacheIndexManager"}}function yv(e){var t;e=Ap(e,Wp);const n=Iv.get(e);if(n)return n;const r=Kp(e);if("persistent"!==(null===(t=r._uninitializedComponentsProvider)||void 0===t?void 0:t._offlineKind))return null;const i=new vv(r);return Iv.set(e,i),i}function bv(e){Sv(e,!0)}function wv(e){Sv(e,!1)}function _v(e){e._client.verifyNotTerminated(),_p(e._client).then((e=>Xr("deleting all persistent cache indexes succeeded"))).catch((e=>ti("deleting all persistent cache indexes failed",e)))}function Sv(e,t){e._client.verifyNotTerminated(),wp(e._client,t).then((e=>Xr(`setting persistent cache index auto creation isEnabled=${t} succeeded`))).catch((e=>ti(`setting persistent cache index auto creation isEnabled=${t} failed`,e)))}const Iv=new WeakMap;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Tv.instance.onExistenceFilterMismatch(e)}}class Tv{constructor(){this.Cu=new Map}static get instance(){return Ev||(Ev=new Tv,function(e){if(Cl)throw new Error("a TestingHooksSpi instance is already set");Cl=e}(Ev)),Ev}tt(e){this.Cu.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Cu;return n.set(t,e),()=>n.delete(t)}}let Ev=null;!function(e,t=!0){!function(e){Kr=e}(i.Jn),(0,i.Xd)(new o.wA("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Wp(new fi(e.getProvider("auth-internal")),new vi(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new li(ai.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),(0,i.KN)(Yr,"4.4.1",e),(0,i.KN)(Yr,"4.4.1","esm2017")}()},6089:function(e,t,n){n.d(t,{WB:function(){return ee}});var r=n(2262),i=n(6252),o=!1;var s=n(5689);
/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */
let a;const l=e=>a=e,u=Symbol();var c;(function(e){e["direct"]="direct",e["patchObject"]="patch object",e["patchFunction"]="patch function"})(c||(c={}));const d="undefined"!==typeof window,h=!1,f=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function p(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function m(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){w(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function g(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function v(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const y="object"===typeof navigator?navigator:{userAgent:""},b=(()=>/Macintosh/.test(y.userAgent)&&/AppleWebKit/.test(y.userAgent)&&!/Safari/.test(y.userAgent))(),w=d?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!b?_:"msSaveOrOpenBlob"in y?S:I:()=>{};function _(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener","string"===typeof e?(r.href=e,r.origin!==location.origin?g(r.href)?m(e,t,n):(r.target="_blank",v(r)):v(r)):(r.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(r.href)}),4e4),setTimeout((function(){v(r)}),0))}function S(e,t="download",n){if("string"===typeof e)if(g(e))m(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){v(t)}))}else navigator.msSaveOrOpenBlob(p(e,n),t)}function I(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"===typeof e)return m(e,t,n);const i="application/octet-stream"===e.type,o=/constructor/i.test(String(f.HTMLElement))||"safari"in f,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o||b)&&"undefined"!==typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!==typeof e)throw r=null,new Error("Wrong reader.result type");e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}function k(e,t){const n="🍍 "+e;"function"===typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?console.error(n):"warn"===t?console.warn(n):console.log(n)}function T(e){return"_a"in e&&"install"in e}function E(){if(!("clipboard"in navigator))return k("Your browser doesn't support the Clipboard API","error"),!0}function C(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(k('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function D(e){if(!E())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),k("Global state copied to clipboard.")}catch(t){if(C(t))return;k("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function A(e){if(!E())try{F(e,JSON.parse(await navigator.clipboard.readText())),k("Global state pasted from clipboard.")}catch(t){if(C(t))return;k("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function x(e){try{w(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){k("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let O;function N(){function e(){return new Promise(((e,t)=>{O.onchange=async()=>{const t=O.files;if(!t)return e(null);const n=t.item(0);return e(n?{text:await n.text(),file:n}:null)},O.oncancel=()=>e(null),O.onerror=t,O.click()}))}return O||(O=document.createElement("input"),O.type="file",O.accept=".json"),e}async function P(e){try{const t=N(),n=await t();if(!n)return;const{text:r,file:i}=n;F(e,JSON.parse(r)),k(`Global state imported from "${i.name}".`)}catch(t){k("Failed to import the state from JSON. Check the console for more details.","error"),console.error(t)}}function F(e,t){for(const n in t){const r=e.state.value[n];r?Object.assign(r,t[n]):e.state.value[n]=t[n]}}function V(e){return{_custom:{display:e}}}const M="🍍 Pinia (root)",L="_root";function R(e){return T(e)?{id:L,label:M}:{id:e.$id,label:e.$id}}function U(e){if(T(e)){const t=Array.from(e._s.keys()),n=e._s,r={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>n.get(e)._getters)).map((e=>{const t=n.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,n)=>(e[n]=t[n],e)),{})}}))};return r}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}function j(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:V(e.type),key:V(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function B(e){switch(e){case c.direct:return"mutation";case c.patchFunction:return"$patch";case c.patchObject:return"$patch";default:return"unknown"}}let $=!0;const z=[],q="pinia:mutations",H="pinia",{assign:W}=Object,Y=e=>"🍍 "+e;function G(e,t){(0,s.F1)({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:z,app:e},(n=>{"function"!==typeof n.now&&k("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:q,label:"Pinia 🍍",color:15064968}),n.addInspector({id:H,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{D(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await A(t),n.sendInspectorTree(H),n.sendInspectorState(H)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{x(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await P(t),n.sendInspectorTree(H),n.sendInspectorState(H)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:e=>{const n=t._s.get(e);n?"function"!==typeof n.$reset?k(`Cannot reset "${e}" store because it doesn't have a "$reset" method implemented.`,"warn"):(n.$reset(),k(`Store "${e}" reset.`)):k(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((e,t)=>{const n=e.componentInstance&&e.componentInstance.proxy;if(n&&n._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:Y(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:(0,r.IU)(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,n)=>(e[n]=t.$state[n],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:Y(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,n)=>{try{e[n]=t[n]}catch(r){e[n]=r}return e}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===e&&n.inspectorId===H){let e=[t];e=e.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(n.filter.toLowerCase()):M.toLowerCase().includes(n.filter.toLowerCase()))):e).map(R)}})),n.on.getInspectorState((n=>{if(n.app===e&&n.inspectorId===H){const e=n.nodeId===L?t:t._s.get(n.nodeId);if(!e)return;e&&(n.state=U(e))}})),n.on.editInspectorState(((n,r)=>{if(n.app===e&&n.inspectorId===H){const e=n.nodeId===L?t:t._s.get(n.nodeId);if(!e)return k(`store "${n.nodeId}" not found`,"error");const{path:r}=n;T(e)?r.unshift("state"):1===r.length&&e._customProperties.has(r[0])&&!(r[0]in e.$state)||r.unshift("$state"),$=!1,n.set(e,r,n.state.value),$=!0}})),n.on.editComponentState((e=>{if(e.type.startsWith("🍍")){const n=e.type.replace(/^🍍\s*/,""),r=t._s.get(n);if(!r)return k(`store "${n}" not found`,"error");const{path:i}=e;if("state"!==i[0])return k(`Invalid path for store "${n}":\n${i}\nOnly state can be modified.`);i[0]="$state",$=!1,e.set(r,i,e.state.value),$=!0}}))}))}function K(e,t){z.includes(Y(t.$id))||z.push(Y(t.$id)),(0,s.F1)({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:z,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const n="function"===typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:r,onError:i,name:o,args:s})=>{const a=Q++;e.addTimelineEvent({layerId:q,event:{time:n(),title:"🛫 "+o,subtitle:"start",data:{store:V(t.$id),action:V(o),args:s},groupId:a}}),r((r=>{Z=void 0,e.addTimelineEvent({layerId:q,event:{time:n(),title:"🛬 "+o,subtitle:"end",data:{store:V(t.$id),action:V(o),args:s,result:r},groupId:a}})})),i((r=>{Z=void 0,e.addTimelineEvent({layerId:q,event:{time:n(),logType:"error",title:"💥 "+o,subtitle:"end",data:{store:V(t.$id),action:V(o),args:s,error:r},groupId:a}})}))}),!0),t._customProperties.forEach((o=>{(0,i.YP)((()=>(0,r.SU)(t[o])),((t,r)=>{e.notifyComponentUpdate(),e.sendInspectorState(H),$&&e.addTimelineEvent({layerId:q,event:{time:n(),title:"Change",subtitle:o,data:{newValue:t,oldValue:r},groupId:Z}})}),{deep:!0})})),t.$subscribe((({events:r,type:i},o)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(H),!$)return;const s={time:n(),title:B(i),data:W({store:V(t.$id)},j(r)),groupId:Z};i===c.patchFunction?s.subtitle="⤵️":i===c.patchObject?s.subtitle="🧩":r&&!Array.isArray(r)&&(s.subtitle=r.type),r&&(s.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),e.addTimelineEvent({layerId:q,event:s})}),{detached:!0,flush:"sync"});const o=t._hotUpdate;t._hotUpdate=(0,r.Xl)((r=>{o(r),e.addTimelineEvent({layerId:q,event:{time:n(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:V(t.$id),info:V("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(H),e.sendInspectorState(H)}));const{$dispose:s}=t;t.$dispose=()=>{s(),e.notifyComponentUpdate(),e.sendInspectorTree(H),e.sendInspectorState(H),e.getSettings().logStoreChanges&&k(`Disposed "${t.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(H),e.sendInspectorState(H),e.getSettings().logStoreChanges&&k(`"${t.$id}" store installed 🆕`)}))}let Z,Q=0;function J(e,t,n){const i=t.reduce(((t,n)=>(t[n]=(0,r.IU)(e)[n],t)),{});for(const r in i)e[r]=function(){const t=Q,o=n?new Proxy(e,{get(...e){return Z=t,Reflect.get(...e)},set(...e){return Z=t,Reflect.set(...e)}}):e;Z=t;const s=i[r].apply(o,arguments);return Z=void 0,s}}function X({app:e,store:t,options:n}){if(t.$id.startsWith("__hot:"))return;t._isOptionsAPI=!!n.state,J(t,Object.keys(n.actions),t._isOptionsAPI);const i=t._hotUpdate;(0,r.IU)(t)._hotUpdate=function(e){i.apply(this,arguments),J(t,Object.keys(e._hmrPayload.actions),!!t._isOptionsAPI)},K(e,t)}function ee(){const e=(0,r.B)(!0),t=e.run((()=>(0,r.iH)({})));let n=[],i=[];const s=(0,r.Xl)({install(e){l(s),o||(s._a=e,e.provide(u,s),e.config.globalProperties.$pinia=s,h&&G(e,s),i.forEach((e=>n.push(e))),i=[])},use(e){return this._a||o?n.push(e):i.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return h&&"undefined"!==typeof Proxy&&s.use(X),s}Symbol();const{assign:te}=Object},7303:function(e,t,n){n.d(t,{ZP:function(){return $b}});var r=n(2262),i=n(6252),o=n(3577),s=n(9963),a=n(804),l=Object.defineProperty,u=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t,n)=>(u(e,"symbol"!==typeof t?t+"":t,n),n),d="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var f=Object.prototype,p=f.hasOwnProperty;function m(e,t){return null!=e&&p.call(e,t)}var g=m,v=Array.isArray,y=v,b="object"==typeof d&&d&&d.Object===Object&&d,w=b,_=w,S="object"==typeof self&&self&&self.Object===Object&&self,I=_||S||Function("return this")(),k=I,T=k,E=T.Symbol,C=E,D=C,A=Object.prototype,x=A.hasOwnProperty,O=A.toString,N=D?D.toStringTag:void 0;function P(e){var t=x.call(e,N),n=e[N];try{e[N]=void 0;var r=!0}catch(o){}var i=O.call(e);return r&&(t?e[N]=n:delete e[N]),i}var F=P,V=Object.prototype,M=V.toString;function L(e){return M.call(e)}var R=L,U=C,j=F,B=R,$="[object Null]",z="[object Undefined]",q=U?U.toStringTag:void 0;function H(e){return null==e?void 0===e?z:$:q&&q in Object(e)?j(e):B(e)}var W=H;function Y(e){return null!=e&&"object"==typeof e}var G=Y,K=W,Z=G,Q="[object Symbol]";function J(e){return"symbol"==typeof e||Z(e)&&K(e)==Q}var X=J,ee=y,te=X,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/;function ie(e,t){if(ee(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!te(e))||(re.test(e)||!ne.test(e)||null!=t&&e in Object(t))}var oe=ie;function se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ae=se,le=W,ue=ae,ce="[object AsyncFunction]",de="[object Function]",he="[object GeneratorFunction]",fe="[object Proxy]";function pe(e){if(!ue(e))return!1;var t=le(e);return t==de||t==he||t==ce||t==fe}var me=pe,ge=k,ve=ge["__core-js_shared__"],ye=ve,be=ye,we=function(){var e=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _e(e){return!!we&&we in e}var Se=_e,Ie=Function.prototype,ke=Ie.toString;function Te(e){if(null!=e){try{return ke.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Ee=Te,Ce=me,De=Se,Ae=ae,xe=Ee,Oe=/[\\^$.*+?()[\]{}|]/g,Ne=/^\[object .+?Constructor\]$/,Pe=Function.prototype,Fe=Object.prototype,Ve=Pe.toString,Me=Fe.hasOwnProperty,Le=RegExp("^"+Ve.call(Me).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Re(e){if(!Ae(e)||De(e))return!1;var t=Ce(e)?Le:Ne;return t.test(xe(e))}var Ue=Re;function je(e,t){return null==e?void 0:e[t]}var Be=je,$e=Ue,ze=Be;function qe(e,t){var n=ze(e,t);return $e(n)?n:void 0}var He=qe,We=He,Ye=We(Object,"create"),Ge=Ye,Ke=Ge;function Ze(){this.__data__=Ke?Ke(null):{},this.size=0}var Qe=Ze;function Je(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xe=Je,et=Ge,tt="__lodash_hash_undefined__",nt=Object.prototype,rt=nt.hasOwnProperty;function it(e){var t=this.__data__;if(et){var n=t[e];return n===tt?void 0:n}return rt.call(t,e)?t[e]:void 0}var ot=it,st=Ge,at=Object.prototype,lt=at.hasOwnProperty;function ut(e){var t=this.__data__;return st?void 0!==t[e]:lt.call(t,e)}var ct=ut,dt=Ge,ht="__lodash_hash_undefined__";function ft(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=dt&&void 0===t?ht:t,this}var pt=ft,mt=Qe,gt=Xe,vt=ot,yt=ct,bt=pt;function wt(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}wt.prototype.clear=mt,wt.prototype["delete"]=gt,wt.prototype.get=vt,wt.prototype.has=yt,wt.prototype.set=bt;var _t=wt;function St(){this.__data__=[],this.size=0}var It=St;function kt(e,t){return e===t||e!==e&&t!==t}var Tt=kt,Et=Tt;function Ct(e,t){var n=e.length;while(n--)if(Et(e[n][0],t))return n;return-1}var Dt=Ct,At=Dt,xt=Array.prototype,Ot=xt.splice;function Nt(e){var t=this.__data__,n=At(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ot.call(t,n,1),--this.size,!0}var Pt=Nt,Ft=Dt;function Vt(e){var t=this.__data__,n=Ft(t,e);return n<0?void 0:t[n][1]}var Mt=Vt,Lt=Dt;function Rt(e){return Lt(this.__data__,e)>-1}var Ut=Rt,jt=Dt;function Bt(e,t){var n=this.__data__,r=jt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var $t=Bt,zt=It,qt=Pt,Ht=Mt,Wt=Ut,Yt=$t;function Gt(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Gt.prototype.clear=zt,Gt.prototype["delete"]=qt,Gt.prototype.get=Ht,Gt.prototype.has=Wt,Gt.prototype.set=Yt;var Kt=Gt,Zt=He,Qt=k,Jt=Zt(Qt,"Map"),Xt=Jt,en=_t,tn=Kt,nn=Xt;function rn(){this.size=0,this.__data__={hash:new en,map:new(nn||tn),string:new en}}var on=rn;function sn(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var an=sn,ln=an;function un(e,t){var n=e.__data__;return ln(t)?n["string"==typeof t?"string":"hash"]:n.map}var cn=un,dn=cn;function hn(e){var t=dn(this,e)["delete"](e);return this.size-=t?1:0,t}var fn=hn,pn=cn;function mn(e){return pn(this,e).get(e)}var gn=mn,vn=cn;function yn(e){return vn(this,e).has(e)}var bn=yn,wn=cn;function _n(e,t){var n=wn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Sn=_n,In=on,kn=fn,Tn=gn,En=bn,Cn=Sn;function Dn(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Dn.prototype.clear=In,Dn.prototype["delete"]=kn,Dn.prototype.get=Tn,Dn.prototype.has=En,Dn.prototype.set=Cn;var An=Dn,xn=An,On="Expected a function";function Nn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(On);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Nn.Cache||xn),n}Nn.Cache=xn;var Pn=Nn,Fn=Pn,Vn=500;function Mn(e){var t=Fn(e,(function(e){return n.size===Vn&&n.clear(),e})),n=t.cache;return t}var Ln=Mn,Rn=Ln,Un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jn=/\\(\\)?/g,Bn=Rn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Un,(function(e,n,r,i){t.push(r?i.replace(jn,"$1"):n||e)})),t})),$n=Bn;function zn(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}var qn=zn,Hn=C,Wn=qn,Yn=y,Gn=X,Kn=1/0,Zn=Hn?Hn.prototype:void 0,Qn=Zn?Zn.toString:void 0;function Jn(e){if("string"==typeof e)return e;if(Yn(e))return Wn(e,Jn)+"";if(Gn(e))return Qn?Qn.call(e):"";var t=e+"";return"0"==t&&1/e==-Kn?"-0":t}var Xn=Jn,er=Xn;function tr(e){return null==e?"":er(e)}var nr=tr,rr=y,ir=oe,or=$n,sr=nr;function ar(e,t){return rr(e)?e:ir(e,t)?[e]:or(sr(e))}var lr=ar,ur=W,cr=G,dr="[object Arguments]";function hr(e){return cr(e)&&ur(e)==dr}var fr=hr,pr=fr,mr=G,gr=Object.prototype,vr=gr.hasOwnProperty,yr=gr.propertyIsEnumerable,br=pr(function(){return arguments}())?pr:function(e){return mr(e)&&vr.call(e,"callee")&&!yr.call(e,"callee")},wr=br,_r=9007199254740991,Sr=/^(?:0|[1-9]\d*)$/;function Ir(e,t){var n=typeof e;return t=null==t?_r:t,!!t&&("number"==n||"symbol"!=n&&Sr.test(e))&&e>-1&&e%1==0&&e<t}var kr=Ir,Tr=9007199254740991;function Er(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Tr}var Cr=Er,Dr=X,Ar=1/0;function xr(e){if("string"==typeof e||Dr(e))return e;var t=e+"";return"0"==t&&1/e==-Ar?"-0":t}var Or=xr,Nr=lr,Pr=wr,Fr=y,Vr=kr,Mr=Cr,Lr=Or;function Rr(e,t,n){t=Nr(t,e);var r=-1,i=t.length,o=!1;while(++r<i){var s=Lr(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=null==e?0:e.length,!!i&&Mr(i)&&Vr(s,i)&&(Fr(e)||Pr(e)))}var Ur=Rr,jr=g,Br=Ur;function $r(e,t){return null!=e&&Br(e,t,jr)}var zr=$r,qr=W,Hr=G,Wr="[object Date]";function Yr(e){return Hr(e)&&qr(e)==Wr}var Gr=Yr;function Kr(e){return function(t){return e(t)}}var Zr=Kr,Qr={},Jr={get exports(){return Qr},set exports(e){Qr=e}};(function(e,t){var n=w,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a})(Jr,Qr);var Xr=Gr,ei=Zr,ti=Qr,ni=ti&&ti.isDate,ri=ni?ei(ni):Xr,ii=ri,oi=W,si=y,ai=G,li="[object String]";function ui(e){return"string"==typeof e||!si(e)&&ai(e)&&oi(e)==li}var ci=ui;function di(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var hi=di,fi=Kt;function pi(){this.__data__=new fi,this.size=0}var mi=pi;function gi(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var vi=gi;function yi(e){return this.__data__.get(e)}var bi=yi;function wi(e){return this.__data__.has(e)}var _i=wi,Si=Kt,Ii=Xt,ki=An,Ti=200;function Ei(e,t){var n=this.__data__;if(n instanceof Si){var r=n.__data__;if(!Ii||r.length<Ti-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ki(r)}return n.set(e,t),this.size=n.size,this}var Ci=Ei,Di=Kt,Ai=mi,xi=vi,Oi=bi,Ni=_i,Pi=Ci;function Fi(e){var t=this.__data__=new Di(e);this.size=t.size}Fi.prototype.clear=Ai,Fi.prototype["delete"]=xi,Fi.prototype.get=Oi,Fi.prototype.has=Ni,Fi.prototype.set=Pi;var Vi=Fi,Mi="__lodash_hash_undefined__";function Li(e){return this.__data__.set(e,Mi),this}var Ri=Li;function Ui(e){return this.__data__.has(e)}var ji=Ui,Bi=An,$i=Ri,zi=ji;function qi(e){var t=-1,n=null==e?0:e.length;this.__data__=new Bi;while(++t<n)this.add(e[t])}qi.prototype.add=qi.prototype.push=$i,qi.prototype.has=zi;var Hi=qi;function Wi(e,t){return e.has(t)}var Yi=Wi,Gi=Hi,Ki=hi,Zi=Yi,Qi=1,Ji=2;function Xi(e,t,n,r,i,o){var s=n&Qi,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=n&Ji?new Gi:void 0;o.set(e,t),o.set(t,e);while(++d<a){var p=e[d],m=t[d];if(r)var g=s?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!Ki(t,(function(e,t){if(!Zi(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o["delete"](e),o["delete"](t),h}var eo=Xi,to=k,no=to.Uint8Array,ro=no;function io(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var oo=io;function so(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ao=so,lo=C,uo=ro,co=Tt,ho=eo,fo=oo,po=ao,mo=1,go=2,vo="[object Boolean]",yo="[object Date]",bo="[object Error]",wo="[object Map]",_o="[object Number]",So="[object RegExp]",Io="[object Set]",ko="[object String]",To="[object Symbol]",Eo="[object ArrayBuffer]",Co="[object DataView]",Do=lo?lo.prototype:void 0,Ao=Do?Do.valueOf:void 0;function xo(e,t,n,r,i,o,s){switch(n){case Co:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Eo:return!(e.byteLength!=t.byteLength||!o(new uo(e),new uo(t)));case vo:case yo:case _o:return co(+e,+t);case bo:return e.name==t.name&&e.message==t.message;case So:case ko:return e==t+"";case wo:var a=fo;case Io:var l=r&mo;if(a||(a=po),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=go,s.set(e,t);var c=ho(a(e),a(t),r,i,o,s);return s["delete"](e),c;case To:if(Ao)return Ao.call(e)==Ao.call(t)}return!1}var Oo=xo;function No(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}var Po=No,Fo=Po,Vo=y;function Mo(e,t,n){var r=t(e);return Vo(e)?r:Fo(r,n(e))}var Lo=Mo;function Ro(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var Uo=Ro;function jo(){return[]}var Bo=jo,$o=Uo,zo=Bo,qo=Object.prototype,Ho=qo.propertyIsEnumerable,Wo=Object.getOwnPropertySymbols,Yo=Wo?function(e){return null==e?[]:(e=Object(e),$o(Wo(e),(function(t){return Ho.call(e,t)})))}:zo,Go=Yo;function Ko(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var Zo=Ko,Qo={},Jo={get exports(){return Qo},set exports(e){Qo=e}};function Xo(){return!1}var es=Xo;(function(e,t){var n=k,r=es,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(Jo,Qo);var ts=W,ns=Cr,rs=G,is="[object Arguments]",os="[object Array]",ss="[object Boolean]",as="[object Date]",ls="[object Error]",us="[object Function]",cs="[object Map]",ds="[object Number]",hs="[object Object]",fs="[object RegExp]",ps="[object Set]",ms="[object String]",gs="[object WeakMap]",vs="[object ArrayBuffer]",ys="[object DataView]",bs="[object Float32Array]",ws="[object Float64Array]",_s="[object Int8Array]",Ss="[object Int16Array]",Is="[object Int32Array]",ks="[object Uint8Array]",Ts="[object Uint8ClampedArray]",Es="[object Uint16Array]",Cs="[object Uint32Array]",Ds={};function As(e){return rs(e)&&ns(e.length)&&!!Ds[ts(e)]}Ds[bs]=Ds[ws]=Ds[_s]=Ds[Ss]=Ds[Is]=Ds[ks]=Ds[Ts]=Ds[Es]=Ds[Cs]=!0,Ds[is]=Ds[os]=Ds[vs]=Ds[ss]=Ds[ys]=Ds[as]=Ds[ls]=Ds[us]=Ds[cs]=Ds[ds]=Ds[hs]=Ds[fs]=Ds[ps]=Ds[ms]=Ds[gs]=!1;var xs=As,Os=xs,Ns=Zr,Ps=Qr,Fs=Ps&&Ps.isTypedArray,Vs=Fs?Ns(Fs):Os,Ms=Vs,Ls=Zo,Rs=wr,Us=y,js=Qo,Bs=kr,$s=Ms,zs=Object.prototype,qs=zs.hasOwnProperty;function Hs(e,t){var n=Us(e),r=!n&&Rs(e),i=!n&&!r&&js(e),o=!n&&!r&&!i&&$s(e),s=n||r||i||o,a=s?Ls(e.length,String):[],l=a.length;for(var u in e)!t&&!qs.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Bs(u,l))||a.push(u);return a}var Ws=Hs,Ys=Object.prototype;function Gs(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Ys;return e===n}var Ks=Gs;function Zs(e,t){return function(n){return e(t(n))}}var Qs=Zs,Js=Qs,Xs=Js(Object.keys,Object),ea=Xs,ta=Ks,na=ea,ra=Object.prototype,ia=ra.hasOwnProperty;function oa(e){if(!ta(e))return na(e);var t=[];for(var n in Object(e))ia.call(e,n)&&"constructor"!=n&&t.push(n);return t}var sa=oa,aa=me,la=Cr;function ua(e){return null!=e&&la(e.length)&&!aa(e)}var ca=ua,da=Ws,ha=sa,fa=ca;function pa(e){return fa(e)?da(e):ha(e)}var ma=pa,ga=Lo,va=Go,ya=ma;function ba(e){return ga(e,ya,va)}var wa=ba,_a=wa,Sa=1,Ia=Object.prototype,ka=Ia.hasOwnProperty;function Ta(e,t,n,r,i,o){var s=n&Sa,a=_a(e),l=a.length,u=_a(t),c=u.length;if(l!=c&&!s)return!1;var d=l;while(d--){var h=a[d];if(!(s?h in t:ka.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);var g=s;while(++d<l){h=a[d];var v=e[h],y=t[h];if(r)var b=s?r(y,v,h,t,e,o):r(v,y,h,e,t,o);if(!(void 0===b?v===y||i(v,y,n,r,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return o["delete"](e),o["delete"](t),m}var Ea=Ta,Ca=He,Da=k,Aa=Ca(Da,"DataView"),xa=Aa,Oa=He,Na=k,Pa=Oa(Na,"Promise"),Fa=Pa,Va=He,Ma=k,La=Va(Ma,"Set"),Ra=La,Ua=He,ja=k,Ba=Ua(ja,"WeakMap"),$a=Ba,za=xa,qa=Xt,Ha=Fa,Wa=Ra,Ya=$a,Ga=W,Ka=Ee,Za="[object Map]",Qa="[object Object]",Ja="[object Promise]",Xa="[object Set]",el="[object WeakMap]",tl="[object DataView]",nl=Ka(za),rl=Ka(qa),il=Ka(Ha),ol=Ka(Wa),sl=Ka(Ya),al=Ga;(za&&al(new za(new ArrayBuffer(1)))!=tl||qa&&al(new qa)!=Za||Ha&&al(Ha.resolve())!=Ja||Wa&&al(new Wa)!=Xa||Ya&&al(new Ya)!=el)&&(al=function(e){var t=Ga(e),n=t==Qa?e.constructor:void 0,r=n?Ka(n):"";if(r)switch(r){case nl:return tl;case rl:return Za;case il:return Ja;case ol:return Xa;case sl:return el}return t});var ll=al,ul=Vi,cl=eo,dl=Oo,hl=Ea,fl=ll,pl=y,ml=Qo,gl=Ms,vl=1,yl="[object Arguments]",bl="[object Array]",wl="[object Object]",_l=Object.prototype,Sl=_l.hasOwnProperty;function Il(e,t,n,r,i,o){var s=pl(e),a=pl(t),l=s?bl:fl(e),u=a?bl:fl(t);l=l==yl?wl:l,u=u==yl?wl:u;var c=l==wl,d=u==wl,h=l==u;if(h&&ml(e)){if(!ml(t))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new ul),s||gl(e)?cl(e,t,n,r,i,o):dl(e,t,l,n,r,i,o);if(!(n&vl)){var f=c&&Sl.call(e,"__wrapped__"),p=d&&Sl.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new ul),i(m,g,n,r,o)}}return!!h&&(o||(o=new ul),hl(e,t,n,r,i,o))}var kl=Il,Tl=kl,El=G;function Cl(e,t,n,r,i){return e===t||(null==e||null==t||!El(e)&&!El(t)?e!==e&&t!==t:Tl(e,t,n,r,Cl,i))}var Dl=Cl,Al=Vi,xl=Dl,Ol=1,Nl=2;function Pl(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;e=Object(e);while(i--){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}while(++i<o){a=n[i];var l=a[0],u=e[l],c=a[1];if(s&&a[2]){if(void 0===u&&!(l in e))return!1}else{var d=new Al;if(r)var h=r(u,c,l,e,t,d);if(!(void 0===h?xl(c,u,Ol|Nl,r,d):h))return!1}}return!0}var Fl=Pl,Vl=ae;function Ml(e){return e===e&&!Vl(e)}var Ll=Ml,Rl=Ll,Ul=ma;function jl(e){var t=Ul(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,Rl(i)]}return t}var Bl=jl;function $l(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var zl=$l,ql=Fl,Hl=Bl,Wl=zl;function Yl(e){var t=Hl(e);return 1==t.length&&t[0][2]?Wl(t[0][0],t[0][1]):function(n){return n===e||ql(n,e,t)}}var Gl=Yl,Kl=lr,Zl=Or;function Ql(e,t){t=Kl(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Zl(t[n++])];return n&&n==r?e:void 0}var Jl=Ql,Xl=Jl;function eu(e,t,n){var r=null==e?void 0:Xl(e,t);return void 0===r?n:r}var tu=eu;function nu(e,t){return null!=e&&t in Object(e)}var ru=nu,iu=ru,ou=Ur;function su(e,t){return null!=e&&ou(e,t,iu)}var au=su,lu=Dl,uu=tu,cu=au,du=oe,hu=Ll,fu=zl,pu=Or,mu=1,gu=2;function vu(e,t){return du(e)&&hu(t)?fu(pu(e),t):function(n){var r=uu(n,e);return void 0===r&&r===t?cu(n,e):lu(t,r,mu|gu)}}var yu=vu;function bu(e){return e}var wu=bu;function _u(e){return function(t){return null==t?void 0:t[e]}}var Su=_u,Iu=Jl;function ku(e){return function(t){return Iu(t,e)}}var Tu=ku,Eu=Su,Cu=Tu,Du=oe,Au=Or;function xu(e){return Du(e)?Eu(Au(e)):Cu(e)}var Ou=xu,Nu=Gl,Pu=yu,Fu=wu,Vu=y,Mu=Ou;function Lu(e){return"function"==typeof e?e:null==e?Fu:"object"==typeof e?Vu(e)?Pu(e[0],e[1]):Nu(e):Mu(e)}var Ru=Lu;function Uu(e){return function(t,n,r){var i=-1,o=Object(t),s=r(t),a=s.length;while(a--){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}var ju=Uu,Bu=ju,$u=Bu(),zu=$u,qu=zu,Hu=ma;function Wu(e,t){return e&&qu(e,t,Hu)}var Yu=Wu,Gu=ca;function Ku(e,t){return function(n,r){if(null==n)return n;if(!Gu(n))return e(n,r);var i=n.length,o=t?i:-1,s=Object(n);while(t?o--:++o<i)if(!1===r(s[o],o,s))break;return n}}var Zu=Ku,Qu=Yu,Ju=Zu,Xu=Ju(Qu),ec=Xu,tc=ec;function nc(e,t){var n;return tc(e,(function(e,r,i){return n=t(e,r,i),!n})),!!n}var rc=nc,ic=Tt,oc=ca,sc=kr,ac=ae;function lc(e,t,n){if(!ac(n))return!1;var r=typeof t;return!!("number"==r?oc(n)&&sc(t,n.length):"string"==r&&t in n)&&ic(n[t],e)}var uc=lc,cc=hi,dc=Ru,hc=rc,fc=y,pc=uc;function mc(e,t,n){var r=fc(e)?cc:hc;return n&&pc(e,t,n)&&(t=void 0),r(e,dc(t))}var gc=mc,vc=W,yc=G,bc="[object Boolean]";function wc(e){return!0===e||!1===e||yc(e)&&vc(e)==bc}var _c=wc,Sc=W,Ic=G,kc="[object Number]";function Tc(e){return"number"==typeof e||Ic(e)&&Sc(e)==kc}var Ec=Tc,Cc=He,Dc=function(){try{var e=Cc(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ac=Dc,xc=Ac;function Oc(e,t,n){"__proto__"==t&&xc?xc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Nc=Oc,Pc=Nc,Fc=Tt,Vc=Object.prototype,Mc=Vc.hasOwnProperty;function Lc(e,t,n){var r=e[t];Mc.call(e,t)&&Fc(r,n)&&(void 0!==n||t in e)||Pc(e,t,n)}var Rc=Lc,Uc=Nc,jc=Yu,Bc=Ru;function $c(e,t){var n={};return t=Bc(t),jc(e,(function(e,r,i){Uc(n,r,t(e,r,i))})),n}var zc=$c;function qc(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Hc=qc,Wc=Hc,Yc=Math.max;function Gc(e,t,n){return t=Yc(void 0===t?e.length-1:t,0),function(){var r=arguments,i=-1,o=Yc(r.length-t,0),s=Array(o);while(++i<o)s[i]=r[t+i];i=-1;var a=Array(t+1);while(++i<t)a[i]=r[i];return a[t]=n(s),Wc(e,this,a)}}var Kc=Gc;function Zc(e){return function(){return e}}var Qc=Zc,Jc=Qc,Xc=Ac,ed=wu,td=Xc?function(e,t){return Xc(e,"toString",{configurable:!0,enumerable:!1,value:Jc(t),writable:!0})}:ed,nd=td,rd=800,id=16,od=Date.now;function sd(e){var t=0,n=0;return function(){var r=od(),i=id-(r-n);if(n=r,i>0){if(++t>=rd)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ad=sd,ld=nd,ud=ad,cd=ud(ld),dd=cd,hd=wu,fd=Kc,pd=dd;function md(e,t){return pd(fd(e,t,hd),e+"")}var gd=md;function vd(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var yd=vd,bd=ae,wd=Ks,_d=yd,Sd=Object.prototype,Id=Sd.hasOwnProperty;function kd(e){if(!bd(e))return _d(e);var t=wd(e),n=[];for(var r in e)("constructor"!=r||!t&&Id.call(e,r))&&n.push(r);return n}var Td=kd,Ed=Ws,Cd=Td,Dd=ca;function Ad(e){return Dd(e)?Ed(e,!0):Cd(e)}var xd=Ad,Od=gd,Nd=Tt,Pd=uc,Fd=xd,Vd=Object.prototype,Md=Vd.hasOwnProperty,Ld=Od((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;i&&Pd(t[0],t[1],i)&&(r=1);while(++n<r){var o=t[n],s=Fd(o),a=-1,l=s.length;while(++a<l){var u=s[a],c=e[u];(void 0===c||Nd(c,Vd[u])&&!Md.call(e,u))&&(e[u]=o[u])}}return e})),Rd=Ld,Ud=Nc,jd=Tt;function Bd(e,t,n){(void 0!==n&&!jd(e[t],n)||void 0===n&&!(t in e))&&Ud(e,t,n)}var $d=Bd,zd={},qd={get exports(){return zd},set exports(e){zd=e}};(function(e,t){var n=k,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}e.exports=l})(qd,zd);var Hd=ro;function Wd(e){var t=new e.constructor(e.byteLength);return new Hd(t).set(new Hd(e)),t}var Yd=Wd,Gd=Yd;function Kd(e,t){var n=t?Gd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Zd=Kd;function Qd(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var Jd=Qd,Xd=ae,eh=Object.create,th=function(){function e(){}return function(t){if(!Xd(t))return{};if(eh)return eh(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),nh=th,rh=Qs,ih=rh(Object.getPrototypeOf,Object),oh=ih,sh=nh,ah=oh,lh=Ks;function uh(e){return"function"!=typeof e.constructor||lh(e)?{}:sh(ah(e))}var ch=uh,dh=ca,hh=G;function fh(e){return hh(e)&&dh(e)}var ph=fh,mh=W,gh=oh,vh=G,yh="[object Object]",bh=Function.prototype,wh=Object.prototype,_h=bh.toString,Sh=wh.hasOwnProperty,Ih=_h.call(Object);function kh(e){if(!vh(e)||mh(e)!=yh)return!1;var t=gh(e);if(null===t)return!0;var n=Sh.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_h.call(n)==Ih}var Th=kh;function Eh(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ch=Eh,Dh=Rc,Ah=Nc;function xh(e,t,n,r){var i=!n;n||(n={});var o=-1,s=t.length;while(++o<s){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Ah(n,a,l):Dh(n,a,l)}return n}var Oh=xh,Nh=Oh,Ph=xd;function Fh(e){return Nh(e,Ph(e))}var Vh=Fh,Mh=$d,Lh=zd,Rh=Zd,Uh=Jd,jh=ch,Bh=wr,$h=y,zh=ph,qh=Qo,Hh=me,Wh=ae,Yh=Th,Gh=Ms,Kh=Ch,Zh=Vh;function Qh(e,t,n,r,i,o,s){var a=Kh(e,n),l=Kh(t,n),u=s.get(l);if(u)Mh(e,n,u);else{var c=o?o(a,l,n+"",e,t,s):void 0,d=void 0===c;if(d){var h=$h(l),f=!h&&qh(l),p=!h&&!f&&Gh(l);c=l,h||f||p?$h(a)?c=a:zh(a)?c=Uh(a):f?(d=!1,c=Lh(l,!0)):p?(d=!1,c=Rh(l,!0)):c=[]:Yh(l)||Bh(l)?(c=a,Bh(a)?c=Zh(a):Wh(a)&&!Hh(a)||(c=jh(l))):d=!1}d&&(s.set(l,c),i(c,l,r,o,s),s["delete"](l)),Mh(e,n,c)}}var Jh=Qh,Xh=Vi,ef=$d,tf=zu,nf=Jh,rf=ae,of=xd,sf=Ch;function af(e,t,n,r,i){e!==t&&tf(t,(function(o,s){if(i||(i=new Xh),rf(o))nf(e,t,s,n,af,r,i);else{var a=r?r(sf(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),ef(e,s,a)}}),of)}var lf=af,uf=lf,cf=ae;function df(e,t,n,r,i,o){return cf(e)&&cf(t)&&(o.set(t,e),uf(e,t,void 0,df,o),o["delete"](t)),e}var hf=df,ff=gd,pf=uc;function mf(e){return ff((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&pf(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);while(++r<i){var a=n[r];a&&e(t,a,r,o)}return t}))}var gf=mf,vf=lf,yf=gf,bf=yf((function(e,t,n,r){vf(e,t,n,r)})),wf=bf,_f=Hc,Sf=gd,If=hf,kf=wf,Tf=Sf((function(e){return e.push(void 0,If),_f(kf,void 0,e)})),Ef=Tf;function Cf(e){return e&&e.length?e[0]:void 0}var Df=Cf;function Af(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var xf=Af;const Of=e=>Object.prototype.toString.call(e).slice(8,-1),Nf=e=>ii(e)&&!isNaN(e.getTime()),Pf=e=>"Object"===Of(e),Ff=zr,Vf=(e,t)=>gc(t,(t=>zr(e,t))),Mf=(e,t,n="0")=>{e=null!==e&&void 0!==e?String(e):"",t=t||2;while(e.length<t)e=`${n}${e}`;return e},Lf=e=>Array.isArray(e),Rf=e=>Lf(e)&&e.length>0,Uf=e=>null==e?null:document&&ci(e)?document.querySelector(e):e.$el??e,jf=(e,t,n,r=void 0)=>{e.removeEventListener(t,n,r)},Bf=(e,t,n,r=void 0)=>(e.addEventListener(t,n,r),()=>jf(e,t,n,r)),$f=(e,t)=>!!e&&!!t&&(e===t||e.contains(t)),zf=(e,t)=>{" "!==e.key&&"Enter"!==e.key||(t(e),e.preventDefault())},qf=(e,...t)=>{const n={};let r;for(r in e)t.includes(r)||(n[r]=e[r]);return n},Hf=(e,t)=>{const n={};return t.forEach((t=>{t in e&&(n[t]=e[t])})),n};function Wf(e,t,n){return Math.min(Math.max(e,t),n)}var Yf={},Gf={get exports(){return Yf},set exports(e){Yf=e}};(function(e,t){function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default})(Gf,Yf);const Kf=h(Yf);var Zf={},Qf={get exports(){return Zf},set exports(e){Zf=e}};(function(e,t){function n(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default})(Qf,Zf);const Jf=h(Zf);function Xf(e,t){var n=ip(t);return n.formatToParts?tp(n,e):np(n,e)}var ep={year:0,month:1,day:2,hour:3,minute:4,second:5};function tp(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var o=ep[n[i].type];o>=0&&(r[o]=parseInt(n[i].value,10))}return r}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function np(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var rp={};function ip(e){if(!rp[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n="06/25/2014, 00:00:00"===t||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===t;rp[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return rp[e]}function op(e,t,n,r,i,o,s){var a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(r,i,o,s),a}var sp=36e5,ap=6e4,lp={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function up(e,t,n){var r,i,o;if(!e)return 0;if(r=lp.timezoneZ.exec(e),r)return 0;if(r=lp.timezoneHH.exec(e),r)return o=parseInt(r[1],10),fp(o)?-o*sp:NaN;if(r=lp.timezoneHHMM.exec(e),r){o=parseInt(r[1],10);var s=parseInt(r[2],10);return fp(o,s)?(i=Math.abs(o)*sp+s*ap,o>0?-i:i):NaN}if(mp(e)){t=new Date(t||Date.now());var a=n?t:cp(t),l=dp(a,e),u=n?l:hp(t,l,e);return-u}return NaN}function cp(e){return op(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function dp(e,t){var n=Xf(e,t),r=op(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),o=i%1e3;return i-=o>=0?o:1e3+o,r-i}function hp(e,t,n){var r=e.getTime(),i=r-t,o=dp(new Date(i),n);if(t===o)return t;i-=o-t;var s=dp(new Date(i),n);return o===s?o:Math.max(o,s)}function fp(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var pp={};function mp(e){if(pp[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),pp[e]=!0,!0}catch(t){return!1}}var gp=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const vp=gp;var yp=36e5,bp=6e4,wp=2,_p={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:vp};function Sp(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},r=null==n.additionalDigits?wp:Kf(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"===typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i=Ip(e),o=kp(i.date,r),s=o.year,a=o.restDateString,l=Tp(a,s);if(isNaN(l))return new Date(NaN);if(l){var u,c=l.getTime(),d=0;if(i.time&&(d=Ep(i.time),isNaN(d)))return new Date(NaN);if(i.timeZone||n.timeZone){if(u=up(i.timeZone||n.timeZone,new Date(c+d)),isNaN(u))return new Date(NaN)}else u=Jf(new Date(c+d)),u=Jf(new Date(c+d+u));return new Date(c+d+u)}return new Date(NaN)}function Ip(e){var t,n={},r=_p.dateTimePattern.exec(e);if(r?(n.date=r[1],t=r[3]):(r=_p.datePattern.exec(e),r?(n.date=r[1],t=r[2]):(n.date=null,t=e)),t){var i=_p.timeZone.exec(t);i?(n.time=t.replace(i[1],""),n.timeZone=i[1].trim()):n.time=t}return n}function kp(e,t){var n,r=_p.YYY[t],i=_p.YYYYY[t];if(n=_p.YYYY.exec(e)||i.exec(e),n){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=_p.YY.exec(e)||r.exec(e),n){var s=n[1];return{year:100*parseInt(s,10),restDateString:e.slice(s.length)}}return{year:null}}function Tp(e,t){if(null===t)return null;var n,r,i,o;if(0===e.length)return r=new Date(0),r.setUTCFullYear(t),r;if(n=_p.MM.exec(e),n)return r=new Date(0),i=parseInt(n[1],10)-1,Op(t,i)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=_p.DDD.exec(e),n){r=new Date(0);var s=parseInt(n[1],10);return Np(t,s)?(r.setUTCFullYear(t,0,s),r):new Date(NaN)}if(n=_p.MMDD.exec(e),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return Op(t,i,a)?(r.setUTCFullYear(t,i,a),r):new Date(NaN)}if(n=_p.Www.exec(e),n)return o=parseInt(n[1],10)-1,Pp(t,o)?Cp(t,o):new Date(NaN);if(n=_p.WwwD.exec(e),n){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return Pp(t,o,l)?Cp(t,o,l):new Date(NaN)}return null}function Ep(e){var t,n,r;if(t=_p.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),Fp(n)?n%24*yp:NaN;if(t=_p.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),Fp(n,r)?n%24*yp+r*bp:NaN;if(t=_p.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return Fp(n,r,i)?n%24*yp+r*bp+1e3*i:NaN}return null}function Cp(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,o=7*t+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var Dp=[31,28,31,30,31,30,31,31,30,31,30,31],Ap=[31,29,31,30,31,30,31,31,30,31,30,31];function xp(e){return e%400===0||e%4===0&&e%100!==0}function Op(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=xp(e);if(r&&n>Ap[t])return!1;if(!r&&n>Dp[t])return!1}return!0}function Np(e,t){if(t<1)return!1;var n=xp(e);return!(n&&t>366)&&!(!n&&t>365)}function Pp(e,t,n){return!(t<0||t>52)&&(null==n||!(n<0||n>6))}function Fp(e,t,n){return(null==e||!(e<0||e>=25))&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}function Vp(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Mp(e){return Mp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(e)}function Lp(e){Vp(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Mp(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Rp(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var Up={};function jp(){return Up}function Bp(e,t){var n,r,i,o,s,a,l,u;Vp(1,arguments);var c=jp(),d=Rp(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Lp(e),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function $p(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var zp=6048e5;function qp(e,t,n){Vp(2,arguments);var r=Bp(e,n),i=Bp(t,n),o=r.getTime()-$p(r),s=i.getTime()-$p(i);return Math.round((o-s)/zp)}function Hp(e){Vp(1,arguments);var t=Lp(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Wp(e){Vp(1,arguments);var t=Lp(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Yp(e,t){return Vp(1,arguments),qp(Hp(e),Wp(e),t)+1}function Gp(e,t){var n,r,i,o,s,a,l,u;Vp(1,arguments);var c=Lp(e),d=c.getFullYear(),h=jp(),f=Rp(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var m=Bp(p,t),g=new Date(0);g.setFullYear(d,0,f),g.setHours(0,0,0,0);var v=Bp(g,t);return c.getTime()>=m.getTime()?d+1:c.getTime()>=v.getTime()?d:d-1}function Kp(e,t){var n,r,i,o,s,a,l,u;Vp(1,arguments);var c=jp(),d=Rp(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),h=Gp(e,t),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=Bp(f,t);return p}var Zp=6048e5;function Qp(e,t){Vp(1,arguments);var n=Lp(e),r=Bp(n,t).getTime()-Kp(n,t).getTime();return Math.round(r/Zp)+1}function Jp(e){return Vp(1,arguments),Bp(e,{weekStartsOn:1})}function Xp(e){Vp(1,arguments);var t=Lp(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Jp(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=Jp(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function em(e){Vp(1,arguments);var t=Xp(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=Jp(n);return r}var tm=6048e5;function nm(e){Vp(1,arguments);var t=Lp(e),n=Jp(t).getTime()-em(t).getTime();return Math.round(n/tm)+1}function rm(e,t){Vp(2,arguments);var n=Lp(e),r=Rp(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function im(e,t){Vp(2,arguments);var n=Lp(e),r=Rp(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function om(e,t){Vp(2,arguments);var n=Rp(t);return im(e,12*n)}const sm={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function am({monthComps:e,prevMonthComps:t,nextMonthComps:n},r){const i=[],{firstDayOfWeek:o,firstWeekday:s,isoWeeknumbers:a,weeknumbers:l,numDays:u,numWeeks:c}=e,d=s+(s<o?wg:0)-o;let h=!0,f=!1,p=!1,m=0;const g=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let v=t.numDays-d+1,y=t.numDays-v+1,b=Math.floor((v-1)/wg+1),w=1,_=t.numWeeks,S=1,I=t.month,k=t.year;const T=new Date,E=T.getDate(),C=T.getMonth()+1,D=T.getFullYear();for(let A=1;A<=_g;A++){for(let t=1,d=o;t<=wg;t++,d+=d===wg?1-wg:1){h&&d===s&&(v=1,y=e.numDays,b=Math.floor((v-1)/wg+1),w=Math.floor((u-v)/wg+1),_=1,S=c,I=e.month,k=e.year,h=!1,f=!0);const o=r.getDateFromParams(k,I,v,0,0,0,0),T=r.getDateFromParams(k,I,v,12,0,0,0),x=r.getDateFromParams(k,I,v,23,59,59,999),O=o,N=`${Mf(k,4)}-${Mf(I,2)}-${Mf(v,2)}`,P=t,F=wg-t,V=l[A-1],M=a[A-1],L=v===E&&I===C&&k===D,R=f&&1===v,U=f&&v===u,j=1===A,B=A===c,$=1===t,z=t===wg,q=$g(k,I,v);i.push({locale:r,id:N,position:++m,label:v.toString(),ariaLabel:g.format(new Date(k,I-1,v)),day:v,dayFromEnd:y,weekday:d,weekdayPosition:P,weekdayPositionFromEnd:F,weekdayOrdinal:b,weekdayOrdinalFromEnd:w,week:_,weekFromEnd:S,weekPosition:A,weeknumber:V,isoWeeknumber:M,month:I,year:k,date:O,startDate:o,endDate:x,noonDate:T,dayIndex:q,isToday:L,isFirstDay:R,isLastDay:U,isDisabled:!f,isFocusable:!f,isFocused:!1,inMonth:f,inPrevMonth:h,inNextMonth:p,onTop:j,onBottom:B,onLeft:$,onRight:z,classes:[`id-${N}`,`day-${v}`,`day-from-end-${y}`,`weekday-${d}`,`weekday-position-${P}`,`weekday-ordinal-${b}`,`weekday-ordinal-from-end-${w}`,`week-${_}`,`week-from-end-${S}`,{"is-today":L,"is-first-day":R,"is-last-day":U,"in-month":f,"in-prev-month":h,"in-next-month":p,"on-top":j,"on-bottom":B,"on-left":$,"on-right":z}]}),f&&U?(f=!1,p=!0,v=1,y=u,b=1,w=Math.floor((u-v)/wg+1),_=1,S=n.numWeeks,I=n.month,k=n.year):(v++,y--,b=Math.floor((v-1)/wg+1),w=Math.floor((u-v)/wg+1))}_++,S--}return i}function lm(e,t,n,r){const i=e.reduce(((e,r,i)=>{const o=Math.floor(i/7);let s=e[o];return s||(s={id:`week-${o+1}`,title:"",week:r.week,weekPosition:r.weekPosition,weeknumber:r.weeknumber,isoWeeknumber:r.isoWeeknumber,weeknumberDisplay:t?r.weeknumber:n?r.isoWeeknumber:void 0,days:[]},e[o]=s),s.days.push(r),e}),Array(e.length/wg));return i.forEach((e=>{const t=e.days[0],n=e.days[e.days.length-1];t.month===n.month?e.title=`${r.formatDate(t.date,"MMMM YYYY")}`:t.year===n.year?e.title=`${r.formatDate(t.date,"MMM")} - ${r.formatDate(n.date,"MMM YYYY")}`:e.title=`${r.formatDate(t.date,"MMM YYYY")} - ${r.formatDate(n.date,"MMM YYYY")}`})),i}function um(e,t){return e.days.map((e=>({label:t.formatDate(e.date,t.masks.weekdays),weekday:e.weekday})))}function cm(e,t){return`${t}.${Mf(e,2)}`}function dm(e,t,n){return Hf(n.getDateParts(n.toDate(e)),sm[t])}function hm({day:e,week:t,month:n,year:r},i,o,s){if("daily"===o&&e){const t=new Date(r,n-1,e),o=rm(t,i);return{day:o.getDate(),month:o.getMonth()+1,year:o.getFullYear()}}if("weekly"===o&&t){const e=s.getMonthParts(n,r),o=e.firstDayOfMonth,a=rm(o,7*(t-1+i)),l=s.getDateParts(a);return{week:l.week,month:l.month,year:l.year}}{const e=new Date(r,n-1,1),t=im(e,i);return{month:t.getMonth()+1,year:t.getFullYear()}}}function fm(e){return null!=e&&null!=e.month&&null!=e.year}function pm(e,t){return!(!fm(e)||!fm(t))&&(e.year!==t.year?e.year<t.year:e.month&&t.month&&e.month!==t.month?e.month<t.month:e.week&&t.week&&e.week!==t.week?e.week<t.week:!(!e.day||!t.day||e.day===t.day)&&e.day<t.day)}function mm(e,t){return!(!fm(e)||!fm(t))&&(e.year!==t.year?e.year>t.year:e.month&&t.month&&e.month!==t.month?e.month>t.month:e.week&&t.week&&e.week!==t.week?e.week>t.week:!(!e.day||!t.day||e.day===t.day)&&e.day>t.day)}function gm(e,t,n){return!!e&&!pm(e,t)&&!mm(e,n)}function vm(e,t){return!(!e&&t)&&(!(e&&!t)&&(!e&&!t||e.year===t.year&&e.month===t.month&&e.week===t.week&&e.day===t.day))}function ym(e,t,n,r){if(!fm(e)||!fm(t))return[];const i=[];while(!mm(e,t))i.push(e),e=hm(e,1,n,r);return i}function bm(e){const{day:t,week:n,month:r,year:i}=e;let o=`${i}-${Mf(r,2)}`;return n&&(o=`${o}-w${n}`),t&&(o=`${o}-${Mf(t,2)}`),o}function wm(e,t){const{month:n,year:r,showWeeknumbers:i,showIsoWeeknumbers:o}=e,s=new Date(r,n-1,15),a=t.getMonthParts(n,r),l=t.getPrevMonthParts(n,r),u=t.getNextMonthParts(n,r),c=am({monthComps:a,prevMonthComps:l,nextMonthComps:u},t),d=lm(c,i,o,t),h=um(d[0],t);return{id:bm(e),month:n,year:r,monthTitle:t.formatDate(s,t.masks.title),shortMonthLabel:t.formatDate(s,"MMM"),monthLabel:t.formatDate(s,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:u,days:c,weeks:d,weekdays:h}}function _m(e,t){const{day:n,week:r,view:i,trimWeeks:o}=e,s={...t,...e,title:"",viewDays:[],viewWeeks:[]};switch(i){case"daily":{let e=s.days.find((e=>e.inMonth));n?e=s.days.find((e=>e.day===n&&e.inMonth))||e:r&&(e=s.days.find((e=>e.week===r&&e.inMonth)));const t=s.weeks[e.week-1];s.viewWeeks=[t],s.viewDays=[e],s.week=e.week,s.weekTitle=t.title,s.day=e.day,s.dayTitle=e.ariaLabel,s.title=s.dayTitle;break}case"weekly":{s.week=r||1;const e=s.weeks[s.week-1];s.viewWeeks=[e],s.viewDays=e.days,s.weekTitle=e.title,s.title=s.weekTitle;break}default:s.title=s.monthTitle,s.viewWeeks=s.weeks.slice(0,o?s.monthComps.numWeeks:void 0),s.viewDays=s.days;break}return s}class Sm{constructor(e,t,n){c(this,"keys",[]),c(this,"store",{}),this.size=e,this.createKey=t,this.createItem=n}get(...e){const t=this.createKey(...e);return this.store[t]}getOrSet(...e){const t=this.createKey(...e);if(this.store[t])return this.store[t];const n=this.createItem(...e);if(this.keys.length>=this.size){const e=this.keys.shift();null!=e&&delete this.store[e]}return this.keys.push(t),this.store[t]=n,n}}class Im{constructor(e,t=new Xm){var n;c(this,"order"),c(this,"locale"),c(this,"start",null),c(this,"end",null),c(this,"repeat",null),this.locale=t;const{start:r,end:i,span:o,order:s,repeat:a}=e;Nf(r)&&(this.start=t.getDateParts(r)),Nf(i)?this.end=t.getDateParts(i):null!=this.start&&o&&(this.end=t.getDateParts(rm(this.start.date,o-1))),this.order=s??0,a&&(this.repeat=new fg({from:null==(n=this.start)?void 0:n.date,...a},{locale:this.locale}))}static fromMany(e,t){return(Lf(e)?e:[e]).filter((e=>e)).map((e=>Im.from(e,t)))}static from(e,t){if(e instanceof Im)return e;const n={start:null,end:null};return null!=e&&(Lf(e)?(n.start=e[0]??null,n.end=e[1]??null):Pf(e)?Object.assign(n,e):(n.start=e,n.end=e)),null!=n.start&&(n.start=new Date(n.start)),null!=n.end&&(n.end=new Date(n.end)),new Im(n,t)}get opts(){const{order:e,locale:t}=this;return{order:e,locale:t}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:t}=this;return e&&t&&e.year===t.year&&e.month===t.month&&e.day===t.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return null==this.start||null==this.end?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var t,n;return(null==(t=this.start)?void 0:t.dayIndex)===e.dayIndex||!!(null==(n=this.repeat)?void 0:n.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var t,n;return this.intersectsDayRange((null==(t=e.start)?void 0:t.dayIndex)??-1/0,(null==(n=e.end)?void 0:n.dayIndex)??1/0)}intersectsDayRange(e,t){return!(this.start&&this.start.dayIndex>t)&&!(this.end&&this.end.dayIndex<e)}}class km{constructor(){c(this,"records",{})}render(e,t,n){var r,i,o,s;let a=null;const l=n[0].dayIndex,u=n[n.length-1].dayIndex;return t.hasRepeat?n.forEach((n=>{var r,i;if(t.startsOnDay(n)){const o=t.daySpan<1/0?t.daySpan:1;a={startDay:n.dayIndex,startTime:(null==(r=t.start)?void 0:r.time)??0,endDay:n.dayIndex+o-1,endTime:(null==(i=t.end)?void 0:i.time)??Tg},this.getRangeRecords(e).push(a)}})):t.intersectsDayRange(l,u)&&(a={startDay:(null==(r=t.start)?void 0:r.dayIndex)??-1/0,startTime:(null==(i=t.start)?void 0:i.time)??-1/0,endDay:(null==(o=t.end)?void 0:o.dayIndex)??1/0,endTime:(null==(s=t.end)?void 0:s.time)??1/0},this.getRangeRecords(e).push(a)),a}getRangeRecords(e){let t=this.records[e.key];return t||(t={ranges:[],data:e},this.records[e.key]=t),t.ranges}getCell(e,t){const n=this.getCells(t),r=n.find((t=>t.data.key===e));return r}cellExists(e,t){const n=this.records[e];return null!=n&&n.ranges.some((e=>e.startDay<=t&&e.endDay>=t))}getCells(e){const t=Object.values(this.records),n=[],{dayIndex:r}=e;return t.forEach((({data:t,ranges:i})=>{i.filter((e=>e.startDay<=r&&e.endDay>=r)).forEach((i=>{const o=r===i.startDay,s=r===i.endDay,a=o?i.startTime:0,l=new Date(e.startDate.getTime()+a),u=s?i.endTime:Tg,c=new Date(e.endDate.getTime()+u),d=0===a&&u===Tg,h=t.order||0;n.push({...i,data:t,onStart:o,onEnd:s,startTime:a,startDate:l,endTime:u,endDate:c,allDay:d,order:h})}))})),n.sort(((e,t)=>e.order-t.order)),n}}const Tm={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Tm.en=Tm["en-US"],Tm.es=Tm["es-ES"],Tm.no=Tm.nb,Tm.zh=Tm["zh-CN"];const Em=Object.entries(Tm).reduce(((e,[t,{dow:n,L:r}])=>(e[t]={id:t,firstDayOfWeek:n,masks:{L:r}},e)),{}),Cm="MMMM YYYY",Dm="W",Am="MMM",xm="h A",Om=["L","YYYY-MM-DD","YYYY/MM/DD"],Nm=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],Pm=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],Fm=["h:mm A"],Vm=["HH:mm"],Mm="WWW, MMM D, YYYY",Lm=["L","YYYY-MM-DD","YYYY/MM/DD"],Rm="iso",Um="YYYY-MM-DDTHH:mm:ss.SSSZ",jm={title:Cm,weekdays:Dm,navMonths:Am,hours:xm,input:Om,inputDateTime:Nm,inputDateTime24hr:Pm,inputTime:Fm,inputTime24hr:Vm,dayPopover:Mm,data:Lm,model:Rm,iso:Um},Bm=300,$m=60,zm=80,qm={maxSwipeTime:Bm,minHorizontalSwipeDistance:$m,maxVerticalSwipeDistance:zm},Hm={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:qm,masks:jm,locales:Em,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Wm=(0,r.qj)(Hm),Ym=(0,i.Fl)((()=>zc(Wm.locales,(e=>(e.masks=Ef(e.masks,Wm.masks),e))))),Gm=e=>"undefined"!==typeof window&&Ff(window.__vcalendar__,e)?tu(window.__vcalendar__,e):tu(Wm,e),Km=(e,t)=>(e.config.globalProperties.$VCalendar=Wm,Object.assign(Wm,Ef(t,Wm))),Zm=12,Qm=5;function Jm(e,t){const n=(new Intl.DateTimeFormat).resolvedOptions().locale;let r;ci(e)?r=e:Ff(e,"id")&&(r=e.id),r=(r||n).toLowerCase();const i=Object.keys(t),o=e=>i.find((t=>t.toLowerCase()===e));r=o(r)||o(r.substring(0,2))||n;const s={...t["en-IE"],...t[r],id:r,monthCacheSize:Zm,pageCacheSize:Qm},a=Pf(e)?Ef(e,s):s;return a}class Xm{constructor(e=void 0,t){c(this,"id"),c(this,"daysInWeek"),c(this,"firstDayOfWeek"),c(this,"masks"),c(this,"timezone"),c(this,"hourLabels"),c(this,"dayNames"),c(this,"dayNamesShort"),c(this,"dayNamesShorter"),c(this,"dayNamesNarrow"),c(this,"monthNames"),c(this,"monthNamesShort"),c(this,"relativeTimeNames"),c(this,"amPm",["am","pm"]),c(this,"monthCache"),c(this,"pageCache");const{id:n,firstDayOfWeek:r,masks:i,monthCacheSize:o,pageCacheSize:s}=Jm(e,Ym.value);this.monthCache=new Sm(o,Kg,Zg),this.pageCache=new Sm(s,bm,wm),this.id=n,this.daysInWeek=wg,this.firstDayOfWeek=Wf(r,1,wg),this.masks=i,this.timezone=t||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=Jg("long",this.id),this.dayNamesShort=Jg("short",this.id),this.dayNamesShorter=this.dayNamesShort.map((e=>e.substring(0,2))),this.dayNamesNarrow=Jg("narrow",this.id),this.monthNames=nv("long",this.id),this.monthNamesShort=nv("short",this.id),this.relativeTimeNames=ev(this.id)}formatDate(e,t){return uv(e,t,this)}parseDate(e,t){return lv(e,t,this)}toDate(e,t={}){const n=new Date(NaN);let r=n;const{fillDate:i,mask:o,patch:s,rules:a}=t;if(Ec(e)?(t.type="number",r=new Date(+e)):ci(e)?(t.type="string",r=e?lv(e,o||"iso",this):n):Nf(e)?(t.type="date",r=new Date(e.getTime())):jg(e)&&(t.type="object",r=this.getDateFromParts(e)),r&&(s||a)){let e=this.getDateParts(r);if(s&&null!=i){const t=this.getDateParts(this.toDate(i));e=this.getDateParts(this.toDate({...t,...Hf(e,bg[s])}))}a&&(e=av(e,a)),r=this.getDateFromParts(e)}return r||n}toDateOrNull(e,t={}){const n=this.toDate(e,t);return isNaN(n.getTime())?null:n}fromDate(e,{type:t,mask:n}={}){switch(t){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,n||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return Im.from(e,this)}ranges(e){return Im.fromMany(e,this)}getDateParts(e){return Gg(e,this)}getDateFromParts(e){return Yg(e,this.timezone)}getDateFromParams(e,t,n,r,i,o,s){return this.getDateFromParts({year:e,month:t,day:n,hours:r,minutes:i,seconds:o,milliseconds:s})}getPage(e){const t=this.pageCache.getOrSet(e,this);return _m(e,t)}getMonthParts(e,t){const{firstDayOfWeek:n}=this;return this.monthCache.getOrSet(e,t,n)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,t){return 1===e?this.getMonthParts(12,t-1):this.getMonthParts(e-1,t)}getNextMonthParts(e,t){return 12===e?this.getMonthParts(1,t+1):this.getMonthParts(e+1,t)}getHourLabels(){return Xg().map((e=>this.formatDate(e,this.masks.hours)))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var eg=(e=>(e["Any"]="any",e["All"]="all",e))(eg||{}),tg=(e=>(e["Days"]="days",e["Weeks"]="weeks",e["Months"]="months",e["Years"]="years",e))(tg||{}),ng=(e=>(e["Days"]="days",e["Weekdays"]="weekdays",e["Weeks"]="weeks",e["Months"]="months",e["Years"]="years",e))(ng||{}),rg=(e=>(e["OrdinalWeekdays"]="ordinalWeekdays",e))(rg||{});class ig{constructor(e,t,n){c(this,"validated",!0),this.type=e,this.interval=t,this.from=n,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:t}=e;switch(this.type){case"days":return zg(this.from.date,t)%this.interval===0;case"weeks":return qg(this.from.date,t)%this.interval===0;case"months":return Wg(this.from.date,t)%this.interval===0;case"years":return Hg(this.from.date,t)%this.interval===0;default:return!1}}}class og{constructor(e,t,n,r){c(this,"components",[]),this.type=e,this.validator=n,this.getter=r,this.components=this.normalizeComponents(t)}static create(e,t){switch(e){case"days":return new sg(t);case"weekdays":return new ag(t);case"weeks":return new lg(t);case"months":return new ug(t);case"years":return new cg(t)}}normalizeComponents(e){if(this.validator(e))return[e];if(!Lf(e))return[];const t=[];return e.forEach((e=>{this.validator(e)?t.push(e):console.error(`Component value ${e} in invalid for "${this.type}" rule. This rule will be skipped.`)})),t}passes(e){const t=this.getter(e),n=t.some((e=>this.components.includes(e)));return n}}class sg extends og{constructor(e){super("days",e,pg,(({day:e,dayFromEnd:t})=>[e,-t]))}}class ag extends og{constructor(e){super("weekdays",e,mg,(({weekday:e})=>[e]))}}class lg extends og{constructor(e){super("weeks",e,gg,(({week:e,weekFromEnd:t})=>[e,-t]))}}class ug extends og{constructor(e){super("months",e,vg,(({month:e})=>[e]))}}class cg extends og{constructor(e){super("years",e,Ec,(({year:e})=>[e]))}}class dg{constructor(e,t){c(this,"components"),this.type=e,this.components=this.normalizeComponents(t)}normalizeArrayConfig(e){const t=[];return e.forEach(((n,r)=>{if(Ec(n)){if(0===r)return;if(!yg(e[0]))return void console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);if(!mg(n))return void console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);t.push([e[0],n])}else Lf(n)&&t.push(...this.normalizeArrayConfig(n))})),t}normalizeComponents(e){const t=[];return e.forEach(((n,r)=>{if(Ec(n)){if(0===r)return;if(!yg(e[0]))return void console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);if(!mg(n))return void console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);t.push([e[0],n])}else Lf(n)&&t.push(...this.normalizeArrayConfig(n))})),t}passes(e){const{weekday:t,weekdayOrdinal:n,weekdayOrdinalFromEnd:r}=e;return this.components.some((([e,i])=>(e===n||e===-r)&&t===i))}}class hg{constructor(e){c(this,"type","function"),c(this,"validated",!0),this.fn=e,me(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return!this.validated||this.fn(e)}}class fg{constructor(e,t={},n){c(this,"validated",!0),c(this,"config"),c(this,"type",eg.Any),c(this,"from"),c(this,"until"),c(this,"rules",[]),c(this,"locale",new Xm),this.parent=n,t.locale&&(this.locale=t.locale),this.config=e,me(e)?(this.type=eg.All,this.rules=[new hg(e)]):Lf(e)?(this.type=eg.Any,this.rules=e.map((e=>new fg(e,t,this)))):Pf(e)?(this.type=eg.All,this.from=e.from?this.locale.getDateParts(e.from):null==n?void 0:n.from,this.until=e.until?this.locale.getDateParts(e.until):null==n?void 0:n.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const t=[];if(e.every&&(ci(e.every)&&(e.every=[1,`${e.every}s`]),Lf(e.every))){const[n=1,r=tg.Days]=e.every;t.push(new ig(r,n,this.from))}return Object.values(ng).forEach((n=>{n in e&&t.push(og.create(n,e[n]))})),Object.values(rg).forEach((n=>{n in e&&t.push(new dg(n,e[n]))})),null!=e.on&&(Lf(e.on)||(e.on=[e.on]),t.push(new fg(e.on,{locale:this.locale},this.parent))),t}passes(e){return!this.validated||!(this.from&&e.dayIndex<=this.from.dayIndex)&&(!(this.until&&e.dayIndex>=this.until.dayIndex)&&(this.type===eg.Any?this.rules.some((t=>t.passes(e))):this.rules.every((t=>t.passes(e)))))}}function pg(e){return!!Ec(e)&&(e>=1&&e<=31)}function mg(e){return!!Ec(e)&&(e>=1&&e<=7)}function gg(e){return!!Ec(e)&&(e>=-6&&e<=-1||e>=1&&e<=6)}function vg(e){return!!Ec(e)&&(e>=1&&e<=12)}function yg(e){return!!Ec(e)&&!(e<-5||e>5||0===e)}const bg={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},wg=7,_g=6,Sg=1e3,Ig=60*Sg,kg=60*Ig,Tg=24*kg,Eg=[31,28,31,30,31,30,31,31,30,31,30,31],Cg=["L","iso"],Dg={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},Ag=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,xg=/\[([^]*?)\]/gm,Og={D(e){return e.day},DD(e){return Mf(e.day,2)},d(e){return e.weekday-1},dd(e){return Mf(e.weekday-1,2)},W(e,t){return t.dayNamesNarrow[e.weekday-1]},WW(e,t){return t.dayNamesShorter[e.weekday-1]},WWW(e,t){return t.dayNamesShort[e.weekday-1]},WWWW(e,t){return t.dayNames[e.weekday-1]},M(e){return e.month},MM(e){return Mf(e.month,2)},MMM(e,t){return t.monthNamesShort[e.month-1]},MMMM(e,t){return t.monthNames[e.month-1]},YY(e){return String(e.year).substr(2)},YYYY(e){return Mf(e.year,4)},h(e){return e.hours%12||12},hh(e){return Mf(e.hours%12||12,2)},H(e){return e.hours},HH(e){return Mf(e.hours,2)},m(e){return e.minutes},mm(e){return Mf(e.minutes,2)},s(e){return e.seconds},ss(e){return Mf(e.seconds,2)},S(e){return Math.round(e.milliseconds/100)},SS(e){return Mf(Math.round(e.milliseconds/10),2)},SSS(e){return Mf(e.milliseconds,3)},a(e,t){return e.hours<12?t.amPm[0]:t.amPm[1]},A(e,t){return e.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${Mf(Math.floor(Math.abs(t)/60),2)}`},ZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${Mf(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}`},ZZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${Mf(Math.floor(Math.abs(t)/60),2)}:${Mf(Math.abs(t)%60,2)}`}},Ng=/\d\d?/,Pg=/\d{3}/,Fg=/\d{4}/,Vg=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Mg=()=>{},Lg=e=>(t,n,r)=>{const i=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(t.month=i)},Rg={D:[Ng,(e,t)=>{e.day=t}],Do:[new RegExp(Ng.source+Vg.source),(e,t)=>{e.day=parseInt(t,10)}],d:[Ng,Mg],W:[Vg,Mg],M:[Ng,(e,t)=>{e.month=t-1}],MMM:[Vg,Lg("monthNamesShort")],MMMM:[Vg,Lg("monthNames")],YY:[Ng,(e,t)=>{const n=new Date,r=+n.getFullYear().toString().substr(0,2);e.year=+`${t>68?r-1:r}${t}`}],YYYY:[Fg,(e,t)=>{e.year=t}],S:[/\d/,(e,t)=>{e.milliseconds=100*t}],SS:[/\d{2}/,(e,t)=>{e.milliseconds=10*t}],SSS:[Pg,(e,t)=>{e.milliseconds=t}],h:[Ng,(e,t)=>{e.hours=t}],m:[Ng,(e,t)=>{e.minutes=t}],s:[Ng,(e,t)=>{e.seconds=t}],a:[Vg,(e,t,n)=>{const r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(e,t)=>{"Z"===t&&(t="+00:00");const n=`${t}`.match(/([+-]|\d\d)/gi);if(n){const t=60*+n[1]+parseInt(n[2],10);e.timezoneOffset="+"===n[0]?t:-t}}]};function Ug(e,t){return(Rf(e)&&e||[ci(e)&&e||"YYYY-MM-DD"]).map((e=>Cg.reduce(((e,n)=>e.replace(n,t.masks[n]||"")),e)))}function jg(e){return Pf(e)&&"year"in e&&"month"in e&&"day"in e}function Bg(e,t=1){const n=e.getDay()+1,r=n>=t?t-n:-(7-(t-n));return rm(e,r)}function $g(e,t,n){const r=Date.UTC(e,t-1,n);return zg(new Date(0),new Date(r))}function zg(e,t){return Math.round((t.getTime()-e.getTime())/Tg)}function qg(e,t){return Math.ceil(zg(Bg(e),Bg(t))/7)}function Hg(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}function Wg(e,t){return 12*Hg(e,t)+(t.getMonth()-e.getMonth())}function Yg(e,t=""){const n=new Date,{year:r=n.getFullYear(),month:i=n.getMonth()+1,day:o=n.getDate(),hours:s=0,minutes:a=0,seconds:l=0,milliseconds:u=0}=e;if(t){const e=`${Mf(r,4)}-${Mf(i,2)}-${Mf(o,2)}T${Mf(s,2)}:${Mf(a,2)}:${Mf(l,2)}.${Mf(u,3)}`;return Sp(e,{timeZone:t})}return new Date(r,i-1,o,s,a,l,u)}function Gg(e,t){let n=new Date(e.getTime());t.timezone&&(n=new Date(e.toLocaleString("en-US",{timeZone:t.timezone})),n.setMilliseconds(e.getMilliseconds()));const r=n.getMilliseconds(),i=n.getSeconds(),o=n.getMinutes(),s=n.getHours(),a=r+i*Sg+o*Ig+s*kg,l=n.getMonth()+1,u=n.getFullYear(),c=t.getMonthParts(l,u),d=n.getDate(),h=c.numDays-d+1,f=n.getDay()+1,p=Math.floor((d-1)/7+1),m=Math.floor((c.numDays-d)/7+1),g=Math.ceil((d+Math.abs(c.firstWeekday-c.firstDayOfWeek))/7),v=c.numWeeks-g+1,y=c.weeknumbers[g],b=$g(u,l,d),w={milliseconds:r,seconds:i,minutes:o,hours:s,time:a,day:d,dayFromEnd:h,weekday:f,weekdayOrdinal:p,weekdayOrdinalFromEnd:m,week:g,weekFromEnd:v,weeknumber:y,month:l,year:u,date:n,dateTime:n.getTime(),dayIndex:b,timezoneOffset:0,isValid:!0};return w}function Kg(e,t,n){return`${t}-${e}-${n}`}function Zg(e,t,n){const r=t%4===0&&t%100!==0||t%400===0,i=new Date(t,e-1,1),o=i.getDay()+1,s=2===e&&r?29:Eg[e-1],a=n-1,l=Yp(i,{weekStartsOn:a}),u=[],c=[];for(let d=0;d<l;d++){const e=rm(i,7*d);u.push(Qp(e,{weekStartsOn:a})),c.push(nm(e))}return{firstDayOfWeek:n,firstDayOfMonth:i,inLeapYear:r,firstWeekday:o,numDays:s,numWeeks:l,month:e,year:t,weeknumbers:u,isoWeeknumbers:c}}function Qg(){const e=[],t=2020,n=1,r=5;for(let i=0;i<wg;i++)e.push(Yg({year:t,month:n,day:r+i,hours:12}));return e}function Jg(e,t=void 0){const n=new Intl.DateTimeFormat(t,{weekday:e});return Qg().map((e=>n.format(e)))}function Xg(){const e=[];for(let t=0;t<=24;t++)e.push(new Date(2e3,0,1,t));return e}function ev(e=void 0){const t=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(e);return t.reduce(((e,t)=>{const r=n.formatToParts(100,t);return e[t]=r[1].unit,e}),{})}function tv(){const e=[];for(let t=0;t<12;t++)e.push(new Date(2e3,t,15));return e}function nv(e,t=void 0){const n=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return tv().map((e=>n.format(e)))}function rv(e,t,n){return Ec(t)?t===e:Lf(t)?t.includes(e):me(t)?t(e,n):!(null!=t.min&&t.min>e)&&(!(null!=t.max&&t.max<e)&&(null==t.interval||e%t.interval===0))}function iv(e,t,n){const r=[],[i,o,s]=t;for(let a=i;a<=o;a++)(null==n||rv(a,n,e))&&r.push({value:a,label:Mf(a,s)});return r}function ov(e,t){return{milliseconds:iv(e,Dg.milliseconds,t.milliseconds),seconds:iv(e,Dg.seconds,t.seconds),minutes:iv(e,Dg.minutes,t.minutes),hours:iv(e,Dg.hours,t.hours)}}function sv(e,t,n,r){const i=iv(e,t,r),o=i.reduce(((e,t)=>{if(t.disabled)return e;if(isNaN(e))return t.value;const r=Math.abs(e-n),i=Math.abs(t.value-n);return i<r?t.value:e}),NaN);return isNaN(o)?n:o}function av(e,t){const n={...e};return Object.entries(t).forEach((([t,r])=>{const i=Dg[t],o=e[t];n[t]=sv(e,i,o,r)})),n}function lv(e,t,n){const r=Ug(t,n);return r.map((t=>{if("string"!==typeof t)throw new Error("Invalid mask");let r=e;if(r.length>1e3)return!1;let i=!0;const o={};if(t.replace(Ag,(e=>{if(Rg[e]){const t=Rg[e],s=r.search(t[0]);~s?r.replace(t[0],(e=>(t[1](o,e,n),r=r.substr(s+e.length),e))):i=!1}return Rg[e]?"":e.slice(1,e.length-1)})),!i)return!1;const s=new Date;let a;return null!=o.hours&&(!0===o.isPm&&12!==+o.hours?o.hours=+o.hours+12:!1===o.isPm&&12===+o.hours&&(o.hours=0)),null!=o.timezoneOffset?(o.minutes=+(o.minutes||0)-+o.timezoneOffset,a=new Date(Date.UTC(o.year||s.getFullYear(),o.month||0,o.day||1,o.hours||0,o.minutes||0,o.seconds||0,o.milliseconds||0))):a=n.getDateFromParts({year:o.year||s.getFullYear(),month:(o.month||0)+1,day:o.day||1,hours:o.hours||0,minutes:o.minutes||0,seconds:o.seconds||0,milliseconds:o.milliseconds||0}),a})).find((e=>e))||new Date(e)}function uv(e,t,n){if(null==e)return"";let r=Ug(t,n)[0];/Z$/.test(r)&&(n.timezone="utc");const i=[];r=r.replace(xg,((e,t)=>(i.push(t),"??")));const o=n.getDateParts(e);return r=r.replace(Ag,(e=>e in Og?Og[e](o,n):e.slice(1,e.length-1))),r.replace(/\?\?/g,(()=>i.shift()))}Rg.DD=Rg.D,Rg.dd=Rg.d,Rg.WWWW=Rg.WWW=Rg.WW=Rg.W,Rg.MM=Rg.M,Rg.mm=Rg.m,Rg.hh=Rg.H=Rg.HH=Rg.h,Rg.ss=Rg.s,Rg.A=Rg.a,Rg.ZZZZ=Rg.ZZZ=Rg.ZZ=Rg.Z;let cv=0;class dv{constructor(e,t,n){c(this,"key",""),c(this,"hashcode",""),c(this,"highlight",null),c(this,"content",null),c(this,"dot",null),c(this,"bar",null),c(this,"event",null),c(this,"popover",null),c(this,"customData",null),c(this,"ranges"),c(this,"hasRanges",!1),c(this,"order",0),c(this,"pinPage",!1),c(this,"maxRepeatSpan",0),c(this,"locale");const{dates:r}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++cv),this.locale=n,t.normalizeGlyphs(this),this.ranges=n.ranges(r??[]),this.hasRanges=!!Rf(this.ranges),this.maxRepeatSpan=this.ranges.filter((e=>e.hasRepeat)).map((e=>e.daySpan)).reduce(((e,t)=>Math.max(e,t)),0)}intersectsRange({start:e,end:t}){if(null==e||null==t)return!1;const n=this.ranges.filter((e=>!e.hasRepeat));for(const o of n)if(o.intersectsDayRange(e.dayIndex,t.dayIndex))return!0;const r=this.ranges.filter((e=>e.hasRepeat));if(!r.length)return!1;let i=e;this.maxRepeatSpan>1&&(i=this.locale.getDateParts(rm(i.date,-this.maxRepeatSpan)));while(i.dayIndex<=t.dayIndex){for(const e of r)if(e.startsOnDay(i))return!0;i=this.locale.getDateParts(rm(i.date,1))}return!1}}function hv(e){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:e}))}function fv(e){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:e}))}function pv(e){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:e}))}function mv(e){const{visibility:t}=e,n="click"===t,r="hover"===t,i="hover-focus"===t,o="focus"===t;e.autoHide=!n;let s=!1,a=!1;const l=t=>{n&&(pv({...e,target:e.target||t.currentTarget}),t.stopPropagation())},u=t=>{s||(s=!0,(r||i)&&hv({...e,target:e.target||t.currentTarget}))},c=()=>{s&&(s=!1,(r||i&&!a)&&fv(e))},d=t=>{a||(a=!0,(o||i)&&hv({...e,target:e.target||t.currentTarget}))},h=t=>{a&&!$f(t.currentTarget,t.relatedTarget)&&(a=!1,(o||i&&!s)&&fv(e))},f={};switch(e.visibility){case"click":f.click=l;break;case"hover":f.mousemove=u,f.mouseleave=c;break;case"focus":f.focusin=d,f.focusout=h;break;case"hover-focus":f.mousemove=u,f.mouseleave=c,f.focusin=d,f.focusout=h;break}return f}const gv=e=>{const t=Uf(e);if(null==t)return;const n=t.popoverHandlers;n&&n.length&&(n.forEach((e=>e())),delete t.popoverHandlers)},vv=(e,t)=>{const n=Uf(e);if(null==n)return;const r=[],i=mv(t);Object.entries(i).forEach((([e,t])=>{r.push(Bf(n,e,t))})),n.popoverHandlers=r},yv={mounted(e,t){const{value:n}=t;n&&vv(e,n)},updated(e,t){const{oldValue:n,value:r}=t,i=null==n?void 0:n.visibility,o=null==r?void 0:r.visibility;i!==o&&(i&&(gv(e),o||fv(n)),o&&vv(e,r))},unmounted(e){gv(e)}},bv=(e,t,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:i})=>{if(!e||!e.addEventListener||!me(t))return null;let o=0,s=0,a=null,l=!1;function u(e){const t=e.changedTouches[0];o=t.screenX,s=t.screenY,a=(new Date).getTime(),l=!0}function c(e){if(!l||!a)return;l=!1;const u=e.changedTouches[0],c=u.screenX-o,d=u.screenY-s,h=(new Date).getTime()-a;if(h<n&&Math.abs(c)>=r&&Math.abs(d)<=i){const e={toLeft:!1,toRight:!1};c<0?e.toLeft=!0:e.toRight=!0,t(e)}}return Bf(e,"touchstart",u,{passive:!0}),Bf(e,"touchend",c,{passive:!0}),()=>{jf(e,"touchstart",u),jf(e,"touchend",c)}},wv={},_v=(e,t=10)=>{wv[e]=Date.now()+t},Sv=(e,t)=>{if(e in wv){const t=wv[e];if(Date.now()<t)return;delete wv[e]}t()};function Iv(){return"undefined"!==typeof window}function kv(e){return Iv()&&e in window}function Tv(e){const t=(0,r.iH)(!1),n=(0,i.Fl)((()=>t.value?"dark":"light"));let o,s;function a(e){t.value=e.matches}function l(){kv("matchMedia")&&(o=window.matchMedia("(prefers-color-scheme: dark)"),o.addEventListener("change",a),t.value=o.matches)}function u(){const{selector:n=":root",darkClass:r="dark"}=e.value,i=document.querySelector(n);t.value=i.classList.contains(r)}function c(e){const{selector:n=":root",darkClass:r="dark"}=e;if(Iv()&&n&&r){const e=document.querySelector(n);e&&(s=new MutationObserver(u),s.observe(e,{attributes:!0,attributeFilter:["class"]}),t.value=e.classList.contains(r))}}function d(){f();const n=typeof e.value;"string"===n&&"system"===e.value.toLowerCase()?l():"object"===n?c(e.value):t.value=!!e.value}const h=(0,i.YP)((()=>e.value),(()=>d()),{immediate:!0});function f(){o&&(o.removeEventListener("change",a),o=void 0),s&&(s.disconnect(),s=void 0)}function p(){f(),h()}return(0,i.Ah)((()=>p())),{isDark:t,displayMode:n,cleanup:p}}const Ev=["base","start","end","startEnd"],Cv=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],Dv={base:{},start:{},end:{}};function Av(e,t,n=Dv){let r=e,i={};!0===t||ci(t)?(r=ci(t)?t:r,i={...n}):Pf(t)&&(i=Vf(t,Ev)?{...t}:{base:{...t},start:{...t},end:{...t}});const o=Ef(i,{start:i.startEnd,end:i.startEnd},n);return Object.entries(o).forEach((([e,t])=>{let n=r;!0===t||ci(t)?(n=ci(t)?t:n,o[e]={color:n}):Pf(t)&&(Vf(t,Cv)?o[e]={...t}:o[e]={}),Ef(o[e],{color:n})})),o}class xv{constructor(){c(this,"type","highlight")}normalizeConfig(e,t){return Av(e,t,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:t,onEnd:n},r){const{key:i,highlight:o}=e;if(!o)return;const{highlights:s}=r,{base:a,start:l,end:u}=o;t&&n?s.push({...l,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]}):t?(s.push({...a,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${a.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${a.fillMode}`,a.class]}),s.push({...l,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})):n?(s.push({...a,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${a.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${a.fillMode}`,a.class]}),s.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):s.push({...a,key:`${i}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${a.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${a.fillMode}`,a.class],contentClass:[`vc-attr vc-highlight-content-${a.fillMode} vc-${a.color}`,a.contentClass]})}}class Ov{constructor(e,t){c(this,"type",""),c(this,"collectionType",""),this.type=e,this.collectionType=t}normalizeConfig(e,t){return Av(e,t)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:t,onEnd:n},r){const{key:i}=e,o=e[this.type];if(!i||!o)return;const s=r[this.collectionType],{base:a,start:l,end:u}=o;t?s.push({...l,key:i,class:[`vc-${this.type} vc-${this.type}-start vc-${l.color} vc-attr`,l.class]}):n?s.push({...u,key:i,class:[`vc-${this.type} vc-${this.type}-end vc-${u.color} vc-attr`,u.class]}):s.push({...a,key:i,class:[`vc-${this.type} vc-${this.type}-base vc-${a.color} vc-attr`,a.class]})}}class Nv extends Ov{constructor(){super("content","content")}normalizeConfig(e,t){return Av("base",t)}}class Pv extends Ov{constructor(){super("dot","dots")}}class Fv extends Ov{constructor(){super("bar","bars")}}class Vv{constructor(e){c(this,"color"),c(this,"renderers",[new Nv,new xv,new Pv,new Fv]),this.color=e}normalizeGlyphs(e){this.renderers.forEach((t=>{const n=t.type;null!=e[n]&&(e[n]=t.normalizeConfig(this.color,e[n]))}))}prepareRender(e={}){return this.renderers.forEach((t=>{t.prepareRender(e)})),e}render(e,t){this.renderers.forEach((n=>{n.render(e,t)}))}}const Mv=Symbol("__vc_base_context__"),Lv={color:{type:String,default:()=>Gm("color")},isDark:{type:[Boolean,String,Object],default:()=>Gm("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function Rv(e){const t=(0,i.Fl)((()=>e.color??"")),n=(0,i.Fl)((()=>e.isDark??!1)),{displayMode:r}=Tv(n),o=(0,i.Fl)((()=>new Vv(t.value))),s=(0,i.Fl)((()=>{if(e.locale instanceof Xm)return e.locale;const t=Pf(e.locale)?e.locale:{id:e.locale,firstDayOfWeek:e.firstDayOfWeek,masks:e.masks};return new Xm(t,e.timezone)})),a=(0,i.Fl)((()=>s.value.masks)),l=(0,i.Fl)((()=>e.minDate)),u=(0,i.Fl)((()=>e.maxDate)),c=(0,i.Fl)((()=>{const t=e.disabledDates?[...e.disabledDates]:[];return null!=l.value&&t.push({start:null,end:rm(s.value.toDate(l.value),-1)}),null!=u.value&&t.push({start:rm(s.value.toDate(u.value),1),end:null}),s.value.ranges(t)})),d=(0,i.Fl)((()=>new dv({key:"disabled",dates:c.value,order:100},o.value,s.value))),h={color:t,isDark:n,displayMode:r,theme:o,locale:s,masks:a,minDate:l,maxDate:u,disabledDates:c,disabledAttribute:d};return(0,i.JJ)(Mv,h),h}function Uv(e){return(0,i.f3)(Mv,(()=>Rv(e)),!0)}function jv(e){return`__vc_slot_${e}__`}function Bv(e,t={}){Object.keys(e).forEach((n=>{(0,i.JJ)(jv(t[n]??n),e[n])}))}function $v(e){return(0,i.f3)(jv(e),null)}const zv={...Lv,view:{type:String,default:"monthly",validator(e){return["daily","weekly","monthly"].includes(e)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Gm("titlePosition")},navVisibility:{type:String,default:()=>Gm("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},qv=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],Hv=Symbol("__vc_calendar_context__");function Wv(e,{slots:t,emit:n}){const o=(0,r.iH)(null),s=(0,r.iH)(null),a=(0,r.iH)((new Date).getDate()),l=(0,r.iH)(!1),u=(0,r.iH)(Symbol()),c=(0,r.iH)(Symbol()),d=(0,r.iH)(e.view),h=(0,r.iH)([]),f=(0,r.iH)("");let p=null,m=null;Bv(t);const{theme:g,color:v,displayMode:y,locale:b,masks:w,minDate:_,maxDate:S,disabledAttribute:I,disabledDates:k}=Uv(e),T=(0,i.Fl)((()=>e.rows*e.columns)),E=(0,i.Fl)((()=>e.step||T.value)),C=(0,i.Fl)((()=>Df(h.value)??null)),D=(0,i.Fl)((()=>xf(h.value)??null)),A=(0,i.Fl)((()=>e.minPage||(_.value?j(_.value):null))),x=(0,i.Fl)((()=>e.maxPage||(S.value?j(S.value):null))),O=(0,i.Fl)((()=>e.navVisibility)),N=(0,i.Fl)((()=>!!e.showWeeknumbers)),P=(0,i.Fl)((()=>!!e.showIsoWeeknumbers)),F=(0,i.Fl)((()=>"monthly"===d.value)),V=(0,i.Fl)((()=>"weekly"===d.value)),M=(0,i.Fl)((()=>"daily"===d.value)),L=()=>{l.value=!0,n("transition-start")},R=()=>{l.value=!1,n("transition-end"),p&&(p.resolve(!0),p=null)},U=(e,t,n=d.value)=>hm(e,t,n,b.value),j=e=>dm(e,d.value,b.value),B=e=>{I.value&&Y.value&&(e.isDisabled=Y.value.cellExists(I.value.key,e.dayIndex))},$=e=>{e.isFocusable=e.inMonth&&e.day===a.value},z=(e,t)=>{for(const n of e)for(const e of n.days)if(!1===t(e))return},q=(0,i.Fl)((()=>h.value.reduce(((e,t)=>(e.push(...t.viewDays),e)),[]))),H=(0,i.Fl)((()=>{const t=[];return(e.attributes||[]).forEach(((e,n)=>{e&&e.dates&&t.push(new dv({...e,order:e.order||0},g.value,b.value))})),I.value&&t.push(I.value),t})),W=(0,i.Fl)((()=>Rf(H.value))),Y=(0,i.Fl)((()=>{const e=new km;return H.value.forEach((t=>{t.ranges.forEach((n=>{e.render(t,n,q.value)}))})),e})),G=(0,i.Fl)((()=>q.value.reduce(((e,t)=>(e[t.dayIndex]={day:t,cells:[]},e[t.dayIndex].cells.push(...Y.value.getCells(t)),e)),{}))),K=(t,n)=>{const r=e.showWeeknumbers||e.showIsoWeeknumbers;return null==r?"":_c(r)?r?"left":"":r.startsWith("right")?n>1?"right":r:t>1?"left":r},Z=()=>{var e,t;if(!W.value)return null;const n=H.value.find((e=>e.pinPage))||H.value[0];if(!n||!n.hasRanges)return null;const[r]=n.ranges,i=(null==(e=r.start)?void 0:e.date)||(null==(t=r.end)?void 0:t.date);return i?j(i):null},Q=()=>{if(fm(C.value))return C.value;const e=Z();return fm(e)?e:j(new Date)},J=(e,t={})=>{const{view:n=d.value,position:r=1,force:i}=t,o=r>0?1-r:-(T.value+r);let s=U(e,o,n),a=U(s,T.value-1,n);return i||(pm(s,A.value)?s=A.value:mm(a,x.value)&&(s=U(x.value,1-T.value)),a=U(s,T.value-1)),{fromPage:s,toPage:a}},X=(e,t,n="")=>{if("none"===n||"fade"===n)return n;if((null==e?void 0:e.view)!==(null==t?void 0:t.view))return"fade";const r=mm(t,e),i=pm(t,e);return r||i?"slide-v"===n?i?"slide-down":"slide-up":i?"slide-right":"slide-left":"fade"},ee=(t={})=>new Promise(((n,r)=>{const{position:i=1,force:o=!1,transition:s}=t,a=fm(t.page)?t.page:Q(),{fromPage:l}=J(a,{position:i,force:o}),u=[];for(let t=0;t<T.value;t++){const n=U(l,t),r=t+1,i=Math.ceil(r/e.columns),o=e.rows-i+1,s=r%e.columns||e.columns,a=e.columns-s+1,c=K(s,a);u.push(b.value.getPage({...n,view:d.value,titlePosition:e.titlePosition,trimWeeks:e.trimWeeks,position:r,row:i,rowFromEnd:o,column:s,columnFromEnd:a,showWeeknumbers:N.value,showIsoWeeknumbers:P.value,weeknumberPosition:c}))}f.value=X(h.value[0],u[0],s),h.value=u,f.value&&"none"!==f.value?p={resolve:n,reject:r}:n(!0)})),te=e=>{const t=C.value??j(new Date);return U(t,e)},ne=(e,t={})=>{const n=fm(e)?e:j(e);Object.assign(t,J(n,{...t,force:!0}));const r=ym(t.fromPage,t.toPage,d.value,b.value).map((e=>gm(e,A.value,x.value)));return r.some((e=>e))},re=(e,t={})=>ne(te(e),t),ie=(0,i.Fl)((()=>re(-E.value))),oe=(0,i.Fl)((()=>re(E.value))),se=async(e,t={})=>!(!t.force&&!ne(e,t))&&(t.fromPage&&!vm(t.fromPage,C.value)&&(fv({id:u.value,hideDelay:0}),t.view&&(_v("view",10),d.value=t.view),await ee({...t,page:t.fromPage,position:1,force:!0}),n("did-move",h.value)),!0),ae=(e,t={})=>se(te(e),t),le=()=>ae(-E.value),ue=()=>ae(E.value),ce=e=>{const t=F.value?".in-month":"",n=`.id-${b.value.getDayId(e)}${t}`,r=`${n}.vc-focusable, ${n} .vc-focusable`,i=o.value;if(i){const e=i.querySelector(r);if(e)return e.focus(),!0}return!1},de=async(e,t={})=>!!ce(e)||(await se(e,t),ce(e)),he=(e,t)=>{a.value=e.day,n("dayclick",e,t)},fe=(e,t)=>{n("daymouseenter",e,t)},pe=(e,t)=>{n("daymouseleave",e,t)},me=(e,t)=>{a.value=e.day,s.value=e,e.isFocused=!0,n("dayfocusin",e,t)},ge=(e,t)=>{s.value=null,e.isFocused=!1,n("dayfocusout",e,t)},ve=(e,t)=>{n("daykeydown",e,t);const r=e.noonDate;let i=null;switch(t.key){case"ArrowLeft":i=rm(r,-1);break;case"ArrowRight":i=rm(r,1);break;case"ArrowUp":i=rm(r,-7);break;case"ArrowDown":i=rm(r,7);break;case"Home":i=rm(r,1-e.weekdayPosition);break;case"End":i=rm(r,e.weekdayPositionFromEnd);break;case"PageUp":i=t.altKey?om(r,-1):im(r,-1);break;case"PageDown":i=t.altKey?om(r,1):im(r,1);break}i&&(t.preventDefault(),de(i).catch())},ye=e=>{const t=s.value;null!=t&&ve(t,e)},be=(e,t)=>{n("weeknumberclick",e,t)};ee({page:e.initialPage,position:e.initialPagePosition}),(0,i.bv)((()=>{!e.disablePageSwipe&&o.value&&(m=bv(o.value,(({toLeft:e=!1,toRight:t=!1})=>{e?ue():t&&le()}),Gm("touch")))})),(0,i.Ah)((()=>{h.value=[],m&&m()})),(0,i.YP)((()=>b.value),(()=>{ee()})),(0,i.YP)((()=>T.value),(()=>ee())),(0,i.YP)((()=>e.view),(()=>d.value=e.view)),(0,i.YP)((()=>d.value),(()=>{Sv("view",(()=>{ee()})),n("update:view",d.value)})),(0,i.YP)((()=>a.value),(()=>{z(h.value,(e=>$(e)))})),(0,i.m0)((()=>{n("update:pages",h.value),z(h.value,(e=>{B(e),$(e)}))}));const we={emit:n,containerRef:o,focusedDay:s,inTransition:l,navPopoverId:u,dayPopoverId:c,view:d,pages:h,transitionName:f,theme:g,color:v,displayMode:y,locale:b,masks:w,attributes:H,disabledAttribute:I,disabledDates:k,attributeContext:Y,days:q,dayCells:G,count:T,step:E,firstPage:C,lastPage:D,canMovePrev:ie,canMoveNext:oe,minPage:A,maxPage:x,isMonthly:F,isWeekly:V,isDaily:M,navVisibility:O,showWeeknumbers:N,showIsoWeeknumbers:P,getDateAddress:j,canMove:ne,canMoveBy:re,move:se,moveBy:ae,movePrev:le,moveNext:ue,onTransitionBeforeEnter:L,onTransitionAfterEnter:R,tryFocusDate:ce,focusDate:de,onKeydown:ye,onDayKeydown:ve,onDayClick:he,onDayMouseenter:fe,onDayMouseleave:pe,onDayFocusin:me,onDayFocusout:ge,onWeeknumberClick:be};return(0,i.JJ)(Hv,we),we}function Yv(){const e=(0,i.f3)(Hv);if(e)return e;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const Gv=(0,i.aZ)({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(e,{emit:t}){let n;const o=(0,r.iH)();let s=null,l=null;const u=(0,r.qj)({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function c(e){e&&(u.direction=e.split("-")[0])}function d({placement:e,options:t}){c(e||(null==t?void 0:t.placement))}const h=(0,i.Fl)((()=>({placement:u.placement,strategy:u.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:d},...u.modifiers||[]],onFirstUpdate:d}))),f=(0,i.Fl)((()=>{const e="left"===u.direction||"right"===u.direction;let t="";if(u.placement){const e=u.placement.split("-");e.length>1&&(t=e[1])}return["start","top","left"].includes(t)?e?"top":"left":["end","bottom","right"].includes(t)?e?"bottom":"right":e?"middle":"center"}));function p(){l&&(l.destroy(),l=null)}function m(){(0,i.Y3)((()=>{const e=Uf(u.target);e&&o.value&&(l&&l.state.elements.reference!==e&&p(),l?l.update():l=(0,a.fi)(e,o.value,h.value))}))}function g(e){Object.assign(u,qf(e,"force"))}function v(e,t){clearTimeout(n),e>0?n=setTimeout(t,e):t()}function y(e){if(!e||!l)return!1;const t=Uf(e);return t===l.state.elements.reference}async function b(t={}){u.force||(t.force&&(u.force=!0),v(t.showDelay??e.showDelay,(()=>{u.isVisible&&(u.force=!1),g({...t,isVisible:!0}),m()})))}function w(t={}){l&&(t.target&&!y(t.target)||u.force||(t.force&&(u.force=!0),v(t.hideDelay??e.hideDelay,(()=>{u.isVisible||(u.force=!1),u.isVisible=!1}))))}function _(e={}){null!=e.target&&(u.isVisible&&y(e.target)?w(e):b(e))}function S(e){if(!l)return;const t=l.state.elements.reference;if(!o.value||!t)return;const n=e.target;$f(o.value,n)||$f(t,n)||w({force:!0})}function I(e){"Esc"!==e.key&&"Escape"!==e.key||w()}function k({detail:t}){t.id&&t.id===e.id&&b(t)}function T({detail:t}){t.id&&t.id===e.id&&w(t)}function E({detail:t}){t.id&&t.id===e.id&&_(t)}function C(){Bf(document,"keydown",I),Bf(document,"click",S),Bf(document,"show-popover",k),Bf(document,"hide-popover",T),Bf(document,"toggle-popover",E)}function D(){jf(document,"keydown",I),jf(document,"click",S),jf(document,"show-popover",k),jf(document,"hide-popover",T),jf(document,"toggle-popover",E)}function A(e){t("before-show",e)}function x(e){u.force=!1,t("after-show",e)}function O(e){t("before-hide",e)}function N(e){u.force=!1,p(),t("after-hide",e)}function P(e){e.stopPropagation()}function F(){u.isHovered=!0,u.isInteractive&&["hover","hover-focus"].includes(u.visibility)&&b()}function V(){if(u.isHovered=!1,!l)return;const e=l.state.elements.reference;!u.autoHide||u.isFocused||e&&e===document.activeElement||!["hover","hover-focus"].includes(u.visibility)||w()}function M(){u.isFocused=!0,u.isInteractive&&["focus","hover-focus"].includes(u.visibility)&&b()}function L(e){!["focus","hover-focus"].includes(u.visibility)||e.relatedTarget&&$f(o.value,e.relatedTarget)||(u.isFocused=!1,!u.isHovered&&u.autoHide&&w())}function R(){null!=s&&(s.disconnect(),s=null)}return(0,i.YP)((()=>o.value),(e=>{R(),e&&(s=new ResizeObserver((()=>{l&&l.update()})),s.observe(e))})),(0,i.YP)((()=>u.placement),c,{immediate:!0}),(0,i.bv)((()=>{C()})),(0,i.Ah)((()=>{p(),R(),D()})),{...(0,r.BK)(u),popoverRef:o,alignment:f,hide:w,setupPopper:m,beforeEnter:A,afterEnter:x,beforeLeave:O,afterLeave:N,onClick:P,onMouseOver:F,onMouseLeave:V,onFocusIn:M,onFocusOut:L}}}),Kv=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};function Zv(e,t,n,r,a,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["vc-popover-content-wrapper",{"is-interactive":e.isInteractive}]),ref:"popoverRef",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t)),onMouseover:t[1]||(t[1]=(...t)=>e.onMouseOver&&e.onMouseOver(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onFocusin:t[3]||(t[3]=(...t)=>e.onFocusIn&&e.onFocusIn(...t)),onFocusout:t[4]||(t[4]=(...t)=>e.onFocusOut&&e.onFocusOut(...t))},[(0,i.Wm)(s.uT,{name:`vc-${e.transition}`,appear:"",onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:(0,i.w5)((()=>[e.isVisible?((0,i.wg)(),(0,i.iD)("div",(0,i.dG)({key:0,tabindex:"-1",class:`vc-popover-content direction-${e.direction}`},e.$attrs),[(0,i.WI)(e.$slots,"default",{direction:e.direction,alignment:e.alignment,data:e.data,hide:e.hide},(()=>[(0,i.Uk)((0,o.zw)(e.data),1)])),(0,i._)("span",{class:(0,o.C_)(["vc-popover-caret",`direction-${e.direction}`,`align-${e.alignment}`])},null,2)],16)):(0,i.kq)("",!0)])),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const Qv=Kv(Gv,[["render",Zv]]),Jv={class:"vc-day-popover-row"},Xv={key:0,class:"vc-day-popover-row-indicator"},ey={class:"vc-day-popover-row-label"},ty=(0,i.aZ)({__name:"PopoverRow",props:{attribute:null},setup(e){const t=e,n=(0,i.Fl)((()=>{const{content:e,highlight:n,dot:r,bar:i,popover:o}=t.attribute;return o&&o.hideIndicator?null:e?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${e.base.color}`}:n?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${n.base.color}`}:r?{class:`vc-dot vc-attr vc-${r.base.color}`}:i?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${i.base.color}`}:null}));return(t,s)=>((0,i.wg)(),(0,i.iD)("div",Jv,[(0,r.SU)(n)?((0,i.wg)(),(0,i.iD)("div",Xv,[(0,i._)("span",{class:(0,o.C_)((0,r.SU)(n).class)},null,2)])):(0,i.kq)("",!0),(0,i._)("div",ey,[(0,i.WI)(t.$slots,"default",{},(()=>[(0,i.Uk)((0,o.zw)(e.attribute.popover?e.attribute.popover.label:"No content provided"),1)]))])]))}}),ny={inheritAttrs:!1},ry=(0,i.aZ)({...ny,__name:"CalendarSlot",props:{name:null},setup(e){const t=e,n=$v(t.name);return(e,t)=>(0,r.SU)(n)?((0,i.wg)(),(0,i.j4)((0,i.LL)((0,r.SU)(n)),(0,o.vs)((0,i.dG)({key:0},e.$attrs)),null,16)):(0,i.WI)(e.$slots,"default",{key:1})}}),iy={class:"vc-day-popover-container"},oy={key:0,class:"vc-day-popover-header"},sy=(0,i.aZ)({__name:"CalendarDayPopover",setup(e){const{dayPopoverId:t,displayMode:n,color:s,masks:a,locale:l}=Yv();function u(e,t){return l.value.formatDate(e,t)}function c(e){return l.value.formatDate(e.date,a.value.dayPopover)}return(e,l)=>((0,i.wg)(),(0,i.j4)(Qv,{id:(0,r.SU)(t),class:(0,o.C_)([`vc-${(0,r.SU)(s)}`,`vc-${(0,r.SU)(n)}`])},{default:(0,i.w5)((({data:{day:e,attributes:t},hide:n})=>[(0,i.Wm)(ry,{name:"day-popover",day:e,"day-title":c(e),attributes:t,format:u,masks:(0,r.SU)(a),hide:n},{default:(0,i.w5)((()=>[(0,i._)("div",iy,[(0,r.SU)(a).dayPopover?((0,i.wg)(),(0,i.iD)("div",oy,(0,o.zw)(c(e)),1)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t,(e=>((0,i.wg)(),(0,i.j4)(ty,{key:e.key,attribute:e},null,8,["attribute"])))),128))])])),_:2},1032,["day","day-title","attributes","masks","hide"])])),_:1},8,["id","class"]))}}),ay={},ly={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},uy=(0,i._)("polyline",{points:"9 18 15 12 9 6"},null,-1),cy=[uy];function dy(e,t){return(0,i.wg)(),(0,i.iD)("svg",ly,cy)}const hy=Kv(ay,[["render",dy]]),fy={},py={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},my=(0,i._)("polyline",{points:"15 18 9 12 15 6"},null,-1),gy=[my];function vy(e,t){return(0,i.wg)(),(0,i.iD)("svg",py,gy)}const yy=Kv(fy,[["render",vy]]),by={},wy={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},_y=(0,i._)("polyline",{points:"6 9 12 15 18 9"},null,-1),Sy=[_y];function Iy(e,t){return(0,i.wg)(),(0,i.iD)("svg",wy,Sy)}const ky=Kv(by,[["render",Iy]]),Ty={},Ey={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},Cy=(0,i._)("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Dy=[Cy];function Ay(e,t){return(0,i.wg)(),(0,i.iD)("svg",Ey,Dy)}const xy=Kv(Ty,[["render",Ay]]),Oy=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:ky,IconChevronLeft:yy,IconChevronRight:hy,IconClock:xy},Symbol.toStringTag,{value:"Module"})),Ny=(0,i.aZ)({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(e){const t=e,n=(0,i.Fl)((()=>t.width||t.size)),o=(0,i.Fl)((()=>t.height||t.size)),s=(0,i.Fl)((()=>Oy[`Icon${t.name}`]));return(e,t)=>((0,i.wg)(),(0,i.j4)((0,i.LL)((0,r.SU)(s)),{width:(0,r.SU)(n),height:(0,r.SU)(o),class:"vc-base-icon"},null,8,["width","height"]))}}),Py=["disabled"],Fy={key:1,class:"vc-title-wrapper"},Vy={type:"button",class:"vc-title"},My=["disabled"],Ly=(0,i.aZ)({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(e){const t=e,{navPopoverId:n,navVisibility:a,canMovePrev:l,movePrev:u,canMoveNext:c,moveNext:d}=Yv(),h=(0,i.Fl)((()=>{switch(t.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}})),f=(0,i.Fl)((()=>{const{page:e}=t;return{id:n.value,visibility:a.value,placement:h.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:e},isInteractive:!0}})),p=(0,i.Fl)((()=>t.page.titlePosition.includes("left"))),m=(0,i.Fl)((()=>t.page.titlePosition.includes("right"))),g=(0,i.Fl)((()=>t.layout?t.layout:p.value?"tu-pn":m.value?"pn-tu":"p-tu-n;")),v=(0,i.Fl)((()=>({prev:g.value.includes("p")&&!t.hideArrows,title:g.value.includes("t")&&!t.hideTitle,next:g.value.includes("n")&&!t.hideArrows}))),y=(0,i.Fl)((()=>{const e=g.value.split("").map((e=>{switch(e){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}})).join(" ");return{gridTemplateColumns:e}}));return(t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["vc-header",{"is-lg":e.isLg,"is-xl":e.isXl,"is-2xl":e.is2xl}]),style:(0,o.j5)((0,r.SU)(y))},[(0,r.SU)(v).prev?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!(0,r.SU)(l),onClick:n[0]||(n[0]=(...e)=>(0,r.SU)(u)&&(0,r.SU)(u)(...e)),onKeydown:n[1]||(n[1]=(0,s.D2)(((...e)=>(0,r.SU)(u)&&(0,r.SU)(u)(...e)),["space","enter"]))},[(0,i.Wm)(ry,{name:"header-prev-button",disabled:!(0,r.SU)(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Ny,{name:"ChevronLeft",size:"24"})])),_:1},8,["disabled"])],40,Py)):(0,i.kq)("",!0),(0,r.SU)(v).title?((0,i.wg)(),(0,i.iD)("div",Fy,[(0,i.Wm)(ry,{name:"header-title-wrapper"},{default:(0,i.w5)((()=>[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",Vy,[(0,i.Wm)(ry,{name:"header-title",title:e.page.title},{default:(0,i.w5)((()=>[(0,i._)("span",null,(0,o.zw)(e.page.title),1)])),_:1},8,["title"])])),[[(0,r.SU)(yv),(0,r.SU)(f)]])])),_:1})])):(0,i.kq)("",!0),(0,r.SU)(v).next?((0,i.wg)(),(0,i.iD)("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!(0,r.SU)(c),onClick:n[2]||(n[2]=(...e)=>(0,r.SU)(d)&&(0,r.SU)(d)(...e)),onKeydown:n[3]||(n[3]=(0,s.D2)(((...e)=>(0,r.SU)(d)&&(0,r.SU)(d)(...e)),["space","enter"]))},[(0,i.Wm)(ry,{name:"header-next-button",disabled:!(0,r.SU)(c)},{default:(0,i.w5)((()=>[(0,i.Wm)(Ny,{name:"ChevronRight",size:"24"})])),_:1},8,["disabled"])],40,My)):(0,i.kq)("",!0)],6))}}),Ry=Symbol("__vc_page_context__");function Uy(e){const{locale:t,getDateAddress:n,canMove:r}=Yv();function o(i,o){const{month:s,year:a}=n(new Date);return tv().map(((n,l)=>{const u=l+1;return{month:u,year:i,id:cm(u,i),label:t.value.formatDate(n,o),ariaLabel:t.value.formatDate(n,"MMMM"),isActive:u===e.value.month&&i===e.value.year,isCurrent:u===s&&i===a,isDisabled:!r({month:u,year:i},{position:e.value.position})}}))}function s(t,i){const{year:o}=n(new Date),{position:s}=e.value,a=[];for(let n=t;n<=i;n+=1){const t=[...Array(12).keys()].some((e=>r({month:e+1,year:n},{position:s})));a.push({year:n,id:n.toString(),label:n.toString(),ariaLabel:n.toString(),isActive:n===e.value.year,isCurrent:n===o,isDisabled:!t})}return a}const a={page:e,getMonthItems:o,getYearItems:s};return(0,i.JJ)(Ry,a),a}function jy(){const e=(0,i.f3)(Ry);if(e)return e;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const By={class:"vc-nav-header"},$y=["disabled"],zy=["disabled"],qy={class:"vc-nav-items"},Hy=["data-id","aria-label","disabled","onClick","onKeydown"],Wy=(0,i.aZ)({__name:"CalendarNav",setup(e){const{masks:t,move:n}=Yv(),{page:s,getMonthItems:a,getYearItems:l}=jy(),u=(0,r.iH)(!0),c=12,d=(0,r.iH)(s.value.year),h=(0,r.iH)(m(s.value.year)),f=(0,r.iH)(null);function p(){setTimeout((()=>{if(null==f.value)return;const e=f.value.querySelector(".vc-nav-item:not(:disabled)");e&&e.focus()}),10)}function m(e){return Math.floor(e/c)}function g(){u.value=!u.value}function v(e){return e*c}function y(e){return c*(e+1)-1}function b(){M.value&&(u.value&&_(),I())}function w(){L.value&&(u.value&&S(),k())}function _(){d.value--}function S(){d.value++}function I(){h.value--}function k(){h.value++}const T=(0,i.Fl)((()=>a(d.value,t.value.navMonths).map((e=>({...e,click:()=>n({month:e.month,year:e.year},{position:s.value.position})}))))),E=(0,i.Fl)((()=>a(d.value-1,t.value.navMonths))),C=(0,i.Fl)((()=>E.value.some((e=>!e.isDisabled)))),D=(0,i.Fl)((()=>a(d.value+1,t.value.navMonths))),A=(0,i.Fl)((()=>D.value.some((e=>!e.isDisabled)))),x=(0,i.Fl)((()=>l(v(h.value),y(h.value)).map((e=>({...e,click:()=>{d.value=e.year,u.value=!0,p()}}))))),O=(0,i.Fl)((()=>l(v(h.value-1),y(h.value-1)))),N=(0,i.Fl)((()=>O.value.some((e=>!e.isDisabled)))),P=(0,i.Fl)((()=>l(v(h.value+1),y(h.value+1)))),F=(0,i.Fl)((()=>P.value.some((e=>!e.isDisabled)))),V=(0,i.Fl)((()=>u.value?T.value:x.value)),M=(0,i.Fl)((()=>u.value?C.value:N.value)),L=(0,i.Fl)((()=>u.value?A.value:F.value)),R=(0,i.Fl)((()=>Df(x.value.map((e=>e.year))))),U=(0,i.Fl)((()=>xf(x.value.map((e=>e.year))))),j=(0,i.Fl)((()=>u.value?d.value:`${R.value} - ${U.value}`));return(0,i.m0)((()=>{d.value=s.value.year,p()})),(0,i.YP)((()=>d.value),(e=>h.value=m(e))),(0,i.bv)((()=>p())),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"vc-nav-container",ref_key:"navContainer",ref:f},[(0,i._)("div",By,[(0,i._)("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!(0,r.SU)(M),onClick:b,onKeydown:t[0]||(t[0]=e=>(0,r.SU)(zf)(e,b))},[(0,i.Wm)(ry,{name:"nav-prev-button",move:b,disabled:!(0,r.SU)(M)},{default:(0,i.w5)((()=>[(0,i.Wm)(Ny,{name:"ChevronLeft",width:"22px",height:"24px"})])),_:1},8,["disabled"])],40,$y),(0,i._)("button",{type:"button",class:"vc-nav-title vc-focus",onClick:g,onKeydown:t[1]||(t[1]=e=>(0,r.SU)(zf)(e,g))},(0,o.zw)((0,r.SU)(j)),33),(0,i._)("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!(0,r.SU)(L),onClick:w,onKeydown:t[2]||(t[2]=e=>(0,r.SU)(zf)(e,w))},[(0,i.Wm)(ry,{name:"nav-next-button",move:w,disabled:!(0,r.SU)(L)},{default:(0,i.w5)((()=>[(0,i.Wm)(Ny,{name:"ChevronRight",width:"22px",height:"24px"})])),_:1},8,["disabled"])],40,zy)]),(0,i._)("div",qy,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(V),(e=>((0,i.wg)(),(0,i.iD)("button",{key:e.label,type:"button","data-id":e.id,"aria-label":e.ariaLabel,class:(0,o.C_)(["vc-nav-item vc-focus",[e.isActive?"is-active":e.isCurrent?"is-current":""]]),disabled:e.isDisabled,onClick:e.click,onKeydown:t=>(0,r.SU)(zf)(t,e.click)},(0,o.zw)(e.label),43,Hy)))),128))])],512))}}),Yy=(0,i.aZ)({__name:"CalendarPageProvider",props:{page:null},setup(e){const t=e;return Uy((0,r.Vh)(t,"page")),(e,t)=>(0,i.WI)(e.$slots,"default")}}),Gy=(0,i.aZ)({__name:"CalendarNavPopover",setup(e){const{navPopoverId:t,color:n,displayMode:s}=Yv();return(e,a)=>((0,i.wg)(),(0,i.j4)(Qv,{id:(0,r.SU)(t),class:(0,o.C_)(["vc-nav-popover-container",`vc-${(0,r.SU)(n)}`,`vc-${(0,r.SU)(s)}`])},{default:(0,i.w5)((({data:e})=>[(0,i.Wm)(Yy,{page:e.page},{default:(0,i.w5)((()=>[(0,i.Wm)(ry,{name:"nav"},{default:(0,i.w5)((()=>[(0,i.Wm)(Wy)])),_:1})])),_:2},1032,["page"])])),_:1},8,["id","class"]))}}),Ky=(0,i.aZ)({directives:{popover:yv},components:{CalendarSlot:ry},props:{day:{type:Object,required:!0}},setup(e){const{locale:t,theme:n,attributeContext:r,dayPopoverId:o,onDayClick:s,onDayMouseenter:a,onDayMouseleave:l,onDayFocusin:u,onDayFocusout:c,onDayKeydown:d}=Yv(),h=(0,i.Fl)((()=>e.day)),f=(0,i.Fl)((()=>r.value.getCells(h.value))),p=(0,i.Fl)((()=>f.value.map((e=>e.data)))),m=(0,i.Fl)((()=>({...h.value,attributes:p.value,attributeCells:f.value})));function g({data:e},{popovers:t}){const{key:n,customData:r,popover:i}=e;if(!i)return;const o=Rd({key:n,customData:r,attribute:e},{...i},{visibility:i.label?"hover":"click",placement:"bottom",isInteractive:!i.label});t.splice(0,0,o)}const v=(0,i.Fl)((()=>{const e={...n.value.prepareRender({}),popovers:[]};return f.value.forEach((t=>{n.value.render(t,e),g(t,e)})),e})),y=(0,i.Fl)((()=>v.value.highlights)),b=(0,i.Fl)((()=>!!Rf(y.value))),w=(0,i.Fl)((()=>v.value.content)),_=(0,i.Fl)((()=>v.value.dots)),S=(0,i.Fl)((()=>!!Rf(_.value))),I=(0,i.Fl)((()=>v.value.bars)),k=(0,i.Fl)((()=>!!Rf(I.value))),T=(0,i.Fl)((()=>v.value.popovers)),E=(0,i.Fl)((()=>T.value.map((e=>e.attribute)))),C=$v("day-content"),D=(0,i.Fl)((()=>["vc-day",...h.value.classes,{"vc-day-box-center-center":!C},{"is-not-in-month":!e.day.inMonth}])),A=(0,i.Fl)((()=>{let e;e=h.value.isFocusable?"0":"-1";const t=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":h.value.isDisabled},tu(xf(y.value),"contentClass"),tu(xf(w.value),"class")||""],n={...tu(xf(y.value),"contentStyle"),...tu(xf(w.value),"style")};return{class:t,style:n,tabindex:e,"aria-label":h.value.ariaLabel,"aria-disabled":!!h.value.isDisabled,role:"button"}})),x=(0,i.Fl)((()=>({click(e){s(m.value,e)},mouseenter(e){a(m.value,e)},mouseleave(e){l(m.value,e)},focusin(e){u(m.value,e)},focusout(e){c(m.value,e)},keydown(e){d(m.value,e)}}))),O=(0,i.Fl)((()=>Rf(T.value)?Rd({id:o.value,data:{day:h,attributes:E.value}},...T.value):null));return{attributes:p,attributeCells:f,bars:I,dayClasses:D,dayContentProps:A,dayContentEvents:x,dayPopover:O,glyphs:v,dots:_,hasDots:S,hasBars:k,highlights:y,hasHighlights:b,locale:t,popovers:T}}}),Zy={key:0,class:"vc-highlights vc-day-layer"},Qy={key:1,class:"vc-day-layer vc-day-box-center-bottom"},Jy={class:"vc-dots"},Xy={key:2,class:"vc-day-layer vc-day-box-center-bottom"},eb={class:"vc-bars"};function tb(e,t,n,r,s,a){const l=(0,i.up)("CalendarSlot"),u=(0,i.Q2)("popover");return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(e.dayClasses)},[e.hasHighlights?((0,i.wg)(),(0,i.iD)("div",Zy,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.highlights,(({key:e,wrapperClass:t,class:n,style:r})=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:(0,o.C_)(t)},[(0,i._)("div",{class:(0,o.C_)(n),style:(0,o.j5)(r)},null,6)],2)))),128))])):(0,i.kq)("",!0),(0,i.Wm)(l,{name:"day-content",day:e.day,attributes:e.attributes,"attribute-cells":e.attributeCells,dayProps:e.dayContentProps,dayEvents:e.dayContentEvents,locale:e.locale},{default:(0,i.w5)((()=>[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",(0,i.dG)(e.dayContentProps,(0,i.mx)(e.dayContentEvents,!0)),[(0,i.Uk)((0,o.zw)(e.day.label),1)],16)),[[u,e.dayPopover]])])),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),e.hasDots?((0,i.wg)(),(0,i.iD)("div",Qy,[(0,i._)("div",Jy,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.dots,(({key:e,class:t,style:n})=>((0,i.wg)(),(0,i.iD)("span",{key:e,class:(0,o.C_)(t),style:(0,o.j5)(n)},null,6)))),128))])])):(0,i.kq)("",!0),e.hasBars?((0,i.wg)(),(0,i.iD)("div",Xy,[(0,i._)("div",eb,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.bars,(({key:e,class:t,style:n})=>((0,i.wg)(),(0,i.iD)("span",{key:e,class:(0,o.C_)(t),style:(0,o.j5)(n)},null,6)))),128))])])):(0,i.kq)("",!0)],2)}const nb=Kv(Ky,[["render",tb]]),rb={class:"vc-weekdays"},ib=["onClick"],ob={inheritAttrs:!1},sb=(0,i.aZ)({...ob,__name:"CalendarPage",setup(e){const{page:t}=jy(),{onWeeknumberClick:n}=Yv();return(e,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["vc-pane",`row-${(0,r.SU)(t).row}`,`row-from-end-${(0,r.SU)(t).rowFromEnd}`,`column-${(0,r.SU)(t).column}`,`column-from-end-${(0,r.SU)(t).columnFromEnd}`]),ref:"pane"},[(0,i.Wm)(Ly,{page:(0,r.SU)(t),"is-lg":"","hide-arrows":""},null,8,["page"]),(0,i._)("div",{class:(0,o.C_)(["vc-weeks",{[`vc-show-weeknumbers-${(0,r.SU)(t).weeknumberPosition}`]:(0,r.SU)(t).weeknumberPosition}])},[(0,i._)("div",rb,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(t).weekdays,(({weekday:e,label:t},n)=>((0,i.wg)(),(0,i.iD)("div",{key:n,class:(0,o.C_)(`vc-weekday vc-weekday-${e}`)},(0,o.zw)(t),3)))),128))]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(t).viewWeeks,(e=>((0,i.wg)(),(0,i.iD)("div",{key:`weeknumber-${e.weeknumber}`,class:"vc-week"},[(0,r.SU)(t).weeknumberPosition?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(["vc-weeknumber",`is-${(0,r.SU)(t).weeknumberPosition}`])},[(0,i._)("span",{class:(0,o.C_)(["vc-weeknumber-content"]),onClick:t=>(0,r.SU)(n)(e,t)},(0,o.zw)(e.weeknumberDisplay),9,ib)],2)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.days,(e=>((0,i.wg)(),(0,i.j4)(nb,{key:e.id,day:e},null,8,["day"])))),128))])))),128))],2)],2))}}),ab=(0,i.aZ)({components:{CalendarHeader:Ly,CalendarPage:sb,CalendarNavPopover:Gy,CalendarDayPopover:sy,CalendarPageProvider:Yy,CalendarSlot:ry},props:zv,emit:qv,setup(e,{emit:t,slots:n}){return Wv(e,{emit:t,slots:n})}}),lb={class:"vc-pane-header-wrapper"};function ub(e,t,n,r,a,l){const u=(0,i.up)("CalendarHeader"),c=(0,i.up)("CalendarPage"),d=(0,i.up)("CalendarSlot"),h=(0,i.up)("CalendarPageProvider"),f=(0,i.up)("CalendarDayPopover"),p=(0,i.up)("CalendarNavPopover");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",(0,i.dG)({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},e.$attrs,{class:["vc-container",`vc-${e.view}`,`vc-${e.color}`,`vc-${e.displayMode}`,{"vc-expanded":e.expanded,"vc-bordered":!e.borderless,"vc-transparent":e.transparent}],onMouseup:t[0]||(t[0]=(0,s.iM)((()=>{}),["prevent"])),ref:"containerRef"}),[(0,i._)("div",{class:(0,o.C_)(["vc-pane-container",{"in-transition":e.inTransition}])},[(0,i._)("div",lb,[e.firstPage?((0,i.wg)(),(0,i.j4)(u,{key:0,page:e.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):(0,i.kq)("",!0)]),(0,i.Wm)(s.uT,{name:`vc-${e.transitionName}`,onBeforeEnter:e.onTransitionBeforeEnter,onAfterEnter:e.onTransitionAfterEnter},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.iD)("div",{key:e.pages[0].id,class:"vc-pane-layout",style:(0,o.j5)({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.pages,(e=>((0,i.wg)(),(0,i.j4)(h,{key:e.id,page:e},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{name:"page",page:e},{default:(0,i.w5)((()=>[(0,i.Wm)(c)])),_:2},1032,["page"])])),_:2},1032,["page"])))),128))],4))])),_:1},8,["name","onBeforeEnter","onAfterEnter"]),(0,i.Wm)(d,{name:"footer"})],2)],16),(0,i.Wm)(f),(0,i.Wm)(p)],64)}const cb=Kv(ab,[["render",ub]]),db=Symbol("__vc_date_picker_context__"),hb={...Lv,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>Gm("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>Gm("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},fb=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function pb(e,{emit:t,slots:n}){Bv(n,{footer:"dp-footer"});const o=Rv(e),{locale:s,masks:a,disabledAttribute:l}=o,u=(0,r.iH)(!1),c=(0,r.iH)(Symbol()),d=(0,r.iH)(null),h=(0,r.iH)(null),f=(0,r.iH)(["",""]),p=(0,r.iH)(null),m=(0,r.iH)(null);let g,v,y=!0;const b=(0,i.Fl)((()=>e.isRange||!0===e.modelModifiers.range)),w=(0,i.Fl)((()=>b.value&&null!=d.value?d.value.start:null)),_=(0,i.Fl)((()=>b.value&&null!=d.value?d.value.end:null)),S=(0,i.Fl)((()=>"date"===e.mode.toLowerCase())),I=(0,i.Fl)((()=>"datetime"===e.mode.toLowerCase())),k=(0,i.Fl)((()=>"time"===e.mode.toLowerCase())),T=(0,i.Fl)((()=>!!h.value)),E=(0,i.Fl)((()=>{let t="date";e.modelModifiers.number&&(t="number"),e.modelModifiers.string&&(t="string");const n=a.value.modelValue||"iso";return B({type:t,mask:n})})),C=(0,i.Fl)((()=>re(h.value??d.value))),D=(0,i.Fl)((()=>k.value?e.is24hr?a.value.inputTime24hr:a.value.inputTime:I.value?e.is24hr?a.value.inputDateTime24hr:a.value.inputDateTime:a.value.input)),A=(0,i.Fl)((()=>/[Hh]/g.test(D.value))),x=(0,i.Fl)((()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(D.value))),O=(0,i.Fl)((()=>A.value&&x.value?"dateTime":x.value?"date":A.value?"time":void 0)),N=(0,i.Fl)((()=>{var t;const n=(null==(t=p.value)?void 0:t.$el.previousElementSibling)??void 0;return Ef({},e.popover,Gm("datePicker.popover"),{target:n})})),P=(0,i.Fl)((()=>mv({...N.value,id:c.value}))),F=(0,i.Fl)((()=>b.value?{start:f.value[0],end:f.value[1]}:f.value[0])),V=(0,i.Fl)((()=>{const t=["start","end"].map((t=>({input:ee(t),change:te(t),keyup:ne,...e.popover&&P.value})));return b.value?{start:t[0],end:t[1]}:t[0]})),M=(0,i.Fl)((()=>{if(!H(d.value))return null;const t={key:"select-drag",...e.selectAttribute,dates:d.value,pinPage:!0},{dot:n,bar:r,highlight:i,content:o}=t;return n||r||i||o||(t.highlight=!0),t})),L=(0,i.Fl)((()=>{if(!b.value||!H(h.value))return null;const t={key:"select-drag",...e.dragAttribute,dates:h.value},{dot:n,bar:r,highlight:i,content:o}=t;return n||r||i||o||(t.highlight={startEnd:{fillMode:"outline"}}),t})),R=(0,i.Fl)((()=>{const t=Lf(e.attributes)?[...e.attributes]:[];return L.value?t.unshift(L.value):M.value&&t.unshift(M.value),t})),U=(0,i.Fl)((()=>B("auto"===e.rules?j():e.rules??{})));function j(){const t={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},n=S.value?0:e.timeAccuracy;return[0,1].map((e=>{switch(n){case 0:return{hours:t.hr[e],minutes:t.min[e],seconds:t.sec[e],milliseconds:t.ms[e]};case 1:return{minutes:t.min[e],seconds:t.sec[e],milliseconds:t.ms[e]};case 3:return{milliseconds:t.ms[e]};case 4:return{};default:return{seconds:t.sec[e],milliseconds:t.ms[e]}}}))}function B(e){return Lf(e)?1===e.length?[e[0],e[0]]:e:[e,e]}function $(e){return B(e).map(((e,t)=>({...e,rules:U.value[t]})))}function z(e){return null!=e&&(Ec(e)?!isNaN(e):Nf(e)?!isNaN(e.getTime()):ci(e)?""!==e:jg(e))}function q(e){return Pf(e)&&"start"in e&&"end"in e&&z(e.start??null)&&z(e.end??null)}function H(e){return q(e)||z(e)}function W(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;const n=Nf(e),r=Nf(t);return n&&r?e.getTime()===t.getTime():!n&&!r&&(W(e.start,t.start)&&W(e.end,t.end))}function Y(e){return!(!H(e)||!l.value)&&l.value.intersectsRange(s.value.range(e))}function G(e,t,n,r){if(!H(e))return null;if(q(e)){const i=s.value.toDate(e.start,{...t[0],fillDate:w.value??void 0,patch:n}),o=s.value.toDate(e.end,{...t[1],fillDate:_.value??void 0,patch:n});return ge({start:i,end:o},r)}return s.value.toDateOrNull(e,{...t[0],fillDate:d.value,patch:n})}function K(e,t){return q(e)?{start:s.value.fromDate(e.start,t[0]),end:s.value.fromDate(e.end,t[1])}:b.value?null:s.value.fromDate(e,t[0])}function Z(e,t={}){return clearTimeout(g),new Promise((n=>{const{debounce:r=0,...i}=t;r>0?g=window.setTimeout((()=>{n(Q(e,i))}),r):n(Q(e,i))}))}function Q(n,{config:r=E.value,patch:o="dateTime",clearIfEqual:s=!1,formatInput:a=!0,hidePopover:l=!1,dragging:u=T.value,targetPriority:c,moveToValue:f=!1}={}){const p=$(r);let m=G(n,p,o,c);const g=Y(m);if(g){if(u)return null;m=d.value,l=!1}else null==m&&e.isRequired?m=d.value:null!=m&&W(d.value,m)&&s&&(m=null);const v=u?h:d,b=!W(v.value,m);v.value=m,u||(h.value=null);const w=K(m,E.value);return b&&(y=!1,t(u?"drag":"update:modelValue",w),(0,i.Y3)((()=>y=!0))),l&&!u&&pe(),a&&J(),f&&(0,i.Y3)((()=>be(c??"start"))),w}function J(){(0,i.Y3)((()=>{const e=$({type:"string",mask:D.value}),t=K(h.value??d.value,e);b.value?f.value=[t&&t.start,t&&t.end]:f.value=[t,""]}))}function X(e,t,n){f.value.splice("start"===t?0:1,1,e);const r=b.value?{start:f.value[0],end:f.value[1]||f.value[0]}:e,i={type:"string",mask:D.value};Z(r,{...n,config:i,patch:O.value,targetPriority:t,moveToValue:!0})}function ee(t){return n=>{e.updateOnInput&&X(n.currentTarget.value,t,{formatInput:!1,hidePopover:!1,debounce:e.inputDebounce})}}function te(e){return t=>{X(t.currentTarget.value,e,{formatInput:!0,hidePopover:!1})}}function ne(e){"Escape"===e.key&&Z(d.value,{formatInput:!0,hidePopover:!0})}function re(e){return b.value?[e&&e.start?s.value.getDateParts(e.start):null,e&&e.end?s.value.getDateParts(e.end):null]:[e?s.value.getDateParts(e):null]}function ie(){h.value=null,J()}function oe(e){t("popover-will-show",e)}function se(e){t("popover-did-show",e)}function ae(e){ie(),t("popover-will-hide",e)}function le(e){t("popover-did-hide",e)}function ue(t){const n={patch:"date",formatInput:!0,hidePopover:!0};if(b.value){const e=!T.value;e?v={start:t.startDate,end:t.endDate}:null!=v&&(v.end=t.date),Z(v,{...n,dragging:e})}else Z(t.date,{...n,clearIfEqual:!e.isRequired})}function ce(e,n){ue(e),t("dayclick",e,n)}function de(e,n){switch(n.key){case" ":case"Enter":ue(e),n.preventDefault();break;case"Escape":pe()}t("daykeydown",e,n)}function he(e,t){T.value&&null!=v&&(v.end=e.date,Z(ge(v),{patch:"date",formatInput:!0}))}function fe(e={}){hv({...N.value,...e,isInteractive:!0,id:c.value})}function pe(e={}){fv({hideDelay:10,force:!0,...N.value,...e,id:c.value})}function me(e){pv({...N.value,...e,isInteractive:!0,id:c.value})}function ge(e,t){const{start:n,end:r}=e;if(n>r)switch(t){case"start":return{start:n,end:n};case"end":return{start:r,end:r};default:return{start:r,end:n}}return{start:n,end:r}}async function ve(e,t={}){return null!=m.value&&m.value.move(e,t)}async function ye(e,t={}){return null!=m.value&&m.value.moveBy(e,t)}async function be(e,t={}){const n=d.value;if(null==m.value||!H(n))return!1;const r="end"!==e,i=r?1:-1,o=q(n)?r?n.start:n.end:n,a=dm(o,"monthly",s.value);return m.value.move(a,{position:i,...t})}(0,i.YP)((()=>e.isRange),(e=>{e&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")}),{immediate:!0}),(0,i.YP)((()=>b.value),(()=>{Q(null,{formatInput:!0})})),(0,i.YP)((()=>D.value),(()=>J())),(0,i.YP)((()=>e.modelValue),(e=>{y&&Q(e,{formatInput:!0,hidePopover:!1})})),(0,i.YP)((()=>U.value),(()=>{Pf(e.rules)&&Q(e.modelValue,{formatInput:!0,hidePopover:!1})})),(0,i.YP)((()=>e.timezone),(()=>{Q(d.value,{formatInput:!0})}));const we=B(E.value);d.value=G(e.modelValue??null,we,"dateTime"),(0,i.bv)((()=>{Q(e.modelValue,{formatInput:!0,hidePopover:!1})})),(0,i.Y3)((()=>u.value=!0));const _e={...o,showCalendar:u,datePickerPopoverId:c,popoverRef:p,popoverEvents:P,calendarRef:m,isRange:b,isTimeMode:k,isDateTimeMode:I,is24hr:(0,r.Vh)(e,"is24hr"),hideTimeHeader:(0,r.Vh)(e,"hideTimeHeader"),timeAccuracy:(0,r.Vh)(e,"timeAccuracy"),isDragging:T,inputValue:F,inputEvents:V,dateParts:C,attributes:R,rules:U,move:ve,moveBy:ye,moveToValue:be,updateValue:Z,showPopover:fe,hidePopover:pe,togglePopover:me,onDayClick:ce,onDayKeydown:de,onDayMouseEnter:he,onPopoverBeforeShow:oe,onPopoverAfterShow:se,onPopoverBeforeHide:ae,onPopoverAfterHide:le};return(0,i.JJ)(db,_e),_e}function mb(){const e=(0,i.f3)(db);if(e)return e;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const gb=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],vb=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function yb(e){const t=mb(),{locale:n,isRange:r,isTimeMode:o,dateParts:s,rules:a,is24hr:l,hideTimeHeader:u,timeAccuracy:c,updateValue:d}=t;function h(e){e=Object.assign(p.value,e);let t=null;if(r.value){const n=f.value?e:s.value[0],r=f.value?s.value[1]:e;t={start:n,end:r}}else t=e;d(t,{patch:"time",targetPriority:f.value?"start":"end",moveToValue:!0})}const f=(0,i.Fl)((()=>0===e.position)),p=(0,i.Fl)((()=>s.value[e.position]||{isValid:!1})),m=(0,i.Fl)((()=>jg(p.value))),g=(0,i.Fl)((()=>!!p.value.isValid)),v=(0,i.Fl)((()=>!u.value&&g.value)),y=(0,i.Fl)((()=>{if(!m.value)return null;let e=n.value.toDate(p.value);return 24===p.value.hours&&(e=new Date(e.getTime()-1)),e})),b=(0,i.Fl)({get(){return p.value.hours},set(e){h({hours:e})}}),w=(0,i.Fl)({get(){return p.value.minutes},set(e){h({minutes:e})}}),_=(0,i.Fl)({get(){return p.value.seconds},set(e){h({seconds:e})}}),S=(0,i.Fl)({get(){return p.value.milliseconds},set(e){h({milliseconds:e})}}),I=(0,i.Fl)({get(){return p.value.hours<12},set(e){e="true"==String(e).toLowerCase();let t=b.value;e&&t>=12?t-=12:!e&&t<12&&(t+=12),h({hours:t})}}),k=(0,i.Fl)((()=>ov(p.value,a.value[e.position]))),T=(0,i.Fl)((()=>gb.filter((e=>k.value.hours.some((t=>t.value===e.value)))))),E=(0,i.Fl)((()=>vb.filter((e=>k.value.hours.some((t=>t.value===e.value)))))),C=(0,i.Fl)((()=>l.value?k.value.hours:I.value?T.value:E.value)),D=(0,i.Fl)((()=>{const e=[];return Rf(T.value)&&e.push({value:!0,label:"AM"}),Rf(E.value)&&e.push({value:!1,label:"PM"}),e}));return{...t,showHeader:v,timeAccuracy:c,parts:p,isValid:g,date:y,hours:b,minutes:w,seconds:_,milliseconds:S,options:k,hourOptions:C,isAM:I,isAMOptions:D,is24hr:l}}const bb=["value"],wb=["value","disabled"],_b={key:1,class:"vc-base-sizer","aria-hidden":"true"},Sb={inheritAttrs:!1},Ib=(0,i.aZ)({...Sb,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(e){const t=e,n=(0,i.Fl)((()=>{const e=t.options.find((e=>e.value===t.modelValue));return null==e?void 0:e.label}));return(t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["vc-base-select",{"vc-fit-content":e.fitContent,"vc-has-icon":e.showIcon}])},[(0,i._)("select",(0,i.dG)(t.$attrs,{value:e.modelValue,class:["vc-focus",{"vc-align-right":e.alignRight,"vc-align-left":e.alignLeft}],onChange:s[0]||(s[0]=e=>t.$emit("update:modelValue",e.target.value))}),[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.value,value:e.value,disabled:e.disabled},(0,o.zw)(e.label),9,wb)))),128))],16,bb),e.showIcon?((0,i.wg)(),(0,i.j4)(Ny,{key:0,name:"ChevronDown",size:"18"})):(0,i.kq)("",!0),e.fitContent?((0,i.wg)(),(0,i.iD)("div",_b,(0,o.zw)((0,r.SU)(n)),1)):(0,i.kq)("",!0)],2))}}),kb={key:0,class:"vc-time-header"},Tb={class:"vc-time-weekday"},Eb={class:"vc-time-month"},Cb={class:"vc-time-day"},Db={class:"vc-time-year"},Ab={class:"vc-time-select-group"},xb=(0,i._)("span",{class:"vc-time-colon"},":",-1),Ob=(0,i._)("span",{class:"vc-time-colon"},":",-1),Nb=(0,i._)("span",{class:"vc-time-decimal"},".",-1),Pb=(0,i.aZ)({__name:"TimePicker",props:{position:null},setup(e,{expose:t}){const n=e,s=yb(n);t(s);const{locale:a,isValid:l,date:u,hours:c,minutes:d,seconds:h,milliseconds:f,options:p,hourOptions:m,isTimeMode:g,isAM:v,isAMOptions:y,is24hr:b,showHeader:w,timeAccuracy:_}=s;return(e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["vc-time-picker",[{"vc-invalid":!(0,r.SU)(l),"vc-attached":!(0,r.SU)(g)}]])},[(0,i.Wm)(ry,{name:"time-header"},{default:(0,i.w5)((()=>[(0,r.SU)(w)&&(0,r.SU)(u)?((0,i.wg)(),(0,i.iD)("div",kb,[(0,i._)("span",Tb,(0,o.zw)((0,r.SU)(a).formatDate((0,r.SU)(u),"WWW")),1),(0,i._)("span",Eb,(0,o.zw)((0,r.SU)(a).formatDate((0,r.SU)(u),"MMM")),1),(0,i._)("span",Cb,(0,o.zw)((0,r.SU)(a).formatDate((0,r.SU)(u),"D")),1),(0,i._)("span",Db,(0,o.zw)((0,r.SU)(a).formatDate((0,r.SU)(u),"YYYY")),1)])):(0,i.kq)("",!0)])),_:1}),(0,i._)("div",Ab,[(0,i.Wm)(Ny,{name:"Clock",size:"17"}),(0,i.Wm)(Ib,{modelValue:(0,r.SU)(c),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.dq)(c)?c.value=e:null),modelModifiers:{number:!0},options:(0,r.SU)(m),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),(0,r.SU)(_)>1?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[xb,(0,i.Wm)(Ib,{modelValue:(0,r.SU)(d),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.dq)(d)?d.value=e:null),modelModifiers:{number:!0},options:(0,r.SU)(p).minutes,class:"vc-time-select-minutes","align-left":2===(0,r.SU)(_)},null,8,["modelValue","options","align-left"])],64)):(0,i.kq)("",!0),(0,r.SU)(_)>2?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[Ob,(0,i.Wm)(Ib,{modelValue:(0,r.SU)(h),"onUpdate:modelValue":t[2]||(t[2]=e=>(0,r.dq)(h)?h.value=e:null),modelModifiers:{number:!0},options:(0,r.SU)(p).seconds,class:"vc-time-select-seconds","align-left":3===(0,r.SU)(_)},null,8,["modelValue","options","align-left"])],64)):(0,i.kq)("",!0),(0,r.SU)(_)>3?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[Nb,(0,i.Wm)(Ib,{modelValue:(0,r.SU)(f),"onUpdate:modelValue":t[3]||(t[3]=e=>(0,r.dq)(f)?f.value=e:null),modelModifiers:{number:!0},options:(0,r.SU)(p).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):(0,i.kq)("",!0),(0,r.SU)(b)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(Ib,{key:3,modelValue:(0,r.SU)(v),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,r.dq)(v)?v.value=e:null),options:(0,r.SU)(y)},null,8,["modelValue","options"]))])],2))}}),Fb=(0,i.aZ)({__name:"DatePickerBase",setup(e){const{attributes:t,calendarRef:n,color:s,displayMode:a,isDateTimeMode:l,isTimeMode:u,isRange:c,onDayClick:d,onDayMouseEnter:h,onDayKeydown:f}=mb(),p=c.value?[0,1]:[0];return(e,c)=>(0,r.SU)(u)?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(`vc-container vc-bordered vc-${(0,r.SU)(s)} vc-${(0,r.SU)(a)}`)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(p),(e=>((0,i.wg)(),(0,i.j4)(Pb,{key:e,position:e},null,8,["position"])))),128))],2)):((0,i.wg)(),(0,i.j4)(cb,{key:1,attributes:(0,r.SU)(t),ref_key:"calendarRef",ref:n,onDayclick:(0,r.SU)(d),onDaymouseenter:(0,r.SU)(h),onDaykeydown:(0,r.SU)(f)},{footer:(0,i.w5)((()=>[(0,r.SU)(l)?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)((0,r.SU)(p),(e=>((0,i.wg)(),(0,i.j4)(Pb,{key:e,position:e},null,8,["position"])))),128)):(0,i.kq)("",!0),(0,i.Wm)(ry,{name:"dp-footer"})])),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),Vb={inheritAttrs:!1},Mb=(0,i.aZ)({...Vb,__name:"DatePickerPopover",setup(e){const{datePickerPopoverId:t,color:n,displayMode:s,popoverRef:a,onPopoverBeforeShow:l,onPopoverAfterShow:u,onPopoverBeforeHide:c,onPopoverAfterHide:d}=mb();return(e,h)=>((0,i.wg)(),(0,i.j4)(Qv,{id:(0,r.SU)(t),placement:"bottom-start",class:(0,o.C_)(`vc-date-picker-content vc-${(0,r.SU)(n)} vc-${(0,r.SU)(s)}`),ref_key:"popoverRef",ref:a,onBeforeShow:(0,r.SU)(l),onAfterShow:(0,r.SU)(u),onBeforeHide:(0,r.SU)(c),onAfterHide:(0,r.SU)(d)},{default:(0,i.w5)((()=>[(0,i.Wm)(Fb,(0,o.vs)((0,i.F4)(e.$attrs)),null,16)])),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),Lb=(0,i.aZ)({inheritAttrs:!1,emits:fb,props:hb,components:{DatePickerBase:Fb,DatePickerPopover:Mb},setup(e,t){const n=pb(e,t),i=(0,r.qj)(qf(n,"calendarRef","popoverRef"));return{...n,slotCtx:i}}});function Rb(e,t,n,r,s,a){const l=(0,i.up)("DatePickerPopover"),u=(0,i.up)("DatePickerBase");return e.$slots.default?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.WI)(e.$slots,"default",(0,o.vs)((0,i.F4)(e.slotCtx))),(0,i.Wm)(l,(0,o.vs)((0,i.F4)(e.$attrs)),null,16)],64)):((0,i.wg)(),(0,i.j4)(u,(0,o.vs)((0,i.dG)({key:1},e.$attrs)),null,16))}const Ub=Kv(Lb,[["render",Rb]]),jb=Object.freeze(Object.defineProperty({__proto__:null,Calendar:cb,DatePicker:Ub,Popover:Qv,PopoverRow:ty},Symbol.toStringTag,{value:"Module"})),Bb=(e,t={})=>{e.use(Km,t);const n=e.config.globalProperties.$VCalendar.componentPrefix;for(const r in jb){const t=jb[r];e.component(`${n}${r}`,t)}},$b={install:Bb}},2201:function(e,t,n){n.d(t,{PO:function(){return U},p7:function(){return tt}});var r=n(6252),i=n(2262);
/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
const o="undefined"!==typeof window;function s(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const a=Object.assign;function l(e,t){const n={};for(const r in t){const i=t[r];n[r]=c(i)?i.map(e):e(i)}return n}const u=()=>{},c=Array.isArray;const d=/\/$/,h=e=>e.replace(d,"");function f(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=_(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function p(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function m(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function g(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&v(t.matched[r],n.matched[i])&&y(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function v(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!b(e[n],t[n]))return!1;return!0}function b(e,t){return c(e)?w(e,t):c(t)?w(t,e):e===t}function w(e,t){return c(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function _(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");let o,s,a=n.length-1;for(o=0;o<r.length;o++)if(s=r[o],"."!==s){if(".."!==s)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var S,I;(function(e){e["pop"]="pop",e["push"]="push"})(S||(S={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(I||(I={}));function k(e){if(!e)if(o){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),h(e)}const T=/^[^#]+#/;function E(e,t){return e.replace(T,"#")+t}function C(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const D=()=>({left:window.pageXOffset,top:window.pageYOffset});function A(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=C(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function x(e,t){const n=history.state?history.state.position-t:-1;return n+e}const O=new Map;function N(e,t){O.set(e,t)}function P(e){const t=O.get(e);return O.delete(e),t}let F=()=>location.protocol+"//"+location.host;function V(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),m(n,"")}const s=m(n,e);return s+r+i}function M(e,t,n,r){let i=[],o=[],s=null;const l=({state:o})=>{const a=V(e,location),l=n.value,u=t.value;let c=0;if(o){if(n.value=a,t.value=o,s&&s===l)return void(s=null);c=u?o.position-u.position:0}else r(a);i.forEach((e=>{e(n.value,l,{delta:c,type:S.pop,direction:c?c>0?I.forward:I.back:I.unknown})}))};function u(){s=n.value}function c(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(a({},e.state,{scroll:D()}),"")}function h(){for(const e of o)e();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:h}}function L(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?D():null}}function R(e){const{history:t,location:n}=window,r={value:V(e,n)},i={value:t.state};function o(r,o,s){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:F()+e+r;try{t[s?"replaceState":"pushState"](o,"",l),i.value=o}catch(u){console.error(u),n[s?"replace":"assign"](l)}}function s(e,n){const s=a({},t.state,L(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});o(e,s,!0),r.value=e}function l(e,n){const s=a({},i.value,t.state,{forward:e,scroll:D()});o(s.current,s,!0);const l=a({},L(r.value,e,null),{position:s.position+1},n);o(e,l,!1),r.value=e}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:l,replace:s}}function U(e){e=k(e);const t=R(e),n=M(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=a({location:"",base:e,go:r,createHref:E.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function j(e){return"string"===typeof e||e&&"object"===typeof e}function B(e){return"string"===typeof e||"symbol"===typeof e}const $={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},z=Symbol("");var q;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(q||(q={}));function H(e,t){return a(new Error,{type:e,[z]:!0},t)}function W(e,t){return e instanceof Error&&z in e&&(null==t||!!(e.type&t))}const Y="[^/]+?",G={sensitive:!1,strict:!1,start:!0,end:!0},K=/[.+*?^${}()[\]/\\]/g;function Z(e,t){const n=a({},G,t),r=[];let i=n.start?"^":"";const o=[];for(const a of e){const e=a.length?[]:[90];n.strict&&!a.length&&(i+="/");for(let t=0;t<a.length;t++){const r=a[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(K,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:u}=r;o.push({name:e,repeatable:n,optional:l});const c=u||Y;if(c!==Y){s+=10;try{new RegExp(`(${c})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${c}): `+d.message)}}let h=n?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;t||(h=l&&a.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),i+=h,s+=20,l&&(s+=-8),n&&(s+=-20),".*"===c&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function l(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function u(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,l=o in t?t[o]:"";if(c(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=c(l)?l.join("/"):l;if(!u){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n||"/"}return{re:s,score:r,keys:o,parse:l,stringify:u}}function Q(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function J(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=Q(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(X(r))return 1;if(X(i))return-1}return i.length-r.length}function X(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ee={type:0,value:""},te=/[a-zA-Z0-9_]/;function ne(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,l=0,u="",c="";function d(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),u="")}function h(){u+=a}while(l<e.length)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&d(),s()):":"===a?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===a?n=2:te.test(a)?h():(d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),d(),s(),i}function re(e,t,n){const r=Z(ne(e.path),n);const i=a(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ie(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function o(e,n,r){const i=!r,l=se(e);l.aliasOf=r&&r.record;const d=ce(t,e),h=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)h.push(a({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let f,p;for(const t of h){const{path:a}=t;if(n&&"/"!==a[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(a&&r+a)}if(f=re(t,n,d),r?r.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),i&&e.name&&!le(f)&&s(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)o(e[t],f,r&&r.children[t])}r=r||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&c(f)}return p?()=>{s(p)}:u}function s(e){if(B(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function l(){return n}function c(e){let t=0;while(t<n.length&&J(e,n[t])>=0&&(e.record.path!==n[t].record.path||!de(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!le(e)&&r.set(e.record.name,e)}function d(e,t){let i,o,s,l={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw H(1,{location:e});0,s=i.record.name,l=a(oe(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&oe(e.params,i.keys.map((e=>e.name)))),o=i.stringify(l)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(l=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw H(1,{location:e,currentLocation:t});s=i.record.name,l=a({},t.params,e.params),o=i.stringify(l)}const u=[];let c=i;while(c)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:l,matched:u,meta:ue(u)}}return t=ce({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:d,removeRoute:s,getRoutes:l,getRecordMatcher:i}}function oe(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function se(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ae(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ae(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"===typeof n?n[r]:n;return t}function le(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ue(e){return e.reduce(((e,t)=>a(e,t.meta)),{})}function ce(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function de(e,t){return t.children.some((t=>t===e||de(e,t)))}const he=/#/g,fe=/&/g,pe=/\//g,me=/=/g,ge=/\?/g,ve=/\+/g,ye=/%5B/g,be=/%5D/g,we=/%5E/g,_e=/%60/g,Se=/%7B/g,Ie=/%7C/g,ke=/%7D/g,Te=/%20/g;function Ee(e){return encodeURI(""+e).replace(Ie,"|").replace(ye,"[").replace(be,"]")}function Ce(e){return Ee(e).replace(Se,"{").replace(ke,"}").replace(we,"^")}function De(e){return Ee(e).replace(ve,"%2B").replace(Te,"+").replace(he,"%23").replace(fe,"%26").replace(_e,"`").replace(Se,"{").replace(ke,"}").replace(we,"^")}function Ae(e){return De(e).replace(me,"%3D")}function xe(e){return Ee(e).replace(he,"%23").replace(ge,"%3F")}function Oe(e){return null==e?"":xe(e).replace(pe,"%2F")}function Ne(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Pe(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(ve," "),n=e.indexOf("="),o=Ne(n<0?e:e.slice(0,n)),s=n<0?null:Ne(e.slice(n+1));if(o in t){let e=t[o];c(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function Fe(e){let t="";for(let n in e){const r=e[n];if(n=Ae(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=c(r)?r.map((e=>e&&De(e))):[r&&De(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Ve(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=c(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Me=Symbol(""),Le=Symbol(""),Re=Symbol(""),Ue=Symbol(""),je=Symbol("");function Be(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function $e(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const l=e=>{!1===e?a(H(4,{from:n,to:t})):e instanceof Error?a(e):j(e)?a(H(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),s())},u=e.call(r&&r.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch((e=>a(e)))}))}function ze(e,t,n,r){const i=[];for(const o of e){0;for(const e in o.components){let a=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(qe(a)){const s=a.__vccOpts||a,l=s[t];l&&i.push($e(l,n,r,o,e))}else{let l=a();0,i.push((()=>l.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const a=s(i)?i.default:i;o.components[e]=a;const l=a.__vccOpts||a,u=l[t];return u&&$e(u,n,r,o,e)()}))))}}}return i}function qe(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function He(e){const t=(0,r.f3)(Re),n=(0,r.f3)(Ue),o=(0,r.Fl)((()=>t.resolve((0,i.SU)(e.to)))),s=(0,r.Fl)((()=>{const{matched:e}=o.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const s=i.findIndex(v.bind(null,r));if(s>-1)return s;const a=Ze(e[t-2]);return t>1&&Ze(r)===a&&i[i.length-1].path!==a?i.findIndex(v.bind(null,e[t-2])):s})),a=(0,r.Fl)((()=>s.value>-1&&Ke(n.params,o.value.params))),l=(0,r.Fl)((()=>s.value>-1&&s.value===n.matched.length-1&&y(n.params,o.value.params)));function c(n={}){return Ge(n)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(u):Promise.resolve()}return{route:o,href:(0,r.Fl)((()=>o.value.href)),isActive:a,isExactActive:l,navigate:c}}const We=(0,r.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:He,setup(e,{slots:t}){const n=(0,i.qj)(He(e)),{options:o}=(0,r.f3)(Re),s=(0,r.Fl)((()=>({[Qe(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Qe(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ye=We;function Ge(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ke(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!c(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function Ze(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qe=(e,t,n)=>null!=e?e:null!=t?t:n,Je=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=(0,r.f3)(je),s=(0,r.Fl)((()=>e.route||o.value)),l=(0,r.f3)(Le,0),u=(0,r.Fl)((()=>{let e=(0,i.SU)(l);const{matched:t}=s.value;let n;while((n=t[e])&&!n.components)e++;return e})),c=(0,r.Fl)((()=>s.value.matched[u.value]));(0,r.JJ)(Le,(0,r.Fl)((()=>u.value+1))),(0,r.JJ)(Me,c),(0,r.JJ)(je,s);const d=(0,i.iH)();return(0,r.YP)((()=>[d.value,c.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&v(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=s.value,o=e.name,l=c.value,u=l&&l.components[o];if(!u)return Xe(n.default,{Component:u,route:i});const h=l.props[o],f=h?!0===h?i.params:"function"===typeof h?h(i):h:null,p=e=>{e.component.isUnmounted&&(l.instances[o]=null)},m=(0,r.h)(u,a({},f,t,{onVnodeUnmounted:p,ref:d}));return Xe(n.default,{Component:m,route:i})||m}}});function Xe(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Je;function tt(e){const t=ie(e.routes,e),n=e.parseQuery||Pe,s=e.stringifyQuery||Fe,d=e.history;const h=Be(),m=Be(),v=Be(),y=(0,i.XI)($);let b=$;o&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=l.bind(null,(e=>""+e)),_=l.bind(null,Oe),I=l.bind(null,Ne);function k(e,n){let r,i;return B(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function T(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function E(){return t.getRoutes().map((e=>e.record))}function C(e){return!!t.getRecordMatcher(e)}function O(e,r){if(r=a({},r||y.value),"string"===typeof e){const i=f(n,e,r.path),o=t.resolve({path:i.path},r),s=d.createHref(i.fullPath);return a(i,o,{params:I(o.params),hash:Ne(i.hash),redirectedFrom:void 0,href:s})}let i;if("path"in e)i=a({},e,{path:f(n,e.path,r.path).path});else{const t=a({},e.params);for(const e in t)null==t[e]&&delete t[e];i=a({},e,{params:_(t)}),r.params=_(r.params)}const o=t.resolve(i,r),l=e.hash||"";o.params=w(I(o.params));const u=p(s,a({},e,{hash:Ce(l),path:o.path})),c=d.createHref(u);return a({fullPath:u,hash:l,query:s===Fe?Ve(e.query):e.query||{}},o,{redirectedFrom:void 0,href:c})}function F(e){return"string"===typeof e?f(n,e,y.value.path):a({},e)}function V(e,t){if(b!==e)return H(8,{from:t,to:e})}function M(e){return U(e)}function L(e){return M(a(F(e),{replace:!0}))}function R(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=F(r):{path:r},r.params={}),a({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function U(e,t){const n=b=O(e),r=y.value,i=e.state,o=e.force,l=!0===e.replace,u=R(n);if(u)return U(a(F(u),{state:"object"===typeof u?a({},i,u.state):i,force:o,replace:l}),t||n);const c=n;let d;return c.redirectedFrom=t,!o&&g(s,r,n)&&(d=H(16,{to:c,from:r}),re(r,r,!0,!1)),(d?Promise.resolve(d):q(c,r)).catch((e=>W(e)?W(e,2)?e:ne(e):ee(e,c,r))).then((e=>{if(e){if(W(e,2))return U(a({replace:l},F(e.to),{state:"object"===typeof e.to?a({},i,e.to.state):i,force:o}),t||c)}else e=G(c,r,!0,l,i);return Y(c,r,e),e}))}function j(e,t){const n=V(e,t);return n?Promise.reject(n):Promise.resolve()}function z(e){const t=ae.values().next().value;return t&&"function"===typeof t.runWithContext?t.runWithContext(e):e()}function q(e,t){let n;const[r,i,o]=nt(e,t);n=ze(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach((r=>{n.push($e(r,e,t))}));const s=j.bind(null,e,t);return n.push(s),ue(n).then((()=>{n=[];for(const r of h.list())n.push($e(r,e,t));return n.push(s),ue(n)})).then((()=>{n=ze(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push($e(r,e,t))}));return n.push(s),ue(n)})).then((()=>{n=[];for(const r of o)if(r.beforeEnter)if(c(r.beforeEnter))for(const i of r.beforeEnter)n.push($e(i,e,t));else n.push($e(r.beforeEnter,e,t));return n.push(s),ue(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=ze(o,"beforeRouteEnter",e,t),n.push(s),ue(n)))).then((()=>{n=[];for(const r of m.list())n.push($e(r,e,t));return n.push(s),ue(n)})).catch((e=>W(e,8)?e:Promise.reject(e)))}function Y(e,t,n){v.list().forEach((r=>z((()=>r(e,t,n)))))}function G(e,t,n,r,i){const s=V(e,t);if(s)return s;const l=t===$,u=o?history.state:{};n&&(r||l?d.replace(e.fullPath,a({scroll:l&&u&&u.scroll},i)):d.push(e.fullPath,i)),y.value=e,re(e,t,n,l),ne()}let K;function Z(){K||(K=d.listen(((e,t,n)=>{if(!le.listening)return;const r=O(e),i=R(r);if(i)return void U(a(i,{replace:!0}),r).catch(u);b=r;const s=y.value;o&&N(x(s.fullPath,n.delta),D()),q(r,s).catch((e=>W(e,12)?e:W(e,2)?(U(e.to,r).then((e=>{W(e,20)&&!n.delta&&n.type===S.pop&&d.go(-1,!1)})).catch(u),Promise.reject()):(n.delta&&d.go(-n.delta,!1),ee(e,r,s)))).then((e=>{e=e||G(r,s,!1),e&&(n.delta&&!W(e,8)?d.go(-n.delta,!1):n.type===S.pop&&W(e,20)&&d.go(-1,!1)),Y(r,s,e)})).catch(u)})))}let Q,J=Be(),X=Be();function ee(e,t,n){ne(e);const r=X.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function te(){return Q&&y.value!==$?Promise.resolve():new Promise(((e,t)=>{J.add([e,t])}))}function ne(e){return Q||(Q=!e,Z(),J.list().forEach((([t,n])=>e?n(e):t())),J.reset()),e}function re(t,n,i,s){const{scrollBehavior:a}=e;if(!o||!a)return Promise.resolve();const l=!i&&P(x(t.fullPath,0))||(s||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>a(t,n,l))).then((e=>e&&A(e))).catch((e=>ee(e,t,n)))}const oe=e=>d.go(e);let se;const ae=new Set,le={currentRoute:y,listening:!0,addRoute:k,removeRoute:T,hasRoute:C,getRoutes:E,resolve:O,options:e,push:M,replace:L,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:h.add,beforeResolve:m.add,afterEach:v.add,onError:X.add,isReady:te,install(e){const t=this;e.component("RouterLink",Ye),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(y)}),o&&!se&&y.value===$&&(se=!0,M(d.location).catch((e=>{0})));const n={};for(const i in $)Object.defineProperty(n,i,{get:()=>y.value[i],enumerable:!0});e.provide(Re,t),e.provide(Ue,(0,i.Um)(n)),e.provide(je,y);const r=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(b=$,K&&K(),K=null,y.value=$,se=!1,Q=!1),r()}}};function ue(e){return e.reduce(((e,t)=>e.then((()=>z(t)))),Promise.resolve())}return le}function nt(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>v(e,o)))?r.push(o):n.push(o));const a=e.matched[s];a&&(t.matched.find((e=>v(e,a)))||i.push(a))}return[n,r,i]}}}]);
//# sourceMappingURL=chunk-vendors.63acf05e.js.map